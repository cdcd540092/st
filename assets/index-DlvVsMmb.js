var kf=Object.defineProperty;var Tf=(l,i,a)=>i in l?kf(l,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[i]=a;var et=(l,i,a)=>Tf(l,typeof i!="symbol"?i+"":i,a);import{r as ya,g as wl,a as Nf}from"./vendor-react-CRB3T2We.js";import{R as Zu,O as Qu,P as zf,S as ml,a as Zo,V as Lf,b as Of,B as Af,N as Ff,A as jf,W as Yu,C as Df,c as Xe,d as Xu,e as Uf,f as Bf,M as Hf,L as Qo,T as qn,g as xr,U as vl,h as gl,i as Gf,j as qu,k as wa,I as Wf,l as ti,D as Ku,m as Ju,H as At,F as sn,n as gr,o as Qt,p as Vf,q as Vt,r as Zf,s as xa,t as Qf,u as Yf,v as Xf,w as Nn,x as bu,y as yl,z as qf,E as pa,G as Kf,J as Jf,K as bf,Q as $f,X as ed,Y as td,Z as nd,_ as cu,$ as rd,a0 as pl,a1 as id,a2 as ld,a3 as od,a4 as ad,a5 as sd,a6 as Jr,a7 as ud,a8 as cd,a9 as fd}from"./vendor-three-Bf9Xd_Ux.js";import{X as dd,k as pd}from"./vendor-mediapipe-BJf9tSCR.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const v of f)if(v.type==="childList")for(const d of v.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function a(f){const v={};return f.integrity&&(v.integrity=f.integrity),f.referrerPolicy&&(v.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?v.credentials="include":f.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function c(f){if(f.ep)return;f.ep=!0;const v=a(f);fetch(f.href,v)}})();var Yo={exports:{}},Zr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu;function hd(){if(fu)return Zr;fu=1;var l=ya(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function d(w,g,S){var p,m={},x=null,R=null;S!==void 0&&(x=""+S),g.key!==void 0&&(x=""+g.key),g.ref!==void 0&&(R=g.ref);for(p in g)c.call(g,p)&&!v.hasOwnProperty(p)&&(m[p]=g[p]);if(w&&w.defaultProps)for(p in g=w.defaultProps,g)m[p]===void 0&&(m[p]=g[p]);return{$$typeof:i,type:w,key:x,ref:R,props:m,_owner:f.current}}return Zr.Fragment=a,Zr.jsx=d,Zr.jsxs=d,Zr}var du;function md(){return du||(du=1,Yo.exports=hd()),Yo.exports}var P=md(),I=ya();const $u=wl(I);var al={},pu;function vd(){if(pu)return al;pu=1;var l=Nf();return al.createRoot=l.createRoot,al.hydrateRoot=l.hydrateRoot,al}var gd=vd();const yd=wl(gd);var Xo={exports:{}},In={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu;function wd(){return hu||(hu=1,In.ConcurrentRoot=1,In.ContinuousEventPriority=4,In.DefaultEventPriority=16,In.DiscreteEventPriority=1,In.IdleEventPriority=536870912,In.LegacyRoot=0),In}var mu;function xd(){return mu||(mu=1,Xo.exports=wd()),Xo.exports}var yr=xd();function Sd(l){let i;const a=new Set,c=(S,p)=>{const m=typeof S=="function"?S(i):S;if(m!==i){const x=i;i=p?m:Object.assign({},i,m),a.forEach(R=>R(i,x))}},f=()=>i,v=(S,p=f,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let x=p(i);function R(){const T=p(i);if(!m(x,T)){const F=x;S(x=T,F)}}return a.add(R),()=>a.delete(R)},g={setState:c,getState:f,subscribe:(S,p,m)=>p||m?v(S,p,m):(a.add(S),()=>a.delete(S)),destroy:()=>a.clear()};return i=l(c,f,g),g}const _d=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),vu=_d?I.useEffect:I.useLayoutEffect;function ec(l){const i=typeof l=="function"?Sd(l):l,a=(c=i.getState,f=Object.is)=>{const[,v]=I.useReducer(k=>k+1,0),d=i.getState(),w=I.useRef(d),g=I.useRef(c),S=I.useRef(f),p=I.useRef(!1),m=I.useRef();m.current===void 0&&(m.current=c(d));let x,R=!1;(w.current!==d||g.current!==c||S.current!==f||p.current)&&(x=c(d),R=!f(m.current,x)),vu(()=>{R&&(m.current=x),w.current=d,g.current=c,S.current=f,p.current=!1});const T=I.useRef(d);vu(()=>{const k=()=>{try{const L=i.getState(),O=g.current(L);S.current(m.current,O)||(w.current=L,m.current=O,v())}catch{p.current=!0,v()}},M=i.subscribe(k);return i.getState()!==T.current&&k(),M},[]);const F=R?x:m.current;return I.useDebugValue(F),F};return Object.assign(a,i),a[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const c=[a,i];return{next(){const f=c.length<=0;return{value:c.shift(),done:f}}}},a}const Ed=l=>typeof l=="object"&&typeof l.then=="function",Kn=[];function tc(l,i,a=(c,f)=>c===f){if(l===i)return!0;if(!l||!i)return!1;const c=l.length;if(i.length!==c)return!1;for(let f=0;f<c;f++)if(!a(l[f],i[f]))return!1;return!0}function nc(l,i=null,a=!1,c={}){i===null&&(i=[l]);for(const v of Kn)if(tc(i,v.keys,v.equal)){if(a)return;if(Object.prototype.hasOwnProperty.call(v,"error"))throw v.error;if(Object.prototype.hasOwnProperty.call(v,"response"))return c.lifespan&&c.lifespan>0&&(v.timeout&&clearTimeout(v.timeout),v.timeout=setTimeout(v.remove,c.lifespan)),v.response;if(!a)throw v.promise}const f={keys:i,equal:c.equal,remove:()=>{const v=Kn.indexOf(f);v!==-1&&Kn.splice(v,1)},promise:(Ed(l)?l:l(...i)).then(v=>{f.response=v,c.lifespan&&c.lifespan>0&&(f.timeout=setTimeout(f.remove,c.lifespan))}).catch(v=>f.error=v)};if(Kn.push(f),!a)throw f.promise}const Md=(l,i,a)=>nc(l,i,!1,a),Rd=(l,i,a)=>void nc(l,i,!0,a),Cd=l=>{if(l===void 0||l.length===0)Kn.splice(0,Kn.length);else{const i=Kn.find(a=>tc(l,a.keys,a.equal));i&&i.remove()}};var qo={exports:{}},Ko={exports:{}},Jo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu;function Id(){return gu||(gu=1,(function(l){function i(Q,ae){var X=Q.length;Q.push(ae);e:for(;0<X;){var pe=X-1>>>1,me=Q[pe];if(0<f(me,ae))Q[pe]=ae,Q[X]=me,X=pe;else break e}}function a(Q){return Q.length===0?null:Q[0]}function c(Q){if(Q.length===0)return null;var ae=Q[0],X=Q.pop();if(X!==ae){Q[0]=X;e:for(var pe=0,me=Q.length,xe=me>>>1;pe<xe;){var Ze=2*(pe+1)-1,tt=Q[Ze],Pe=Ze+1,st=Q[Pe];if(0>f(tt,X))Pe<me&&0>f(st,tt)?(Q[pe]=st,Q[Pe]=X,pe=Pe):(Q[pe]=tt,Q[Ze]=X,pe=Ze);else if(Pe<me&&0>f(st,X))Q[pe]=st,Q[Pe]=X,pe=Pe;else break e}}return ae}function f(Q,ae){var X=Q.sortIndex-ae.sortIndex;return X!==0?X:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;l.unstable_now=function(){return v.now()}}else{var d=Date,w=d.now();l.unstable_now=function(){return d.now()-w}}var g=[],S=[],p=1,m=null,x=3,R=!1,T=!1,F=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Q){for(var ae=a(S);ae!==null;){if(ae.callback===null)c(S);else if(ae.startTime<=Q)c(S),ae.sortIndex=ae.expirationTime,i(g,ae);else break;ae=a(S)}}function q(Q){if(F=!1,O(Q),!T)if(a(g)!==null)T=!0,ie(Z);else{var ae=a(S);ae!==null&&we(q,ae.startTime-Q)}}function Z(Q,ae){T=!1,F&&(F=!1,M(G),G=-1),R=!0;var X=x;try{for(O(ae),m=a(g);m!==null&&(!(m.expirationTime>ae)||Q&&!H());){var pe=m.callback;if(typeof pe=="function"){m.callback=null,x=m.priorityLevel;var me=pe(m.expirationTime<=ae);ae=l.unstable_now(),typeof me=="function"?m.callback=me:m===a(g)&&c(g),O(ae)}else c(g);m=a(g)}if(m!==null)var xe=!0;else{var Ze=a(S);Ze!==null&&we(q,Ze.startTime-ae),xe=!1}return xe}finally{m=null,x=X,R=!1}}var V=!1,re=null,G=-1,W=5,B=-1;function H(){return!(l.unstable_now()-B<W)}function b(){if(re!==null){var Q=l.unstable_now();B=Q;var ae=!0;try{ae=re(!0,Q)}finally{ae?se():(V=!1,re=null)}}else V=!1}var se;if(typeof L=="function")se=function(){L(b)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Se=ce.port2;ce.port1.onmessage=b,se=function(){Se.postMessage(null)}}else se=function(){k(b,0)};function ie(Q){re=Q,V||(V=!0,se())}function we(Q,ae){G=k(function(){Q(l.unstable_now())},ae)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Q){Q.callback=null},l.unstable_continueExecution=function(){T||R||(T=!0,ie(Z))},l.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Q?Math.floor(1e3/Q):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_getFirstCallbackNode=function(){return a(g)},l.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var X=x;x=ae;try{return Q()}finally{x=X}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var X=x;x=Q;try{return ae()}finally{x=X}},l.unstable_scheduleCallback=function(Q,ae,X){var pe=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?pe+X:pe):X=pe,Q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=X+me,Q={id:p++,callback:ae,priorityLevel:Q,startTime:X,expirationTime:me,sortIndex:-1},X>pe?(Q.sortIndex=X,i(S,Q),a(g)===null&&Q===a(S)&&(F?(M(G),G=-1):F=!0,we(q,X-pe))):(Q.sortIndex=me,i(g,Q),T||R||(T=!0,ie(Z))),Q},l.unstable_shouldYield=H,l.unstable_wrapCallback=function(Q){var ae=x;return function(){var X=x;x=ae;try{return Q.apply(this,arguments)}finally{x=X}}}})(Jo)),Jo}var yu;function rc(){return yu||(yu=1,Ko.exports=Id()),Ko.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo,wu;function Pd(){return wu||(wu=1,bo=function(i){var a={},c=ya(),f=rc(),v=Object.assign;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),S=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),T=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Z=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case S:return"Portal";case x:return"Profiler";case m:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function W(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function B(e){if(W(e)!==e)throw Error(d(188))}function H(e){var t=e.alternate;if(!t){if(t=W(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return B(o),e;if(s===r)return B(o),t;s=s.sibling}throw Error(d(188))}if(n.return!==r.return)n=o,r=s;else{for(var y=!1,E=o.child;E;){if(E===n){y=!0,n=o,r=s;break}if(E===r){y=!0,r=o,n=s;break}E=E.sibling}if(!y){for(E=s.child;E;){if(E===n){y=!0,n=s,r=o;break}if(E===r){y=!0,r=s,n=o;break}E=E.sibling}if(!y)throw Error(d(189))}}if(n.alternate!==r)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function b(e){return e=H(e),e!==null?se(e):null}function se(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=se(e);if(t!==null)return t;e=e.sibling}return null}function ce(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=ce(e);if(t!==null)return t}e=e.sibling}return null}var Se=Array.isArray,ie=i.getPublicInstance,we=i.getRootHostContext,Q=i.getChildHostContext,ae=i.prepareForCommit,X=i.resetAfterCommit,pe=i.createInstance,me=i.appendInitialChild,xe=i.finalizeInitialChildren,Ze=i.prepareUpdate,tt=i.shouldSetTextContent,Pe=i.createTextInstance,st=i.scheduleTimeout,Yt=i.cancelTimeout,Er=i.noTimeout,$n=i.isPrimaryRenderer,It=i.supportsMutation,er=i.supportsPersistence,vt=i.supportsHydration,ii=i.getInstanceFromNode,li=i.preparePortalMount,Sl=i.getCurrentEventPriority,_l=i.detachDeletedInstance,El=i.supportsMicrotasks,Ml=i.scheduleMicrotask,On=i.supportsTestSelectors,Rl=i.findFiberRoot,Cl=i.getBoundingRect,oi=i.getTextContent,An=i.isHiddenSubtree,Mr=i.matchAccessibilityRole,Il=i.setFocusIfFocusable,Pl=i.setupIntersectionObserver,ai=i.appendChild,tr=i.appendChildToContainer,kl=i.commitTextUpdate,Tl=i.commitMount,Nl=i.commitUpdate,Fn=i.insertBefore,gt=i.insertInContainerBefore,si=i.removeChild,yn=i.removeChildFromContainer,Et=i.resetTextContent,ut=i.hideInstance,zl=i.hideTextInstance,ue=i.unhideInstance,jn=i.unhideTextInstance,Ll=i.clearContainer,Ol=i.cloneInstance,ui=i.createContainerChildSet,ci=i.appendChildToContainerChildSet,Al=i.finalizeContainerChildren,fi=i.replaceContainerChildren,di=i.cloneHiddenInstance,pi=i.cloneHiddenTextInstance,Fl=i.canHydrateInstance,jl=i.canHydrateTextInstance,Dl=i.canHydrateSuspenseInstance,Dn=i.isSuspenseInstancePending,Rr=i.isSuspenseInstanceFallback,Un=i.registerSuspenseInstanceRetry,Xt=i.getNextHydratableSibling,ze=i.getFirstHydratableChild,hi=i.getFirstHydratableChildWithinContainer,Ul=i.getFirstHydratableChildWithinSuspenseInstance,u=i.hydrateInstance,h=i.hydrateTextInstance,_=i.hydrateSuspenseInstance,z=i.getNextHydratableInstanceAfterSuspenseInstance,j=i.commitHydratedContainer,D=i.commitHydratedSuspenseInstance,K=i.clearSuspenseBoundary,Y=i.clearSuspenseBoundaryFromContainer,te=i.shouldDeleteUnhydratedTailInstances,ee=i.didNotMatchHydratedContainerTextInstance,ne=i.didNotMatchHydratedTextInstance,$;function He(e){if($===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return`
`+$+e}var de=!1;function ve(e,t){if(!e||de)return"";de=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(J){var r=J}Reflect.construct(e,[],t)}else{try{t.call()}catch(J){r=J}e.call(t.prototype)}else{try{throw Error()}catch(J){r=J}e()}}catch(J){if(J&&r&&typeof J.stack=="string"){for(var o=J.stack.split(`
`),s=r.stack.split(`
`),y=o.length-1,E=s.length-1;1<=y&&0<=E&&o[y]!==s[E];)E--;for(;1<=y&&0<=E;y--,E--)if(o[y]!==s[E]){if(y!==1||E!==1)do if(y--,E--,0>E||o[y]!==s[E]){var U=`
`+o[y].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=y&&0<=E);break}}}finally{de=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?He(e):""}var Ee=Object.prototype.hasOwnProperty,Ce=[],Ae=-1;function Le(e){return{current:e}}function _e(e){0>Ae||(e.current=Ce[Ae],Ce[Ae]=null,Ae--)}function Ie(e,t){Ae++,Ce[Ae]=e.current,e.current=t}var Oe={},We=Le(Oe),ke=Le(!1),Qe=Oe;function yt(e,t){var n=e.type.contextTypes;if(!n)return Oe;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rt(e){return e=e.childContextTypes,e!=null}function pt(){_e(ke),_e(We)}function Be(e,t,n){if(We.current!==Oe)throw Error(d(168));Ie(We,t),Ie(ke,n)}function ot(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(d(108,G(e)||"Unknown",o));return v({},n,r)}function Ge(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oe,Qe=We.current,Ie(We,e),Ie(ke,ke.current),!0}function Fe(e,t,n){var r=e.stateNode;if(!r)throw Error(d(169));n?(e=ot(e,t,Qe),r.__reactInternalMemoizedMergedChildContext=e,_e(ke),_e(We),Ie(We,e)):_e(ke),Ie(ke,n)}var Ke=Math.clz32?Math.clz32:bt,cn=Math.log,Mt=Math.LN2;function bt(e){return e>>>=0,e===0?32:31-(cn(e)/Mt|0)|0}var mi=64,vi=4194304;function Cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,y=n&268435455;if(y!==0){var E=y&~o;E!==0?r=Cr(E):(s&=y,s!==0&&(r=Cr(s)))}else y=n&~o,y!==0?r=Cr(y):s!==0&&(r=Cr(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ke(t),o=1<<n,r|=e[n],t&=~o;return r}function Bc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var y=31-Ke(s),E=1<<y,U=o[y];U===-1?((E&n)===0||(E&r)!==0)&&(o[y]=Bc(E,t)):U<=t&&(e.expiredLanes|=E),s&=~E}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=n}function Gc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ke(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Gl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ke(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var je=0;function La(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Wl=f.unstable_scheduleCallback,Oa=f.unstable_cancelCallback,Wc=f.unstable_shouldYield,Vc=f.unstable_requestPaint,ct=f.unstable_now,Vl=f.unstable_ImmediatePriority,Zc=f.unstable_UserBlockingPriority,Zl=f.unstable_NormalPriority,Qc=f.unstable_IdlePriority,yi=null,$t=null;function Yc(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(yi,e,void 0,(e.current.flags&128)===128)}catch{}}function Xc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:Xc,fn=null,wi=!1,Ql=!1;function Aa(e){fn===null?fn=[e]:fn.push(e)}function qc(e){wi=!0,Aa(e)}function tn(){if(!Ql&&fn!==null){Ql=!0;var e=0,t=je;try{var n=fn;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,wi=!1}catch(o){throw fn!==null&&(fn=fn.slice(e+1)),Wl(Vl,tn),o}finally{je=t,Ql=!1}}return null}var Kc=w.ReactCurrentBatchConfig;function xi(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ee.call(t,o)||!en(e[o],t[o]))return!1}return!0}function Jc(e){switch(e.tag){case 5:return He(e.type);case 16:return He("Lazy");case 13:return He("Suspense");case 19:return He("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function qt(e,t){if(e&&e.defaultProps){t=v({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Si=Le(null),_i=null,nr=null,Yl=null;function Xl(){Yl=nr=_i=null}function Fa(e,t,n){$n?(Ie(Si,t._currentValue),t._currentValue=n):(Ie(Si,t._currentValue2),t._currentValue2=n)}function ql(e){var t=Si.current;_e(Si),$n?e._currentValue=t:e._currentValue2=t}function Kl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rr(e,t){_i=e,Yl=nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Lt=!0),e.firstContext=null)}function Ft(e){var t=$n?e._currentValue:e._currentValue2;if(Yl!==e)if(e={context:e,memoizedValue:t,next:null},nr===null){if(_i===null)throw Error(d(308));nr=e,_i.dependencies={lanes:0,firstContext:e}}else nr=nr.next=e;return t}var nn=null,wn=!1;function Jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t){var n=e.updateQueue;n!==null&&(n=n.shared,it!==null&&(e.mode&1)!==0&&(Ne&2)===0?(e=n.interleaved,e===null?(t.next=t,nn===null?nn=[n]:nn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(e=n.pending,e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gl(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var y={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=y:s=s.next=y,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mi(e,t,n,r){var o=e.updateQueue;wn=!1;var s=o.firstBaseUpdate,y=o.lastBaseUpdate,E=o.shared.pending;if(E!==null){o.shared.pending=null;var U=E,J=U.next;U.next=null,y===null?s=J:y.next=J,y=U;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,E=fe.lastBaseUpdate,E!==y&&(E===null?fe.firstBaseUpdate=J:E.next=J,fe.lastBaseUpdate=U))}if(s!==null){var Me=o.baseState;y=0,fe=J=U=null,E=s;do{var ye=E.lane,Ve=E.eventTime;if((r&ye)===ye){fe!==null&&(fe=fe.next={eventTime:Ve,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ge=e,_t=E;switch(ye=t,Ve=n,_t.tag){case 1:if(ge=_t.payload,typeof ge=="function"){Me=ge.call(Ve,Me,ye);break e}Me=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_t.payload,ye=typeof ge=="function"?ge.call(Ve,Me,ye):ge,ye==null)break e;Me=v({},Me,ye);break e;case 2:wn=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,ye=o.effects,ye===null?o.effects=[E]:ye.push(E))}else Ve={eventTime:Ve,lane:ye,tag:E.tag,payload:E.payload,callback:E.callback,next:null},fe===null?(J=fe=Ve,U=Me):fe=fe.next=Ve,y|=ye;if(E=E.next,E===null){if(E=o.shared.pending,E===null)break;ye=E,E=ye.next,ye.next=null,o.lastBaseUpdate=ye,o.shared.pending=null}}while(!0);if(fe===null&&(U=Me),o.baseState=U,o.firstBaseUpdate=J,o.lastBaseUpdate=fe,t=o.shared.interleaved,t!==null){o=t;do y|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);dr|=y,e.lanes=y,e.memoizedState=Me}}function Ua(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(d(191,o));o.call(r)}}}var Ba=new c.Component().refs;function bl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ri={isMounted:function(e){return(e=e._reactInternals)?W(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ct(),o=En(e),s=dn(r,o);s.payload=t,n!=null&&(s.callback=n),xn(e,s),t=Ht(e,o,r),t!==null&&Ei(t,e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ct(),o=En(e),s=dn(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),xn(e,s),t=Ht(e,o,r),t!==null&&Ei(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),r=En(e),o=dn(n,r);o.tag=2,t!=null&&(o.callback=t),xn(e,o),t=Ht(e,r,n),t!==null&&Ei(t,e,r)}};function Ha(e,t,n,r,o,s,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,y):t.prototype&&t.prototype.isPureReactComponent?!xi(n,r)||!xi(o,s):!0}function Ga(e,t,n){var r=!1,o=Oe,s=t.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(o=rt(t)?Qe:We.current,r=t.contextTypes,s=(r=r!=null)?yt(e,o):Oe),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ri,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ri.enqueueReplaceState(t,t.state,null)}function $l(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ba,Jl(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Ft(s):(s=rt(t)?Qe:We.current,o.context=yt(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(bl(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ri.enqueueReplaceState(o,o.state,null),Mi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}var ir=[],lr=0,Ci=null,Ii=0,jt=[],Dt=0,Bn=null,pn=1,hn="";function Hn(e,t){ir[lr++]=Ii,ir[lr++]=Ci,Ci=e,Ii=t}function Va(e,t,n){jt[Dt++]=pn,jt[Dt++]=hn,jt[Dt++]=Bn,Bn=e;var r=pn;e=hn;var o=32-Ke(r)-1;r&=~(1<<o),n+=1;var s=32-Ke(t)+o;if(30<s){var y=o-o%5;s=(r&(1<<y)-1).toString(32),r>>=y,o-=y,pn=1<<32-Ke(t)+o|n<<o|r,hn=s+e}else pn=1<<s|n<<o|r,hn=e}function eo(e){e.return!==null&&(Hn(e,1),Va(e,1,0))}function to(e){for(;e===Ci;)Ci=ir[--lr],ir[lr]=null,Ii=ir[--lr],ir[lr]=null;for(;e===Bn;)Bn=jt[--Dt],jt[Dt]=null,hn=jt[--Dt],jt[Dt]=null,pn=jt[--Dt],jt[Dt]=null}var Nt=null,zt=null,Je=!1,Pr=!1,Kt=null;function Za(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qa(e,t){switch(e.tag){case 5:return t=Fl(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,Nt=e,zt=ze(t),!0):!1;case 6:return t=jl(t,e.pendingProps),t!==null?(e.stateNode=t,Nt=e,zt=null,!0):!1;case 13:if(t=Dl(t),t!==null){var n=Bn!==null?{id:pn,overflow:hn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,zt=null,!0}return!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ro(e){if(Je){var t=zt;if(t){var n=t;if(!Qa(e,t)){if(no(e))throw Error(d(418));t=Xt(n);var r=Nt;t&&Qa(e,t)?Za(r,n):(e.flags=e.flags&-4097|2,Je=!1,Nt=e)}}else{if(no(e))throw Error(d(418));e.flags=e.flags&-4097|2,Je=!1,Nt=e}}}function Ya(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function kr(e){if(!vt||e!==Nt)return!1;if(!Je)return Ya(e),Je=!0,!1;if(e.tag!==3&&(e.tag!==5||te(e.type)&&!tt(e.type,e.memoizedProps))){var t=zt;if(t){if(no(e)){for(e=zt;e;)e=Xt(e);throw Error(d(418))}for(;t;)Za(e,t),t=Xt(t)}}if(Ya(e),e.tag===13){if(!vt)throw Error(d(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));zt=z(e)}else zt=Nt?Xt(e.stateNode):null;return!0}function or(){vt&&(zt=Nt=null,Pr=Je=!1)}function io(e){Kt===null?Kt=[e]:Kt.push(e)}function Tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(d(309));var r=n.stateNode}if(!r)throw Error(d(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(y){var E=o.refs;E===Ba&&(E=o.refs={}),y===null?delete E[s]:E[s]=y},t._stringRef=s,t)}if(typeof e!="string")throw Error(d(284));if(!n._owner)throw Error(d(290,e))}return e}function Pi(e,t){throw e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){var t=e._init;return t(e._payload)}function qa(e){function t(N,C){if(e){var A=N.deletions;A===null?(N.deletions=[C],N.flags|=16):A.push(C)}}function n(N,C){if(!e)return null;for(;C!==null;)t(N,C),C=C.sibling;return null}function r(N,C){for(N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function o(N,C){return N=Rn(N,C),N.index=0,N.sibling=null,N}function s(N,C,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<C?(N.flags|=2,C):A):(N.flags|=2,C)):(N.flags|=1048576,C)}function y(N){return e&&N.alternate===null&&(N.flags|=2),N}function E(N,C,A,oe){return C===null||C.tag!==6?(C=Go(A,N.mode,oe),C.return=N,C):(C=o(C,A),C.return=N,C)}function U(N,C,A,oe){var he=A.type;return he===p?fe(N,C,A.props.children,oe,A.key):C!==null&&(C.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===O&&Xa(he)===C.type)?(oe=o(C,A.props),oe.ref=Tr(N,C,A),oe.return=N,oe):(oe=ll(A.type,A.key,A.props,null,N.mode,oe),oe.ref=Tr(N,C,A),oe.return=N,oe)}function J(N,C,A,oe){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=Wo(A,N.mode,oe),C.return=N,C):(C=o(C,A.children||[]),C.return=N,C)}function fe(N,C,A,oe,he){return C===null||C.tag!==7?(C=Xn(A,N.mode,oe,he),C.return=N,C):(C=o(C,A),C.return=N,C)}function Me(N,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Go(""+C,N.mode,A),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case g:return A=ll(C.type,C.key,C.props,null,N.mode,A),A.ref=Tr(N,null,C),A.return=N,A;case S:return C=Wo(C,N.mode,A),C.return=N,C;case O:var oe=C._init;return Me(N,oe(C._payload),A)}if(Se(C)||V(C))return C=Xn(C,N.mode,A,null),C.return=N,C;Pi(N,C)}return null}function ye(N,C,A,oe){var he=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return he!==null?null:E(N,C,""+A,oe);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case g:return A.key===he?U(N,C,A,oe):null;case S:return A.key===he?J(N,C,A,oe):null;case O:return he=A._init,ye(N,C,he(A._payload),oe)}if(Se(A)||V(A))return he!==null?null:fe(N,C,A,oe,null);Pi(N,A)}return null}function Ve(N,C,A,oe,he){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return N=N.get(A)||null,E(C,N,""+oe,he);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return N=N.get(oe.key===null?A:oe.key)||null,U(C,N,oe,he);case S:return N=N.get(oe.key===null?A:oe.key)||null,J(C,N,oe,he);case O:var Te=oe._init;return Ve(N,C,A,Te(oe._payload),he)}if(Se(oe)||V(oe))return N=N.get(A)||null,fe(C,N,oe,he,null);Pi(C,oe)}return null}function ge(N,C,A,oe){for(var he=null,Te=null,Re=C,De=C=0,dt=null;Re!==null&&De<A.length;De++){Re.index>De?(dt=Re,Re=null):dt=Re.sibling;var Ue=ye(N,Re,A[De],oe);if(Ue===null){Re===null&&(Re=dt);break}e&&Re&&Ue.alternate===null&&t(N,Re),C=s(Ue,C,De),Te===null?he=Ue:Te.sibling=Ue,Te=Ue,Re=dt}if(De===A.length)return n(N,Re),Je&&Hn(N,De),he;if(Re===null){for(;De<A.length;De++)Re=Me(N,A[De],oe),Re!==null&&(C=s(Re,C,De),Te===null?he=Re:Te.sibling=Re,Te=Re);return Je&&Hn(N,De),he}for(Re=r(N,Re);De<A.length;De++)dt=Ve(Re,N,De,A[De],oe),dt!==null&&(e&&dt.alternate!==null&&Re.delete(dt.key===null?De:dt.key),C=s(dt,C,De),Te===null?he=dt:Te.sibling=dt,Te=dt);return e&&Re.forEach(function(Cn){return t(N,Cn)}),Je&&Hn(N,De),he}function _t(N,C,A,oe){var he=V(A);if(typeof he!="function")throw Error(d(150));if(A=he.call(A),A==null)throw Error(d(151));for(var Te=he=null,Re=C,De=C=0,dt=null,Ue=A.next();Re!==null&&!Ue.done;De++,Ue=A.next()){Re.index>De?(dt=Re,Re=null):dt=Re.sibling;var Cn=ye(N,Re,Ue.value,oe);if(Cn===null){Re===null&&(Re=dt);break}e&&Re&&Cn.alternate===null&&t(N,Re),C=s(Cn,C,De),Te===null?he=Cn:Te.sibling=Cn,Te=Cn,Re=dt}if(Ue.done)return n(N,Re),Je&&Hn(N,De),he;if(Re===null){for(;!Ue.done;De++,Ue=A.next())Ue=Me(N,Ue.value,oe),Ue!==null&&(C=s(Ue,C,De),Te===null?he=Ue:Te.sibling=Ue,Te=Ue);return Je&&Hn(N,De),he}for(Re=r(N,Re);!Ue.done;De++,Ue=A.next())Ue=Ve(Re,N,De,Ue.value,oe),Ue!==null&&(e&&Ue.alternate!==null&&Re.delete(Ue.key===null?De:Ue.key),C=s(Ue,C,De),Te===null?he=Ue:Te.sibling=Ue,Te=Ue);return e&&Re.forEach(function(Pf){return t(N,Pf)}),Je&&Hn(N,De),he}function Wt(N,C,A,oe){if(typeof A=="object"&&A!==null&&A.type===p&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case g:e:{for(var he=A.key,Te=C;Te!==null;){if(Te.key===he){if(he=A.type,he===p){if(Te.tag===7){n(N,Te.sibling),C=o(Te,A.props.children),C.return=N,N=C;break e}}else if(Te.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===O&&Xa(he)===Te.type){n(N,Te.sibling),C=o(Te,A.props),C.ref=Tr(N,Te,A),C.return=N,N=C;break e}n(N,Te);break}else t(N,Te);Te=Te.sibling}A.type===p?(C=Xn(A.props.children,N.mode,oe,A.key),C.return=N,N=C):(oe=ll(A.type,A.key,A.props,null,N.mode,oe),oe.ref=Tr(N,C,A),oe.return=N,N=oe)}return y(N);case S:e:{for(Te=A.key;C!==null;){if(C.key===Te)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){n(N,C.sibling),C=o(C,A.children||[]),C.return=N,N=C;break e}else{n(N,C);break}else t(N,C);C=C.sibling}C=Wo(A,N.mode,oe),C.return=N,N=C}return y(N);case O:return Te=A._init,Wt(N,C,Te(A._payload),oe)}if(Se(A))return ge(N,C,A,oe);if(V(A))return _t(N,C,A,oe);Pi(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,C!==null&&C.tag===6?(n(N,C.sibling),C=o(C,A),C.return=N,N=C):(n(N,C),C=Go(A,N.mode,oe),C.return=N,N=C),y(N)):n(N,C)}return Wt}var ar=qa(!0),Ka=qa(!1),Nr={},Ut=Le(Nr),zr=Le(Nr),sr=Le(Nr);function rn(e){if(e===Nr)throw Error(d(174));return e}function lo(e,t){Ie(sr,t),Ie(zr,e),Ie(Ut,Nr),e=we(t),_e(Ut),Ie(Ut,e)}function ur(){_e(Ut),_e(zr),_e(sr)}function Ja(e){var t=rn(sr.current),n=rn(Ut.current);t=Q(n,e.type,t),n!==t&&(Ie(zr,e),Ie(Ut,t))}function oo(e){zr.current===e&&(_e(Ut),_e(zr))}var be=Le(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Dn(n)||Rr(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function so(){for(var e=0;e<ao.length;e++){var t=ao[e];$n?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}ao.length=0}var Ti=w.ReactCurrentDispatcher,Bt=w.ReactCurrentBatchConfig,cr=0,$e=null,wt=null,ft=null,Ni=!1,Lr=!1,Or=0,bc=0;function xt(){throw Error(d(321))}function uo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function co(e,t,n,r,o,s){if(cr=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ti.current=e===null||e.memoizedState===null?nf:rf,e=n(r,o),Lr){s=0;do{if(Lr=!1,Or=0,25<=s)throw Error(d(301));s+=1,ft=wt=null,t.updateQueue=null,Ti.current=lf,e=n(r,o)}while(Lr)}if(Ti.current=Fi,t=wt!==null&&wt.next!==null,cr=0,ft=wt=$e=null,Ni=!1,t)throw Error(d(300));return e}function fo(){var e=Or!==0;return Or=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?$e.memoizedState=ft=e:ft=ft.next=e,ft}function ln(){if(wt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=ft===null?$e.memoizedState:ft.next;if(t!==null)ft=t,wt=e;else{if(e===null)throw Error(d(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},ft===null?$e.memoizedState=ft=e:ft=ft.next=e}return ft}function Gn(e,t){return typeof t=="function"?t(e):t}function zi(e){var t=ln(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var r=wt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var y=o.next;o.next=s.next,s.next=y}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var E=y=null,U=null,J=s;do{var fe=J.lane;if((cr&fe)===fe)U!==null&&(U=U.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),r=J.hasEagerState?J.eagerState:e(r,J.action);else{var Me={lane:fe,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};U===null?(E=U=Me,y=r):U=U.next=Me,$e.lanes|=fe,dr|=fe}J=J.next}while(J!==null&&J!==s);U===null?y=r:U.next=E,en(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=y,t.baseQueue=U,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,$e.lanes|=s,dr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Li(e){var t=ln(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var y=o=o.next;do s=e(s,y.action),y=y.next;while(y!==o);en(s,t.memoizedState)||(Lt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ba(){}function $a(e,t){var n=$e,r=ln(),o=t(),s=!en(r.memoizedState,o);if(s&&(r.memoizedState=o,Lt=!0),r=r.queue,Fr(ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Ar(9,ts.bind(null,n,r,o,t),void 0,null),it===null)throw Error(d(349));(cr&30)!==0||es(n,t,o)}return o}function es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ts(e,t,n,r){t.value=n,t.getSnapshot=r,rs(t)&&Ht(e,1,-1)}function ns(e,t,n){return n(function(){rs(t)&&Ht(e,1,-1)})}function rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function po(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t.queue=e,e=e.dispatch=tf.bind(null,$e,e),[t.memoizedState,e]}function Ar(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function is(){return ln().memoizedState}function Oi(e,t,n,r){var o=mn();$e.flags|=e,o.memoizedState=Ar(1|t,n,void 0,r===void 0?null:r)}function Ai(e,t,n,r){var o=ln();r=r===void 0?null:r;var s=void 0;if(wt!==null){var y=wt.memoizedState;if(s=y.destroy,r!==null&&uo(r,y.deps)){o.memoizedState=Ar(t,n,s,r);return}}$e.flags|=e,o.memoizedState=Ar(1|t,n,s,r)}function ho(e,t){return Oi(8390656,8,e,t)}function Fr(e,t){return Ai(2048,8,e,t)}function ls(e,t){return Ai(4,2,e,t)}function os(e,t){return Ai(4,4,e,t)}function as(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ss(e,t,n){return n=n!=null?n.concat([e]):null,Ai(4,4,as.bind(null,t,e),n)}function mo(){}function us(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cs(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $c(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=Bt.transition;Bt.transition={};try{e(!1),t()}finally{je=n,Bt.transition=r}}function fs(){return ln().memoizedState}function ef(e,t,n){var r=En(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ds(e)?ps(t,n):(hs(e,t,n),n=Ct(),e=Ht(e,r,n),e!==null&&ms(e,t,r))}function tf(e,t,n){var r=En(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ds(e))ps(t,o);else{hs(e,t,o);var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var y=t.lastRenderedState,E=s(y,n);if(o.hasEagerState=!0,o.eagerState=E,en(E,y))return}catch{}finally{}n=Ct(),e=Ht(e,r,n),e!==null&&ms(e,t,r)}}function ds(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function ps(e,t){Lr=Ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hs(e,t,n){it!==null&&(e.mode&1)!==0&&(Ne&2)===0?(e=t.interleaved,e===null?(n.next=n,nn===null?nn=[t]:nn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(e=t.pending,e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ms(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gl(e,n)}}var Fi={readContext:Ft,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},nf={readContext:Ft,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:ho,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oi(4194308,4,as.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ef.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:po,useDebugValue:mo,useDeferredValue:function(e){var t=po(e),n=t[0],r=t[1];return ho(function(){var o=Bt.transition;Bt.transition={};try{r(e)}finally{Bt.transition=o}},[e]),n},useTransition:function(){var e=po(!1),t=e[0];return e=$c.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,o=mn();if(Je){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),it===null)throw Error(d(349));(cr&30)!==0||es(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,ho(ns.bind(null,r,s,e),[e]),r.flags|=2048,Ar(9,ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mn(),t=it.identifierPrefix;if(Je){var n=hn,r=pn;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bc++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rf={readContext:Ft,useCallback:us,useContext:Ft,useEffect:Fr,useImperativeHandle:ss,useInsertionEffect:ls,useLayoutEffect:os,useMemo:cs,useReducer:zi,useRef:is,useState:function(){return zi(Gn)},useDebugValue:mo,useDeferredValue:function(e){var t=zi(Gn),n=t[0],r=t[1];return Fr(function(){var o=Bt.transition;Bt.transition={};try{r(e)}finally{Bt.transition=o}},[e]),n},useTransition:function(){var e=zi(Gn)[0],t=ln().memoizedState;return[e,t]},useMutableSource:ba,useSyncExternalStore:$a,useId:fs,unstable_isNewReconciler:!1},lf={readContext:Ft,useCallback:us,useContext:Ft,useEffect:Fr,useImperativeHandle:ss,useInsertionEffect:ls,useLayoutEffect:os,useMemo:cs,useReducer:Li,useRef:is,useState:function(){return Li(Gn)},useDebugValue:mo,useDeferredValue:function(e){var t=Li(Gn),n=t[0],r=t[1];return Fr(function(){var o=Bt.transition;Bt.transition={};try{r(e)}finally{Bt.transition=o}},[e]),n},useTransition:function(){var e=Li(Gn)[0],t=ln().memoizedState;return[e,t]},useMutableSource:ba,useSyncExternalStore:$a,useId:fs,unstable_isNewReconciler:!1};function vo(e,t){try{var n="",r=t;do n+=Jc(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o}}function go(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var of=typeof WeakMap=="function"?WeakMap:Map;function vs(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bi||(bi=!0,Ao=r),go(e,t)},n}function gs(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){go(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){go(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),n}function ys(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new of;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=xf.bind(null,e,t,n),t.then(e,e))}function ws(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xs(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,xn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}function on(e){e.flags|=4}function Ss(e,t){if(e!==null&&e.child===t.child)return!0;if((t.flags&16)!==0)return!1;for(e=t.child;e!==null;){if((e.flags&12854)!==0||(e.subtreeFlags&12854)!==0)return!1;e=e.sibling}return!0}var jr,Dr,ji,Di;if(It)jr=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)me(e,n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dr=function(){},ji=function(e,t,n,r,o){if(e=e.memoizedProps,e!==r){var s=t.stateNode,y=rn(Ut.current);n=Ze(s,n,e,r,o,y),(t.updateQueue=n)&&on(t)}},Di=function(e,t,n,r){n!==r&&on(t)};else if(er){jr=function(e,t,n,r){for(var o=t.child;o!==null;){if(o.tag===5){var s=o.stateNode;n&&r&&(s=di(s,o.type,o.memoizedProps,o)),me(e,s)}else if(o.tag===6)s=o.stateNode,n&&r&&(s=pi(s,o.memoizedProps,o)),me(e,s);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)s=o.child,s!==null&&(s.return=o),jr(e,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var _s=function(e,t,n,r){for(var o=t.child;o!==null;){if(o.tag===5){var s=o.stateNode;n&&r&&(s=di(s,o.type,o.memoizedProps,o)),ci(e,s)}else if(o.tag===6)s=o.stateNode,n&&r&&(s=pi(s,o.memoizedProps,o)),ci(e,s);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)s=o.child,s!==null&&(s.return=o),_s(e,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Dr=function(e,t){var n=t.stateNode;if(!Ss(e,t)){e=n.containerInfo;var r=ui(e);_s(r,t,!1,!1),n.pendingChildren=r,on(t),Al(e,r)}},ji=function(e,t,n,r,o){var s=e.stateNode,y=e.memoizedProps;if((e=Ss(e,t))&&y===r)t.stateNode=s;else{var E=t.stateNode,U=rn(Ut.current),J=null;y!==r&&(J=Ze(E,n,y,r,o,U)),e&&J===null?t.stateNode=s:(s=Ol(s,J,n,y,r,t,e,E),xe(s,n,r,o,U)&&on(t),t.stateNode=s,e?on(t):jr(s,t,!1,!1))}},Di=function(e,t,n,r){n!==r?(e=rn(sr.current),n=rn(Ut.current),t.stateNode=Pe(r,e,n,t),on(t)):t.stateNode=e.stateNode}}else Dr=function(){},ji=function(){},Di=function(){};function Ur(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function af(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return rt(t.type)&&pt(),St(t),null;case 3:return r=t.stateNode,ur(),_e(ke),_e(We),so(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kr(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kt!==null&&(Do(Kt),Kt=null))),Dr(e,t),St(t),null;case 5:oo(t),n=rn(sr.current);var o=t.type;if(e!==null&&t.stateNode!=null)ji(e,t,o,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(d(166));return St(t),null}if(e=rn(Ut.current),kr(t)){if(!vt)throw Error(d(175));e=u(t.stateNode,t.type,t.memoizedProps,n,e,t,!Pr),t.updateQueue=e,e!==null&&on(t)}else{var s=pe(o,r,n,e,t);jr(s,t,!1,!1),t.stateNode=s,xe(s,o,r,n,e)&&on(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)Di(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(d(166));if(e=rn(sr.current),n=rn(Ut.current),kr(t)){if(!vt)throw Error(d(176));if(e=t.stateNode,r=t.memoizedProps,(n=h(e,r,t,!Pr))&&(o=Nt,o!==null))switch(s=(o.mode&1)!==0,o.tag){case 3:ee(o.stateNode.containerInfo,e,r,s);break;case 5:ne(o.type,o.memoizedProps,o.stateNode,e,r,s)}n&&on(t)}else t.stateNode=Pe(r,e,n,t)}return St(t),null;case 13:if(_e(be),r=t.memoizedState,Je&&zt!==null&&(t.mode&1)!==0&&(t.flags&128)===0){for(e=zt;e;)e=Xt(e);return or(),t.flags|=98560,t}if(r!==null&&r.dehydrated!==null){if(r=kr(t),e===null){if(!r)throw Error(d(318));if(!vt)throw Error(d(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));_(e,t)}else or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;return St(t),null}return Kt!==null&&(Do(Kt),Kt=null),(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?kr(t):n=e.memoizedState!==null,r&&!n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?at===0&&(at=3):Bo())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return ur(),Dr(e,t),e===null&&li(t.stateNode.containerInfo),St(t),null;case 10:return ql(t.type._context),St(t),null;case 17:return rt(t.type)&&pt(),St(t),null;case 19:if(_e(be),o=t.memoizedState,o===null)return St(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ur(o,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=ki(e),s!==null){for(t.flags|=128,Ur(o,!1),e=s.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;r!==null;)n=r,o=e,n.flags&=14680066,s=n.alternate,s===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,o=s.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r=r.sibling;return Ie(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&ct()>Oo&&(t.flags|=128,r=!0,Ur(o,!1),t.lanes=4194304)}else{if(!r)if(e=ki(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Ur(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Je)return St(t),null}else 2*ct()-o.renderingStartTime>Oo&&n!==1073741824&&(t.flags|=128,r=!0,Ur(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(e=o.last,e!==null?e.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ct(),t.sibling=null,e=be.current,Ie(be,r?e&1|2:e&1),t):(St(t),null);case 22:case 23:return Uo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Ot&1073741824)!==0&&(St(t),It&&t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(d(156,t.tag))}var sf=w.ReactCurrentOwner,Lt=!1;function Rt(e,t,n,r){t.child=e===null?Ka(t,null,n,r):ar(t,e.child,n,r)}function Es(e,t,n,r,o){n=n.render;var s=t.ref;return rr(t,o),r=co(e,t,n,r,s,o),n=fo(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Je&&n&&eo(t),t.flags|=1,Rt(e,t,r,o),t.child)}function Ms(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Ho(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Rs(e,t,s,r,o)):(e=ll(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var y=s.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(y,r)&&e.ref===t.ref)return vn(e,t,o)}return t.flags|=1,e=Rn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Rs(e,t,n,r,o){if(e!==null&&xi(e.memoizedProps,r)&&e.ref===t.ref)if(Lt=!1,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Lt=!0);else return t.lanes=e.lanes,vn(e,t,o);return yo(e,t,n,r,o)}function Cs(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null},Ie(fr,Ot),Ot|=n;else if((n&1073741824)!==0)t.memoizedState={baseLanes:0,cachePool:null},r=s!==null?s.baseLanes:n,Ie(fr,Ot),Ot|=r;else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ie(fr,Ot),Ot|=e,null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ie(fr,Ot),Ot|=r;return Rt(e,t,o,n),t.child}function Is(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yo(e,t,n,r,o){var s=rt(n)?Qe:We.current;return s=yt(t,s),rr(t,o),n=co(e,t,n,r,s,o),r=fo(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Je&&r&&eo(t),t.flags|=1,Rt(e,t,n,o),t.child)}function Ps(e,t,n,r,o){if(rt(n)){var s=!0;Ge(t)}else s=!1;if(rr(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Ga(t,n,r),$l(t,n,r,o),r=!0;else if(e===null){var y=t.stateNode,E=t.memoizedProps;y.props=E;var U=y.context,J=n.contextType;typeof J=="object"&&J!==null?J=Ft(J):(J=rt(n)?Qe:We.current,J=yt(t,J));var fe=n.getDerivedStateFromProps,Me=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function";Me||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==r||U!==J)&&Wa(t,y,r,J),wn=!1;var ye=t.memoizedState;y.state=ye,Mi(t,r,y,o),U=t.memoizedState,E!==r||ye!==U||ke.current||wn?(typeof fe=="function"&&(bl(t,n,fe,r),U=t.memoizedState),(E=wn||Ha(t,n,E,r,ye,U,J))?(Me||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=U),y.props=r,y.state=U,y.context=J,r=E):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{y=t.stateNode,ja(e,t),E=t.memoizedProps,J=t.type===t.elementType?E:qt(t.type,E),y.props=J,Me=t.pendingProps,ye=y.context,U=n.contextType,typeof U=="object"&&U!==null?U=Ft(U):(U=rt(n)?Qe:We.current,U=yt(t,U));var Ve=n.getDerivedStateFromProps;(fe=typeof Ve=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Me||ye!==U)&&Wa(t,y,r,U),wn=!1,ye=t.memoizedState,y.state=ye,Mi(t,r,y,o);var ge=t.memoizedState;E!==Me||ye!==ge||ke.current||wn?(typeof Ve=="function"&&(bl(t,n,Ve,r),ge=t.memoizedState),(J=wn||Ha(t,n,J,r,ye,ge,U)||!1)?(fe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,ge,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,ge,U)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ge),y.props=r,y.state=ge,y.context=U,r=J):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),r=!1)}return wo(e,t,n,r,s,o)}function wo(e,t,n,r,o,s){Is(e,t);var y=(t.flags&128)!==0;if(!r&&!y)return o&&Fe(t,n,!1),vn(e,t,s);r=t.stateNode,sf.current=t;var E=y&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&y?(t.child=ar(t,e.child,null,s),t.child=ar(t,null,E,s)):Rt(e,t,E,s),t.memoizedState=r.state,o&&Fe(t,n,!0),t.child}function ks(e){var t=e.stateNode;t.pendingContext?Be(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Be(e,t.context,!1),lo(e,t.containerInfo)}function Ts(e,t,n,r,o){return or(),io(o),t.flags|=256,Rt(e,t,n,r),t.child}var Ui={dehydrated:null,treeContext:null,retryLane:0};function Bi(e){return{baseLanes:e,cachePool:null}}function Ns(e,t,n){var r=t.pendingProps,o=be.current,s=!1,y=(t.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(o&2)!==0),E?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ie(be,o&1),e===null)return ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:Rr(e)?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ol(o,r,0,null),e=Xn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Bi(n),t.memoizedState=Ui,e):xo(t,o));if(o=e.memoizedState,o!==null){if(E=o.dehydrated,E!==null){if(y)return t.flags&256?(t.flags&=-257,Hi(e,t,n,Error(d(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=ol({mode:"visible",children:r.children},o,0,null),s=Xn(s,o,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&ar(t,e.child,null,n),t.child.memoizedState=Bi(n),t.memoizedState=Ui,s);if((t.mode&1)===0)t=Hi(e,t,n,null);else if(Rr(E))t=Hi(e,t,n,Error(d(419)));else if(r=(n&e.childLanes)!==0,Lt||r){if(r=it,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ht(e,r,-1))}Bo(),t=Hi(e,t,n,Error(d(421)))}else Dn(E)?(t.flags|=128,t.child=e.child,t=Sf.bind(null,e),Un(E,t),t=null):(n=o.treeContext,vt&&(zt=Ul(E),Nt=t,Je=!0,Kt=null,Pr=!1,n!==null&&(jt[Dt++]=pn,jt[Dt++]=hn,jt[Dt++]=Bn,pn=n.id,hn=n.overflow,Bn=t)),t=xo(t,t.pendingProps.children),t.flags|=4096);return t}return s?(r=Ls(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?Bi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ui,r):(n=zs(e,t,r.children,n),t.memoizedState=null,n)}return s?(r=Ls(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?Bi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ui,r):(n=zs(e,t,r.children,n),t.memoizedState=null,n)}function xo(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zs(e,t,n,r){var o=e.child;return e=o.sibling,n=Rn(o,{mode:"visible",children:n}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ls(e,t,n,r,o){var s=t.mode;e=e.child;var y=e.sibling,E={mode:"hidden",children:n};return(s&1)===0&&t.child!==e?(n=t.child,n.childLanes=0,n.pendingProps=E,t.deletions=null):(n=Rn(e,E),n.subtreeFlags=e.subtreeFlags&14680064),y!==null?r=Rn(y,r):(r=Xn(r,s,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Hi(e,t,n,r){return r!==null&&io(r),ar(t,e.child,null,n),e=xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Os(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kl(e.return,t,n)}function So(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function As(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Rt(e,t,r.children,n),r=be.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Os(e,n,t);else if(e.tag===19)Os(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ie(be,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),So(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ki(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}So(t,!0,n,null,s);break;case"together":So(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uf(e,t,n){switch(t.tag){case 3:ks(t),or();break;case 5:Ja(t);break;case 1:rt(t.type)&&Ge(t);break;case 4:lo(t,t.stateNode.containerInfo);break;case 10:Fa(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ie(be,be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Ns(e,t,n):(Ie(be,be.current&1),e=vn(e,t,n),e!==null?e.sibling:null);Ie(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return As(e,t,n);t.flags|=128}var o=t.memoizedState;if(o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ie(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return vn(e,t,n)}function cf(e,t){switch(to(t),t.tag){case 1:return rt(t.type)&&pt(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ur(),_e(ke),_e(We),so(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return oo(t),null;case 13:if(_e(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(be),null;case 4:return ur(),null;case 10:return ql(t.type._context),null;case 22:case 23:return Uo(),null;case 24:return null;default:return null}}var Gi=!1,Wn=!1,ff=typeof WeakSet=="function"?WeakSet:Set,le=null;function Wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(e,t,r)}else n.current=null}function _o(e,t,n){try{n()}catch(r){Tt(e,t,r)}}var Fs=!1;function df(e,t){for(ae(e.containerInfo),le=t;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var n=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(n!==null){var r=n.memoizedProps,o=n.memoizedState,s=e.stateNode,y=s.getSnapshotBeforeUpdate(e.elementType===e.type?r:qt(e.type,r),o);s.__reactInternalSnapshotBeforeUpdate=y}break;case 3:It&&Ll(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(E){Tt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return n=Fs,Fs=!1,n}function Vn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&_o(t,n,s)}o=o.next}while(o!==r)}}function Br(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Eo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=ie(n);break;default:e=n}typeof t=="function"?t(e):t.current=e}}function js(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(yi,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&_o(t,n,s),r=r.next}while(r!==e)}break;case 1:if(Wi(t,n),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(y){Tt(t,n,y)}break;case 5:Wi(t,n);break;case 4:It?Ws(e,t,n):er&&er&&(t=t.stateNode.containerInfo,n=ui(t),fi(t,n))}}function Ds(e,t,n){for(var r=t;;)if(js(e,r,n),r.child===null||It&&r.tag===4){if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Us(e){var t=e.alternate;t!==null&&(e.alternate=null,Us(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_l(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bs(e){return e.tag===5||e.tag===3||e.tag===4}function Hs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gs(e){if(It){e:{for(var t=e.return;t!==null;){if(Bs(t))break e;t=t.return}throw Error(d(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,n.flags&32&&(Et(t),n.flags&=-33),n=Hs(e),Ro(e,n,t);break;case 3:case 4:t=n.stateNode.containerInfo,n=Hs(e),Mo(e,n,t);break;default:throw Error(d(161))}}}function Mo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?gt(n,e,t):tr(n,e);else if(r!==4&&(e=e.child,e!==null))for(Mo(e,t,n),e=e.sibling;e!==null;)Mo(e,t,n),e=e.sibling}function Ro(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?Fn(n,e,t):ai(n,e);else if(r!==4&&(e=e.child,e!==null))for(Ro(e,t,n),e=e.sibling;e!==null;)Ro(e,t,n),e=e.sibling}function Ws(e,t,n){for(var r=t,o=!1,s,y;;){if(!o){o=r.return;e:for(;;){if(o===null)throw Error(d(160));switch(s=o.stateNode,o.tag){case 5:y=!1;break e;case 3:s=s.containerInfo,y=!0;break e;case 4:s=s.containerInfo,y=!0;break e}o=o.return}o=!0}if(r.tag===5||r.tag===6)Ds(e,r,n),y?yn(s,r.stateNode):si(s,r.stateNode);else if(r.tag===18)y?Y(s,r.stateNode):K(s,r.stateNode);else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,y=!0,r.child.return=r,r=r.child;continue}}else if(js(e,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function Co(e,t){if(It){switch(t.tag){case 0:case 11:case 14:case 15:Vn(3,t,t.return),Br(3,t),Vn(5,t,t.return);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var r=t.memoizedProps;e=e!==null?e.memoizedProps:r;var o=t.type,s=t.updateQueue;t.updateQueue=null,s!==null&&Nl(n,s,o,e,r,t)}return;case 6:if(t.stateNode===null)throw Error(d(162));n=t.memoizedProps,kl(t.stateNode,e!==null?e.memoizedProps:n,n);return;case 3:vt&&e!==null&&e.memoizedState.isDehydrated&&j(t.stateNode.containerInfo);return;case 12:return;case 13:Vi(t);return;case 19:Vi(t);return;case 17:return}throw Error(d(163))}switch(t.tag){case 0:case 11:case 14:case 15:Vn(3,t,t.return),Br(3,t),Vn(5,t,t.return);return;case 12:return;case 13:Vi(t);return;case 19:Vi(t);return;case 3:vt&&e!==null&&e.memoizedState.isDehydrated&&j(t.stateNode.containerInfo);break;case 22:case 23:return}e:if(er){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,fi(t.containerInfo,t.pendingChildren);break e}throw Error(d(163))}}function Vi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ff),t.forEach(function(r){var o=_f.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function pf(e,t){for(le=t;le!==null;){t=le;var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e;It?Ws(s,o,t):Ds(s,o,t);var y=o.alternate;y!==null&&(y.return=null),o.return=null}catch(he){Tt(o,t,he)}}if(n=t.child,(t.subtreeFlags&12854)!==0&&n!==null)n.return=t,le=n;else for(;le!==null;){t=le;try{var E=t.flags;if(E&32&&It&&Et(t.stateNode),E&512){var U=t.alternate;if(U!==null){var J=U.ref;J!==null&&(typeof J=="function"?J(null):J.current=null)}}if(E&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var fe=t.alternate;(fe===null||fe.memoizedState===null)&&(Lo=ct())}break;case 22:var Me=t.memoizedState!==null,ye=t.alternate,Ve=ye!==null&&ye.memoizedState!==null;if(n=t,It){e:if(r=n,o=Me,s=null,It)for(var ge=r;;){if(ge.tag===5){if(s===null){s=ge;var _t=ge.stateNode;o?ut(_t):ue(ge.stateNode,ge.memoizedProps)}}else if(ge.tag===6){if(s===null){var Wt=ge.stateNode;o?zl(Wt):jn(Wt,ge.memoizedProps)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===r)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===r)break;for(;ge.sibling===null;){if(ge.return===null||ge.return===r)break e;s===ge&&(s=null),ge=ge.return}s===ge&&(s=null),ge.sibling.return=ge.return,ge=ge.sibling}}if(Me&&!Ve&&(n.mode&1)!==0){le=n;for(var N=n.child;N!==null;){for(n=le=N;le!==null;){r=le;var C=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Vn(4,r,r.return);break;case 1:Wi(r,r.return);var A=r.stateNode;if(typeof A.componentWillUnmount=="function"){var oe=r.return;try{A.props=r.memoizedProps,A.state=r.memoizedState,A.componentWillUnmount()}catch(he){Tt(r,oe,he)}}break;case 5:Wi(r,r.return);break;case 22:if(r.memoizedState!==null){Qs(n);continue}}C!==null?(C.return=r,le=C):Qs(n)}N=N.sibling}}}switch(E&4102){case 2:Gs(t),t.flags&=-3;break;case 6:Gs(t),t.flags&=-3,Co(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Co(t.alternate,t);break;case 4:Co(t.alternate,t)}}catch(he){Tt(t,t.return,he)}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}}function hf(e,t,n){le=e,Vs(e)}function Vs(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var o=le,s=o.child;if(o.tag===22&&r){var y=o.memoizedState!==null||Gi;if(!y){var E=o.alternate,U=E!==null&&E.memoizedState!==null||Wn;E=Gi;var J=Wn;if(Gi=y,(Wn=U)&&!J)for(le=o;le!==null;)y=le,U=y.child,y.tag===22&&y.memoizedState!==null?Ys(o):U!==null?(U.return=y,le=U):Ys(o);for(;s!==null;)le=s,Vs(s),s=s.sibling;le=o,Gi=E,Wn=J}Zs(e)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,le=s):Zs(e)}}function Zs(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Wn||Br(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ua(t,s,r);break;case 3:var y=t.updateQueue;if(y!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=ie(t.child.stateNode);break;case 1:n=t.child.stateNode}Ua(t,y,n)}break;case 5:var E=t.stateNode;n===null&&t.flags&4&&Tl(E,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(vt&&t.memoizedState===null){var U=t.alternate;if(U!==null){var J=U.memoizedState;if(J!==null){var fe=J.dehydrated;fe!==null&&D(fe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(d(163))}Wn||t.flags&512&&Eo(t)}catch(Me){Tt(t,t.return,Me)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function Qs(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Ys(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Br(4,t)}catch(U){Tt(t,n,U)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(U){Tt(t,o,U)}}var s=t.return;try{Eo(t)}catch(U){Tt(t,s,U)}break;case 5:var y=t.return;try{Eo(t)}catch(U){Tt(t,y,U)}}}catch(U){Tt(t,t.return,U)}if(t===e){le=null;break}var E=t.sibling;if(E!==null){E.return=t.return,le=E;break}le=t.return}}var Zi=0,Qi=1,Yi=2,Xi=3,qi=4;if(typeof Symbol=="function"&&Symbol.for){var Hr=Symbol.for;Zi=Hr("selector.component"),Qi=Hr("selector.has_pseudo_class"),Yi=Hr("selector.role"),Xi=Hr("selector.test_id"),qi=Hr("selector.text")}function Io(e){var t=ii(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(d(364));return t}if(e=Rl(e),e===null)throw Error(d(362));return e.stateNode.current}function Po(e,t){switch(t.$$typeof){case Zi:if(e.type===t.value)return!0;break;case Qi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],o=e[n++],s=t[o];if(r.tag!==5||!An(r)){for(;s!=null&&Po(r,s);)o++,s=t[o];if(o===t.length){t=!0;break e}else for(r=r.child;r!==null;)e.push(r,o),r=r.sibling}}t=!1}return t;case Yi:if(e.tag===5&&Mr(e.stateNode,t.value))return!0;break;case qi:if((e.tag===5||e.tag===6)&&(e=oi(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Xi:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(d(365))}return!1}function ko(e){switch(e.$$typeof){case Zi:return"<"+(re(e.value)||"Unknown")+">";case Qi:return":has("+(ko(e)||"")+")";case Yi:return'[role="'+e.value+'"]';case qi:return'"'+e.value+'"';case Xi:return'[data-testname="'+e.value+'"]';default:throw Error(d(365))}}function Xs(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var o=e[r++],s=e[r++],y=t[s];if(o.tag!==5||!An(o)){for(;y!=null&&Po(o,y);)s++,y=t[s];if(s===t.length)n.push(o);else for(o=o.child;o!==null;)e.push(o,s),o=o.sibling}}return n}function To(e,t){if(!On)throw Error(d(363));e=Io(e),e=Xs(e,t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(r.tag===5)An(r)||t.push(r.stateNode);else for(r=r.child;r!==null;)e.push(r),r=r.sibling}return t}var mf=Math.ceil,Ki=w.ReactCurrentDispatcher,No=w.ReactCurrentOwner,nt=w.ReactCurrentBatchConfig,Ne=0,it=null,lt=null,ht=0,Ot=0,fr=Le(0),at=0,Gr=null,dr=0,Ji=0,zo=0,Wr=null,Pt=null,Lo=0,Oo=1/0;function pr(){Oo=ct()+500}var bi=!1,Ao=null,Sn=null,$i=!1,_n=null,el=0,Vr=0,Fo=null,tl=-1,nl=0;function Ct(){return(Ne&6)!==0?ct():tl!==-1?tl:tl=ct()}function En(e){return(e.mode&1)===0?1:(Ne&2)!==0&&ht!==0?ht&-ht:Kc.transition!==null?(nl===0&&(e=mi,mi<<=1,(mi&4194240)===0&&(mi=64),nl=e),nl):(e=je,e!==0?e:Sl())}function Ht(e,t,n){if(50<Vr)throw Vr=0,Fo=null,Error(d(185));var r=rl(e,t);return r===null?null:(Ir(r,t,n),((Ne&2)===0||r!==it)&&(r===it&&((Ne&2)===0&&(Ji|=t),at===4&&Mn(r,ht)),kt(r,n),t===1&&Ne===0&&(e.mode&1)===0&&(pr(),wi&&tn())),r)}function rl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function kt(e,t){var n=e.callbackNode;Hc(e,t);var r=gi(e,e===it?ht:0);if(r===0)n!==null&&Oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Oa(n),t===1)e.tag===0?qc(Ks.bind(null,e)):Aa(Ks.bind(null,e)),El?Ml(function(){Ne===0&&tn()}):Wl(Vl,tn),n=null;else{switch(La(r)){case 1:n=Vl;break;case 4:n=Zc;break;case 16:n=Zl;break;case 536870912:n=Qc;break;default:n=Zl}n=lu(n,qs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qs(e,t){if(tl=-1,nl=0,(Ne&6)!==0)throw Error(d(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var r=gi(e,e===it?ht:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=il(e,r);else{t=r;var o=Ne;Ne|=2;var s=$s();(it!==e||ht!==t)&&(pr(),Zn(e,t));do try{yf();break}catch(E){bs(e,E)}while(!0);Xl(),Ki.current=s,Ne=o,lt!==null?t=0:(it=null,ht=0,t=at)}if(t!==0){if(t===2&&(o=Bl(e),o!==0&&(r=o,t=jo(e,o))),t===1)throw n=Gr,Zn(e,0),Mn(e,r),kt(e,ct()),n;if(t===6)Mn(e,r);else{if(o=e.current.alternate,(r&30)===0&&!vf(o)&&(t=il(e,r),t===2&&(s=Bl(e),s!==0&&(r=s,t=jo(e,s))),t===1))throw n=Gr,Zn(e,0),Mn(e,r),kt(e,ct()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(d(345));case 2:Qn(e,Pt);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=Lo+500-ct(),10<t)){if(gi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=st(Qn.bind(null,e,Pt),t);break}Qn(e,Pt);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var y=31-Ke(r);s=1<<y,y=t[y],y>o&&(o=y),r&=~s}if(r=o,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mf(r/1960))-r,10<r){e.timeoutHandle=st(Qn.bind(null,e,Pt),r);break}Qn(e,Pt);break;case 5:Qn(e,Pt);break;default:throw Error(d(329))}}}return kt(e,ct()),e.callbackNode===n?qs.bind(null,e):null}function jo(e,t){var n=Wr;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=il(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&Do(t)),e}function Do(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function vf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!en(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~zo,t&=~Ji,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ke(t),r=1<<n;e[n]=-1,t&=~r}}function Ks(e){if((Ne&6)!==0)throw Error(d(327));Yn();var t=gi(e,0);if((t&1)===0)return kt(e,ct()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Bl(e);r!==0&&(t=r,n=jo(e,r))}if(n===1)throw n=Gr,Zn(e,0),Mn(e,t),kt(e,ct()),n;if(n===6)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qn(e,Pt),kt(e,ct()),null}function Js(e){_n!==null&&_n.tag===0&&(Ne&6)===0&&Yn();var t=Ne;Ne|=1;var n=nt.transition,r=je;try{if(nt.transition=null,je=1,e)return e()}finally{je=r,nt.transition=n,Ne=t,(Ne&6)===0&&tn()}}function Uo(){Ot=fr.current,_e(fr)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Er&&(e.timeoutHandle=Er,Yt(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(to(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pt();break;case 3:ur(),_e(ke),_e(We),so();break;case 5:oo(r);break;case 4:ur();break;case 13:_e(be);break;case 19:_e(be);break;case 10:ql(r.type._context);break;case 22:case 23:Uo()}n=n.return}if(it=e,lt=e=Rn(e.current,null),ht=Ot=t,at=0,Gr=null,zo=Ji=dr=0,Pt=Wr=null,nn!==null){for(t=0;t<nn.length;t++)if(n=nn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var y=s.next;s.next=o,r.next=y}n.pending=r}nn=null}return e}function bs(e,t){do{var n=lt;try{if(Xl(),Ti.current=Fi,Ni){for(var r=$e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ni=!1}if(cr=0,ft=wt=$e=null,Lr=!1,Or=0,No.current=null,n===null||n.return===null){at=1,Gr=t,lt=null;break}e:{var s=e,y=n.return,E=n,U=t;if(t=ht,E.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var J=U,fe=E,Me=fe.tag;if((fe.mode&1)===0&&(Me===0||Me===11||Me===15)){var ye=fe.alternate;ye?(fe.updateQueue=ye.updateQueue,fe.memoizedState=ye.memoizedState,fe.lanes=ye.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Ve=ws(y);if(Ve!==null){Ve.flags&=-257,xs(Ve,y,E,s,t),Ve.mode&1&&ys(s,J,t),t=Ve,U=J;var ge=t.updateQueue;if(ge===null){var _t=new Set;_t.add(U),t.updateQueue=_t}else ge.add(U);break e}else{if((t&1)===0){ys(s,J,t),Bo();break e}U=Error(d(426))}}else if(Je&&E.mode&1){var Wt=ws(y);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),xs(Wt,y,E,s,t),io(U);break e}}s=U,at!==4&&(at=2),Wr===null?Wr=[s]:Wr.push(s),U=vo(U,E),E=y;do{switch(E.tag){case 3:E.flags|=65536,t&=-t,E.lanes|=t;var N=vs(E,U,t);Da(E,N);break e;case 1:s=U;var C=E.type,A=E.stateNode;if((E.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Sn===null||!Sn.has(A)))){E.flags|=65536,t&=-t,E.lanes|=t;var oe=gs(E,s,t);Da(E,oe);break e}}E=E.return}while(E!==null)}tu(n)}catch(he){t=he,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function $s(){var e=Ki.current;return Ki.current=Fi,e===null?Fi:e}function Bo(){(at===0||at===3||at===2)&&(at=4),it===null||(dr&268435455)===0&&(Ji&268435455)===0||Mn(it,ht)}function il(e,t){var n=Ne;Ne|=2;var r=$s();it===e&&ht===t||Zn(e,t);do try{gf();break}catch(o){bs(e,o)}while(!0);if(Xl(),Ne=n,Ki.current=r,lt!==null)throw Error(d(261));return it=null,ht=0,at}function gf(){for(;lt!==null;)eu(lt)}function yf(){for(;lt!==null&&!Wc();)eu(lt)}function eu(e){var t=iu(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?tu(e):lt=t,No.current=null}function tu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=af(n,t,Ot),n!==null){lt=n;return}}else{if(n=cf(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,lt=null;return}}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);at===0&&(at=5)}function Qn(e,t){var n=je,r=nt.transition;try{nt.transition=null,je=1,wf(e,t,n)}finally{nt.transition=r,je=n}return null}function wf(e,t,n){do Yn();while(_n!==null);if((Ne&6)!==0)throw Error(d(327));var r=e.finishedWork,o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Gc(e,s),e===it&&(lt=it=null,ht=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||$i||($i=!0,lu(Zl,function(){return Yn(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=nt.transition,nt.transition=null;var y=je;je=1;var E=Ne;Ne|=4,No.current=null,df(e,r),pf(e,r),X(e.containerInfo),e.current=r,hf(r),Vc(),Ne=E,je=y,nt.transition=s}else e.current=r;if($i&&($i=!1,_n=e,el=o),s=e.pendingLanes,s===0&&(Sn=null),Yc(r.stateNode),kt(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(bi)throw bi=!1,e=Ao,Ao=null,e;return(el&1)!==0&&e.tag!==0&&Yn(),s=e.pendingLanes,(s&1)!==0?e===Fo?Vr++:(Vr=0,Fo=e):Vr=0,tn(),null}function Yn(){if(_n!==null){var e=La(el),t=nt.transition,n=je;try{if(nt.transition=null,je=16>e?16:e,_n===null)var r=!1;else{if(e=_n,_n=null,el=0,(Ne&6)!==0)throw Error(d(331));var o=Ne;for(Ne|=4,le=e.current;le!==null;){var s=le,y=s.child;if((le.flags&16)!==0){var E=s.deletions;if(E!==null){for(var U=0;U<E.length;U++){var J=E[U];for(le=J;le!==null;){var fe=le;switch(fe.tag){case 0:case 11:case 15:Vn(8,fe,s)}var Me=fe.child;if(Me!==null)Me.return=fe,le=Me;else for(;le!==null;){fe=le;var ye=fe.sibling,Ve=fe.return;if(Us(fe),fe===J){le=null;break}if(ye!==null){ye.return=Ve,le=ye;break}le=Ve}}}var ge=s.alternate;if(ge!==null){var _t=ge.child;if(_t!==null){ge.child=null;do{var Wt=_t.sibling;_t.sibling=null,_t=Wt}while(_t!==null)}}le=s}}if((s.subtreeFlags&2064)!==0&&y!==null)y.return=s,le=y;else e:for(;le!==null;){if(s=le,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Vn(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,le=N;break e}le=s.return}}var C=e.current;for(le=C;le!==null;){y=le;var A=y.child;if((y.subtreeFlags&2064)!==0&&A!==null)A.return=y,le=A;else e:for(y=C;le!==null;){if(E=le,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Br(9,E)}}catch(he){Tt(E,E.return,he)}if(E===y){le=null;break e}var oe=E.sibling;if(oe!==null){oe.return=E.return,le=oe;break e}le=E.return}}if(Ne=o,tn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(yi,e)}catch{}r=!0}return r}finally{je=n,nt.transition=t}}return!1}function nu(e,t,n){t=vo(n,t),t=vs(e,t,1),xn(e,t),t=Ct(),e=rl(e,1),e!==null&&(Ir(e,1,t),kt(e,t))}function Tt(e,t,n){if(e.tag===3)nu(e,e,n);else for(;t!==null;){if(t.tag===3){nu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=vo(n,e),e=gs(t,e,1),xn(t,e),e=Ct(),t=rl(t,1),t!==null&&(Ir(t,1,e),kt(t,e));break}}t=t.return}}function xf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(ht&n)===n&&(at===4||at===3&&(ht&130023424)===ht&&500>ct()-Lo?Zn(e,0):zo|=n),kt(e,t)}function ru(e,t){t===0&&((e.mode&1)===0?t=1:(t=vi,vi<<=1,(vi&130023424)===0&&(vi=4194304)));var n=Ct();e=rl(e,t),e!==null&&(Ir(e,t,n),kt(e,n))}function Sf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ru(e,n)}function _f(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(d(314))}r!==null&&r.delete(t),ru(e,n)}var iu;iu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ke.current)Lt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Lt=!1,uf(e,t,n);Lt=(e.flags&131072)!==0}else Lt=!1,Je&&(t.flags&1048576)!==0&&Va(t,Ii,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var o=yt(t,We.current);rr(t,n),o=co(null,t,r,e,o,n);var s=fo();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(s=!0,Ge(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Jl(t),o.updater=Ri,t.stateNode=o,o._reactInternals=t,$l(t,r,e,n),t=wo(null,t,r,!0,s,n)):(t.tag=0,Je&&s&&eo(t),Rt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Mf(r),e=qt(r,e),o){case 0:t=yo(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Ms(null,t,r,qt(r.type,e),n);break e}throw Error(d(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),yo(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),Ps(e,t,r,o,n);case 3:e:{if(ks(t),e===null)throw Error(d(387));r=t.pendingProps,s=t.memoizedState,o=s.element,ja(e,t),Mi(t,r,null,n);var y=t.memoizedState;if(r=y.element,vt&&s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:y.cache,transitions:y.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Error(d(423)),t=Ts(e,t,r,n,o);break e}else if(r!==o){o=Error(d(424)),t=Ts(e,t,r,n,o);break e}else for(vt&&(zt=hi(t.stateNode.containerInfo),Nt=t,Je=!0,Kt=null,Pr=!1),n=Ka(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===o){t=vn(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),e===null&&ro(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,y=o.children,tt(r,o)?y=null:s!==null&&tt(r,s)&&(t.flags|=32),Is(e,t),Rt(e,t,y,n),t.child;case 6:return e===null&&ro(t),null;case 13:return Ns(e,t,n);case 4:return lo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ar(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),Es(e,t,r,o,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,y=o.value,Fa(t,r,y),s!==null)if(en(s.value,y)){if(s.children===o.children&&!ke.current){t=vn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var E=s.dependencies;if(E!==null){y=s.child;for(var U=E.firstContext;U!==null;){if(U.context===r){if(s.tag===1){U=dn(-1,n&-n),U.tag=2;var J=s.updateQueue;if(J!==null){J=J.shared;var fe=J.pending;fe===null?U.next=U:(U.next=fe.next,fe.next=U),J.pending=U}}s.lanes|=n,U=s.alternate,U!==null&&(U.lanes|=n),Kl(s.return,n,t),E.lanes|=n;break}U=U.next}}else if(s.tag===10)y=s.type===t.type?null:s.child;else if(s.tag===18){if(y=s.return,y===null)throw Error(d(341));y.lanes|=n,E=y.alternate,E!==null&&(E.lanes|=n),Kl(y,n,t),y=s.sibling}else y=s.child;if(y!==null)y.return=s;else for(y=s;y!==null;){if(y===t){y=null;break}if(s=y.sibling,s!==null){s.return=y.return,y=s;break}y=y.return}s=y}Rt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,rr(t,n),o=Ft(o),r=r(o),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return r=t.type,o=qt(r,t.pendingProps),o=qt(r.type,o),Ms(e,t,r,o,n);case 15:return Rs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,rt(r)?(e=!0,Ge(t)):e=!1,rr(t,n),Ga(t,r,o),$l(t,r,o,n),wo(null,t,r,!0,e,n);case 19:return As(e,t,n);case 22:return Cs(e,t,n)}throw Error(d(156,t.tag))};function lu(e,t){return Wl(e,t)}function Ef(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new Ef(e,t,n,r)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mf(e){if(typeof e=="function")return Ho(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F)return 11;if(e===L)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,o,s){var y=2;if(r=e,typeof e=="function")Ho(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case p:return Xn(n.children,o,s,t);case m:y=8,o|=8;break;case x:return e=Gt(12,n,t,o|2),e.elementType=x,e.lanes=s,e;case k:return e=Gt(13,n,t,o),e.elementType=k,e.lanes=s,e;case M:return e=Gt(19,n,t,o),e.elementType=M,e.lanes=s,e;case q:return ol(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:y=10;break e;case T:y=9;break e;case F:y=11;break e;case L:y=14;break e;case O:y=16,r=null;break e}throw Error(d(130,e==null?e:typeof e,""))}return t=Gt(y,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Xn(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function ol(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=q,e.lanes=n,e.stateNode={},e}function Go(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function Wo(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rf(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Er,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=r,this.onRecoverableError=o,vt&&(this.mutableSourceEagerHydrationData=null)}function ou(e,t,n,r,o,s,y,E,U){return e=new Rf(e,t,n,E,U),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Gt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Jl(s),e}function au(e){if(!e)return Oe;e=e._reactInternals;e:{if(W(e)!==e||e.tag!==1)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(d(171))}if(e.tag===1){var n=e.type;if(rt(n))return ot(e,n,t)}return t}function su(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=b(t),e===null?null:e.stateNode}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vo(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function Cf(e){return e=b(e),e===null?null:e.stateNode}function If(){return null}return a.attemptContinuousHydration=function(e){if(e.tag===13){var t=Ct();Ht(e,134217728,t),Vo(e,134217728)}},a.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=Ct(),n=En(e);Ht(e,n,t),Vo(e,n)}},a.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cr(t.pendingLanes);n!==0&&(Gl(t,n|1),kt(t,ct()),(Ne&6)===0&&(pr(),tn()))}break;case 13:var r=Ct();Js(function(){return Ht(e,1,r)}),Vo(e,1)}},a.batchedUpdates=function(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(pr(),wi&&tn())}},a.createComponentSelector=function(e){return{$$typeof:Zi,value:e}},a.createContainer=function(e,t,n,r,o,s,y){return ou(e,t,!1,null,n,r,o,s,y)},a.createHasPseudoClassSelector=function(e){return{$$typeof:Qi,value:e}},a.createHydrationContainer=function(e,t,n,r,o,s,y,E,U){return e=ou(n,r,!0,e,o,s,y,E,U),e.context=au(null),n=e.current,r=Ct(),o=En(n),s=dn(r,o),s.callback=t??null,xn(n,s),e.current.lanes=o,Ir(e,o,r),kt(e,r),e},a.createPortal=function(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}},a.createRoleSelector=function(e){return{$$typeof:Yi,value:e}},a.createTestNameSelector=function(e){return{$$typeof:Xi,value:e}},a.createTextSelector=function(e){return{$$typeof:qi,value:e}},a.deferredUpdates=function(e){var t=je,n=nt.transition;try{return nt.transition=null,je=16,e()}finally{je=t,nt.transition=n}},a.discreteUpdates=function(e,t,n,r,o){var s=je,y=nt.transition;try{return nt.transition=null,je=1,e(t,n,r,o)}finally{je=s,nt.transition=y,Ne===0&&pr()}},a.findAllNodes=To,a.findBoundingRects=function(e,t){if(!On)throw Error(d(363));t=To(e,t),e=[];for(var n=0;n<t.length;n++)e.push(Cl(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,o=r+n.width,s=n.y,y=s+n.height,E=t-1;0<=E;E--)if(t!==E){var U=e[E],J=U.x,fe=J+U.width,Me=U.y,ye=Me+U.height;if(r>=J&&s>=Me&&o<=fe&&y<=ye){e.splice(t,1);break}else if(r!==J||n.width!==U.width||ye<s||Me>y){if(!(s!==Me||n.height!==U.height||fe<r||J>o)){J>r&&(U.width+=J-r,U.x=r),fe<o&&(U.width=o-J),e.splice(t,1);break}}else{Me>s&&(U.height+=Me-s,U.y=s),ye<y&&(U.height=y-Me),e.splice(t,1);break}}}return e},a.findHostInstance=su,a.findHostInstanceWithNoPortals=function(e){return e=H(e),e=e!==null?ce(e):null,e===null?null:e.stateNode},a.findHostInstanceWithWarning=function(e){return su(e)},a.flushControlled=function(e){var t=Ne;Ne|=1;var n=nt.transition,r=je;try{nt.transition=null,je=1,e()}finally{je=r,nt.transition=n,Ne=t,Ne===0&&(pr(),tn())}},a.flushPassiveEffects=Yn,a.flushSync=Js,a.focusWithin=function(e,t){if(!On)throw Error(d(363));for(e=Io(e),t=Xs(e,t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!An(n)){if(n.tag===5&&Il(n.stateNode))return!0;for(n=n.child;n!==null;)t.push(n),n=n.sibling}}return!1},a.getCurrentUpdatePriority=function(){return je},a.getFindAllNodesFailureDescription=function(e,t){if(!On)throw Error(d(363));var n=0,r=[];e=[Io(e),0];for(var o=0;o<e.length;){var s=e[o++],y=e[o++],E=t[y];if((s.tag!==5||!An(s))&&(Po(s,E)&&(r.push(ko(E)),y++,y>n&&(n=y)),y<t.length))for(s=s.child;s!==null;)e.push(s,y),s=s.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(ko(t[n]));return`findAllNodes was able to match part of the selector:
  `+(r.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},a.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return ie(e.child.stateNode);default:return e.child.stateNode}},a.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:Cf,findFiberByHostInstance:e.findFiberByHostInstance||If,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{yi=t.inject(e),$t=t}catch{}e=!!t.checkDCE}}return e},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(e,t,n,r){if(!On)throw Error(d(363));e=To(e,t);var o=Pl(e,n,r).disconnect;return{disconnect:function(){o()}}},a.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},a.runWithPriority=function(e,t){var n=je;try{return je=e,t()}finally{je=n}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(e,t,n,r){var o=t.current,s=Ct(),y=En(o);return n=au(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(s,y),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),xn(o,t),e=Ht(o,y,s),e!==null&&Ei(e,o,y),y},a}),bo}var xu;function kd(){return xu||(xu=1,qo.exports=Pd()),qo.exports}var Td=kd();const Nd=wl(Td);var Su=rc();const Sa={},_a=l=>void Object.assign(Sa,l);function zd(l,i){function a(p,{args:m=[],attach:x,...R},T){let F=`${p[0].toUpperCase()}${p.slice(1)}`,k;if(p==="primitive"){if(R.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const M=R.object;k=mr(M,{type:p,root:T,attach:x,primitive:!0})}else{const M=Sa[F];if(!M)throw new Error(`R3F: ${F} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");k=mr(new M(...m),{type:p,root:T,attach:x,memoizedProps:{args:m}})}return k.__r3f.attach===void 0&&(k instanceof Bf?k.__r3f.attach="geometry":k instanceof Hf&&(k.__r3f.attach="material")),F!=="inject"&&ta(k,R),k}function c(p,m){let x=!1;if(m){var R,T;(R=m.__r3f)!=null&&R.attach?ea(p,m,m.__r3f.attach):m.isObject3D&&p.isObject3D&&(p.add(m),x=!0),x||(T=p.__r3f)==null||T.objects.push(m),m.__r3f||mr(m,{}),m.__r3f.parent=p,ma(m),vr(m)}}function f(p,m,x){let R=!1;if(m){var T,F;if((T=m.__r3f)!=null&&T.attach)ea(p,m,m.__r3f.attach);else if(m.isObject3D&&p.isObject3D){m.parent=p,m.dispatchEvent({type:"added"}),p.dispatchEvent({type:"childadded",child:m});const k=p.children.filter(L=>L!==m),M=k.indexOf(x);p.children=[...k.slice(0,M),m,...k.slice(M)],R=!0}R||(F=p.__r3f)==null||F.objects.push(m),m.__r3f||mr(m,{}),m.__r3f.parent=p,ma(m),vr(m)}}function v(p,m,x=!1){p&&[...p].forEach(R=>d(m,R,x))}function d(p,m,x){if(m){var R,T,F;if(m.__r3f&&(m.__r3f.parent=null),(R=p.__r3f)!=null&&R.objects&&(p.__r3f.objects=p.__r3f.objects.filter(q=>q!==m)),(T=m.__r3f)!=null&&T.attach)Cu(p,m,m.__r3f.attach);else if(m.isObject3D&&p.isObject3D){var k;p.remove(m),(k=m.__r3f)!=null&&k.root&&Ud(hl(m),m)}const L=(F=m.__r3f)==null?void 0:F.primitive,O=!L&&(x===void 0?m.dispose!==null:x);if(!L){var M;v((M=m.__r3f)==null?void 0:M.objects,m,O),v(m.children,m,O)}if(delete m.__r3f,O&&m.dispose&&m.type!=="Scene"){const q=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Su.unstable_scheduleCallback(Su.unstable_IdlePriority,q):q()}vr(p)}}function w(p,m,x,R){var T;const F=(T=p.__r3f)==null?void 0:T.parent;if(!F)return;const k=a(m,x,p.__r3f.root);if(p.children){for(const M of p.children)M.__r3f&&c(k,M);p.children=p.children.filter(M=>!M.__r3f)}p.__r3f.objects.forEach(M=>c(k,M)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||d(F,p),k.parent&&(k.__r3f.autoRemovedBeforeAppend=!0),c(F,k),k.raycast&&k.__r3f.eventCount&&hl(k).getState().internal.interaction.push(k),[R,R.alternate].forEach(M=>{M!==null&&(M.stateNode=k,M.ref&&(typeof M.ref=="function"?M.ref(k):M.ref.current=k))})}const g=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Nd({createInstance:a,removeChild:d,appendChild:c,appendInitialChild:c,insertBefore:f,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,m)=>{if(!m)return;const x=p.getState().scene;x.__r3f&&(x.__r3f.root=p,c(x,m))},removeChildFromContainer:(p,m)=>{m&&d(p.getState().scene,m)},insertInContainerBefore:(p,m,x)=>{if(!m||!x)return;const R=p.getState().scene;R.__r3f&&f(R,m,x)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var m;return!!((m=p==null?void 0:p.__r3f)!=null?m:{}).handlers},prepareUpdate(p,m,x,R){var T;if(((T=p==null?void 0:p.__r3f)!=null?T:{}).primitive&&R.object&&R.object!==p)return[!0];{const{args:k=[],children:M,...L}=R,{args:O=[],children:q,...Z}=x;if(!Array.isArray(k))throw new Error("R3F: the args prop must be an array!");if(k.some((re,G)=>re!==O[G]))return[!0];const V=cc(p,L,Z,!0);return V.changes.length?[!1,V]:null}},commitUpdate(p,[m,x],R,T,F,k){m?w(p,R,F,k):ta(p,x)},commitMount(p,m,x,R){var T;const F=(T=p.__r3f)!=null?T:{};p.raycast&&F.handlers&&F.eventCount&&hl(p).getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>mr(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var m;const{attach:x,parent:R}=(m=p.__r3f)!=null?m:{};x&&R&&Cu(R,p,x),p.isObject3D&&(p.visible=!1),vr(p)},unhideInstance(p,m){var x;const{attach:R,parent:T}=(x=p.__r3f)!=null?x:{};R&&T&&ea(T,p,R),(p.isObject3D&&m.visible==null||m.visible)&&(p.visible=!0),vr(p)},createTextInstance:g,hideTextInstance:g,unhideTextInstance:g,getCurrentEventPriority:()=>i?i():yr.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ye.fun(performance.now)?performance.now:Ye.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ye.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ye.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ta}}var _u,Eu;const $o=l=>"colorSpace"in l||"outputColorSpace"in l,ic=()=>{var l;return(l=Sa.ColorManagement)!=null?l:null},lc=l=>l&&l.isOrthographicCamera,Ld=l=>l&&l.hasOwnProperty("current"),ni=typeof window<"u"&&((_u=window.document)!=null&&_u.createElement||((Eu=window.navigator)==null?void 0:Eu.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function oc(l){const i=I.useRef(l);return ni(()=>void(i.current=l),[l]),i}function Od({set:l}){return ni(()=>(l(new Promise(()=>null)),()=>l(!1)),[l]),null}class ac extends I.Component{constructor(...i){super(...i),this.state={error:!1}}componentDidCatch(i){this.props.set(i)}render(){return this.state.error?null:this.props.children}}ac.getDerivedStateFromError=()=>({error:!0});const sc="__default",Mu=new Map,Ad=l=>l&&!!l.memoized&&!!l.changes;function uc(l){var i;const a=typeof window<"u"?(i=window.devicePixelRatio)!=null?i:2:1;return Array.isArray(l)?Math.min(Math.max(l[0],a),l[1]):l}const Qr=l=>{var i;return(i=l.__r3f)==null?void 0:i.root.getState()};function hl(l){let i=l.__r3f.root;for(;i.getState().previousRoot;)i=i.getState().previousRoot;return i}const Ye={obj:l=>l===Object(l)&&!Ye.arr(l)&&typeof l!="function",fun:l=>typeof l=="function",str:l=>typeof l=="string",num:l=>typeof l=="number",boo:l=>typeof l=="boolean",und:l=>l===void 0,arr:l=>Array.isArray(l),equ(l,i,{arrays:a="shallow",objects:c="reference",strict:f=!0}={}){if(typeof l!=typeof i||!!l!=!!i)return!1;if(Ye.str(l)||Ye.num(l)||Ye.boo(l))return l===i;const v=Ye.obj(l);if(v&&c==="reference")return l===i;const d=Ye.arr(l);if(d&&a==="reference")return l===i;if((d||v)&&l===i)return!0;let w;for(w in l)if(!(w in i))return!1;if(v&&a==="shallow"&&c==="shallow"){for(w in f?i:l)if(!Ye.equ(l[w],i[w],{strict:f,objects:"reference"}))return!1}else for(w in f?i:l)if(l[w]!==i[w])return!1;if(Ye.und(w)){if(d&&l.length===0&&i.length===0||v&&Object.keys(l).length===0&&Object.keys(i).length===0)return!0;if(l!==i)return!1}return!0}};function Fd(l){const i={nodes:{},materials:{}};return l&&l.traverse(a=>{a.name&&(i.nodes[a.name]=a),a.material&&!i.materials[a.material.name]&&(i.materials[a.material.name]=a.material)}),i}function jd(l){l.dispose&&l.type!=="Scene"&&l.dispose();for(const i in l)i.dispose==null||i.dispose(),delete l[i]}function mr(l,i){const a=l;return a.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...i},l}function ha(l,i){let a=l;if(i.includes("-")){const c=i.split("-"),f=c.pop();return a=c.reduce((v,d)=>v[d],l),{target:a,key:f}}else return{target:a,key:i}}const Ru=/-\d+$/;function ea(l,i,a){if(Ye.str(a)){if(Ru.test(a)){const v=a.replace(Ru,""),{target:d,key:w}=ha(l,v);Array.isArray(d[w])||(d[w]=[])}const{target:c,key:f}=ha(l,a);i.__r3f.previousAttach=c[f],c[f]=i}else i.__r3f.previousAttach=a(l,i)}function Cu(l,i,a){var c,f;if(Ye.str(a)){const{target:v,key:d}=ha(l,a),w=i.__r3f.previousAttach;w===void 0?delete v[d]:v[d]=w}else(c=i.__r3f)==null||c.previousAttach==null||c.previousAttach(l,i);(f=i.__r3f)==null||delete f.previousAttach}function cc(l,{children:i,key:a,ref:c,...f},{children:v,key:d,ref:w,...g}={},S=!1){const p=l.__r3f,m=Object.entries(f),x=[];if(S){const T=Object.keys(g);for(let F=0;F<T.length;F++)f.hasOwnProperty(T[F])||m.unshift([T[F],sc+"remove"])}m.forEach(([T,F])=>{var k;if((k=l.__r3f)!=null&&k.primitive&&T==="object"||Ye.equ(F,g[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return x.push([T,F,!0,[]]);let M=[];T.includes("-")&&(M=T.split("-")),x.push([T,F,!1,M]);for(const L in f){const O=f[L];L.startsWith(`${T}-`)&&x.push([L,O,!1,L.split("-")])}});const R={...f};return p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.args&&(R.args=p.memoizedProps.args),p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.attach&&(R.attach=p.memoizedProps.attach),{memoized:R,changes:x}}function ta(l,i){var a;const c=l.__r3f,f=c==null?void 0:c.root,v=f==null||f.getState==null?void 0:f.getState(),{memoized:d,changes:w}=Ad(i)?i:cc(l,i),g=c==null?void 0:c.eventCount;l.__r3f&&(l.__r3f.memoizedProps=d);for(let p=0;p<w.length;p++){let[m,x,R,T]=w[p];if($o(l)){const L="srgb",O="srgb-linear";m==="encoding"?(m="colorSpace",x=x===3001?L:O):m==="outputEncoding"&&(m="outputColorSpace",x=x===3001?L:O)}let F=l,k=F[m];if(T.length&&(k=T.reduce((M,L)=>M[L],l),!(k&&k.set))){const[M,...L]=T.reverse();F=L.reverse().reduce((O,q)=>O[q],l),m=M}if(x===sc+"remove")if(F.constructor){let M=Mu.get(F.constructor);M||(M=new F.constructor,Mu.set(F.constructor,M)),x=M[m]}else x=0;if(R&&c)x?c.handlers[m]=x:delete c.handlers[m],c.eventCount=Object.keys(c.handlers).length;else if(k&&k.set&&(k.copy||k instanceof Qo)){if(Array.isArray(x))k.fromArray?k.fromArray(x):k.set(...x);else if(k.copy&&x&&x.constructor&&k.constructor===x.constructor)k.copy(x);else if(x!==void 0){const M=k instanceof gl;!M&&k.setScalar?k.setScalar(x):k instanceof Qo&&x instanceof Qo?k.mask=x.mask:k.set(x),!ic()&&v&&!v.linear&&M&&k.convertSRGBToLinear()}}else if(F[m]=x,F[m]instanceof qn&&F[m].format===xr&&F[m].type===vl&&v){const M=F[m];$o(M)&&$o(v.gl)?M.colorSpace=v.gl.outputColorSpace:M.encoding=v.gl.outputEncoding}vr(l)}if(c&&c.parent&&l.raycast&&g!==c.eventCount){const p=hl(l).getState().internal,m=p.interaction.indexOf(l);m>-1&&p.interaction.splice(m,1),c.eventCount&&p.interaction.push(l)}return!(w.length===1&&w[0][0]==="onUpdate")&&w.length&&(a=l.__r3f)!=null&&a.parent&&ma(l),l}function vr(l){var i,a;const c=(i=l.__r3f)==null||(a=i.root)==null||a.getState==null?void 0:a.getState();c&&c.internal.frames===0&&c.invalidate()}function ma(l){l.onUpdate==null||l.onUpdate(l)}function fc(l,i){l.manual||(lc(l)?(l.left=i.width/-2,l.right=i.width/2,l.top=i.height/2,l.bottom=i.height/-2):l.aspect=i.width/i.height,l.updateProjectionMatrix(),l.updateMatrixWorld())}function sl(l){return(l.eventObject||l.object).uuid+"/"+l.index+l.instanceId}function Dd(){var l;const i=typeof self<"u"&&self||typeof window<"u"&&window;if(!i)return yr.DefaultEventPriority;switch((l=i.event)==null?void 0:l.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return yr.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return yr.ContinuousEventPriority;default:return yr.DefaultEventPriority}}function dc(l,i,a,c){const f=a.get(i);f&&(a.delete(i),a.size===0&&(l.delete(c),f.target.releasePointerCapture(c)))}function Ud(l,i){const{internal:a}=l.getState();a.interaction=a.interaction.filter(c=>c!==i),a.initialHits=a.initialHits.filter(c=>c!==i),a.hovered.forEach((c,f)=>{(c.eventObject===i||c.object===i)&&a.hovered.delete(f)}),a.capturedMap.forEach((c,f)=>{dc(a.capturedMap,i,c,f)})}function Bd(l){function i(g){const{internal:S}=l.getState(),p=g.offsetX-S.initialClick[0],m=g.offsetY-S.initialClick[1];return Math.round(Math.sqrt(p*p+m*m))}function a(g){return g.filter(S=>["Move","Over","Enter","Out","Leave"].some(p=>{var m;return(m=S.__r3f)==null?void 0:m.handlers["onPointer"+p]}))}function c(g,S){const p=l.getState(),m=new Set,x=[],R=S?S(p.internal.interaction):p.internal.interaction;for(let M=0;M<R.length;M++){const L=Qr(R[M]);L&&(L.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(g,p);function T(M){const L=Qr(M);if(!L||!L.events.enabled||L.raycaster.camera===null)return[];if(L.raycaster.camera===void 0){var O;L.events.compute==null||L.events.compute(g,L,(O=L.previousRoot)==null?void 0:O.getState()),L.raycaster.camera===void 0&&(L.raycaster.camera=null)}return L.raycaster.camera?L.raycaster.intersectObject(M,!0):[]}let F=R.flatMap(T).sort((M,L)=>{const O=Qr(M.object),q=Qr(L.object);return!O||!q?M.distance-L.distance:q.events.priority-O.events.priority||M.distance-L.distance}).filter(M=>{const L=sl(M);return m.has(L)?!1:(m.add(L),!0)});p.events.filter&&(F=p.events.filter(F,p));for(const M of F){let L=M.object;for(;L;){var k;(k=L.__r3f)!=null&&k.eventCount&&x.push({...M,eventObject:L}),L=L.parent}}if("pointerId"in g&&p.internal.capturedMap.has(g.pointerId))for(let M of p.internal.capturedMap.get(g.pointerId).values())m.has(sl(M.intersection))||x.push(M.intersection);return x}function f(g,S,p,m){const x=l.getState();if(g.length){const R={stopped:!1};for(const T of g){const F=Qr(T.object)||x,{raycaster:k,pointer:M,camera:L,internal:O}=F,q=new Xe(M.x,M.y,0).unproject(L),Z=B=>{var H,b;return(H=(b=O.capturedMap.get(B))==null?void 0:b.has(T.eventObject))!=null?H:!1},V=B=>{const H={intersection:T,target:S.target};O.capturedMap.has(B)?O.capturedMap.get(B).set(T.eventObject,H):O.capturedMap.set(B,new Map([[T.eventObject,H]])),S.target.setPointerCapture(B)},re=B=>{const H=O.capturedMap.get(B);H&&dc(O.capturedMap,T.eventObject,H,B)};let G={};for(let B in S){let H=S[B];typeof H!="function"&&(G[B]=H)}let W={...T,...G,pointer:M,intersections:g,stopped:R.stopped,delta:p,unprojectedPoint:q,ray:k.ray,camera:L,stopPropagation(){const B="pointerId"in S&&O.capturedMap.get(S.pointerId);if((!B||B.has(T.eventObject))&&(W.stopped=R.stopped=!0,O.hovered.size&&Array.from(O.hovered.values()).find(H=>H.eventObject===T.eventObject))){const H=g.slice(0,g.indexOf(T));v([...H,T])}},target:{hasPointerCapture:Z,setPointerCapture:V,releasePointerCapture:re},currentTarget:{hasPointerCapture:Z,setPointerCapture:V,releasePointerCapture:re},nativeEvent:S};if(m(W),R.stopped===!0)break}}return g}function v(g){const{internal:S}=l.getState();for(const p of S.hovered.values())if(!g.length||!g.find(m=>m.object===p.object&&m.index===p.index&&m.instanceId===p.instanceId)){const x=p.eventObject.__r3f,R=x==null?void 0:x.handlers;if(S.hovered.delete(sl(p)),x!=null&&x.eventCount){const T={...p,intersections:g};R.onPointerOut==null||R.onPointerOut(T),R.onPointerLeave==null||R.onPointerLeave(T)}}}function d(g,S){for(let p=0;p<S.length;p++){const m=S[p].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(g)}}function w(g){switch(g){case"onPointerLeave":case"onPointerCancel":return()=>v([]);case"onLostPointerCapture":return S=>{const{internal:p}=l.getState();"pointerId"in S&&p.capturedMap.has(S.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(S.pointerId)&&(p.capturedMap.delete(S.pointerId),v([]))})}}return function(p){const{onPointerMissed:m,internal:x}=l.getState();x.lastEvent.current=p;const R=g==="onPointerMove",T=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",k=c(p,R?a:void 0),M=T?i(p):0;g==="onPointerDown"&&(x.initialClick=[p.offsetX,p.offsetY],x.initialHits=k.map(O=>O.eventObject)),T&&!k.length&&M<=2&&(d(p,x.interaction),m&&m(p)),R&&v(k);function L(O){const q=O.eventObject,Z=q.__r3f,V=Z==null?void 0:Z.handlers;if(Z!=null&&Z.eventCount)if(R){if(V.onPointerOver||V.onPointerEnter||V.onPointerOut||V.onPointerLeave){const re=sl(O),G=x.hovered.get(re);G?G.stopped&&O.stopPropagation():(x.hovered.set(re,O),V.onPointerOver==null||V.onPointerOver(O),V.onPointerEnter==null||V.onPointerEnter(O))}V.onPointerMove==null||V.onPointerMove(O)}else{const re=V[g];re?(!T||x.initialHits.includes(q))&&(d(p,x.interaction.filter(G=>!x.initialHits.includes(G))),re(O)):T&&x.initialHits.includes(q)&&d(p,x.interaction.filter(G=>!x.initialHits.includes(G)))}}f(k,p,M,L)}}return{handlePointer:w}}const Hd=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],pc=l=>!!(l!=null&&l.render),Ea=I.createContext(null),Gd=(l,i)=>{const a=ec((w,g)=>{const S=new Xe,p=new Xe,m=new Xe;function x(M=g().camera,L=p,O=g().size){const{width:q,height:Z,top:V,left:re}=O,G=q/Z;L instanceof Xe?m.copy(L):m.set(...L);const W=M.getWorldPosition(S).distanceTo(m);if(lc(M))return{width:q/M.zoom,height:Z/M.zoom,top:V,left:re,factor:1,distance:W,aspect:G};{const B=M.fov*Math.PI/180,H=2*Math.tan(B/2)*W,b=H*(q/Z);return{width:b,height:H,top:V,left:re,factor:q/b,distance:W,aspect:G}}}let R;const T=M=>w(L=>({performance:{...L.performance,current:M}})),F=new Xu;return{set:w,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(M=1)=>l(g(),M),advance:(M,L)=>i(M,L,g()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Uf,pointer:F,mouse:F,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=g();R&&clearTimeout(R),M.performance.current!==M.performance.min&&T(M.performance.min),R=setTimeout(()=>T(g().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:M=>w(L=>({...L,events:{...L.events,...M}})),setSize:(M,L,O,q,Z)=>{const V=g().camera,re={width:M,height:L,top:q||0,left:Z||0,updateStyle:O};w(G=>({size:re,viewport:{...G.viewport,...x(V,p,re)}}))},setDpr:M=>w(L=>{const O=uc(M);return{viewport:{...L.viewport,dpr:O,initialDpr:L.viewport.initialDpr||O}}}),setFrameloop:(M="always")=>{const L=g().clock;L.stop(),L.elapsedTime=0,M!=="never"&&(L.start(),L.elapsedTime=0),w(()=>({frameloop:M}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:I.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(M,L,O)=>{const q=g().internal;return q.priority=q.priority+(L>0?1:0),q.subscribers.push({ref:M,priority:L,store:O}),q.subscribers=q.subscribers.sort((Z,V)=>Z.priority-V.priority),()=>{const Z=g().internal;Z!=null&&Z.subscribers&&(Z.priority=Z.priority-(L>0?1:0),Z.subscribers=Z.subscribers.filter(V=>V.ref!==M))}}}}}),c=a.getState();let f=c.size,v=c.viewport.dpr,d=c.camera;return a.subscribe(()=>{const{camera:w,size:g,viewport:S,gl:p,set:m}=a.getState();if(g.width!==f.width||g.height!==f.height||S.dpr!==v){var x;f=g,v=S.dpr,fc(w,g),p.setPixelRatio(S.dpr);const R=(x=g.updateStyle)!=null?x:typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(g.width,g.height,R)}w!==d&&(d=w,m(R=>({viewport:{...R.viewport,...R.viewport.getCurrentViewport(w)}})))}),a.subscribe(w=>l(w)),a};let ul,Wd=new Set,Vd=new Set,Zd=new Set;function na(l,i){if(l.size)for(const{callback:a}of l.values())a(i)}function Yr(l,i){switch(l){case"before":return na(Wd,i);case"after":return na(Vd,i);case"tail":return na(Zd,i)}}let ra,ia;function la(l,i,a){let c=i.clock.getDelta();for(i.frameloop==="never"&&typeof l=="number"&&(c=l-i.clock.elapsedTime,i.clock.oldTime=i.clock.elapsedTime,i.clock.elapsedTime=l),ra=i.internal.subscribers,ul=0;ul<ra.length;ul++)ia=ra[ul],ia.ref.current(ia.store.getState(),c,a);return!i.internal.priority&&i.gl.render&&i.gl.render(i.scene,i.camera),i.internal.frames=Math.max(0,i.internal.frames-1),i.frameloop==="always"?1:i.internal.frames}function Qd(l){let i=!1,a=!1,c,f,v;function d(S){f=requestAnimationFrame(d),i=!0,c=0,Yr("before",S),a=!0;for(const m of l.values()){var p;v=m.store.getState(),v.internal.active&&(v.frameloop==="always"||v.internal.frames>0)&&!((p=v.gl.xr)!=null&&p.isPresenting)&&(c+=la(S,v))}if(a=!1,Yr("after",S),c===0)return Yr("tail",S),i=!1,cancelAnimationFrame(f)}function w(S,p=1){var m;if(!S)return l.forEach(x=>w(x.store.getState(),p));(m=S.gl.xr)!=null&&m.isPresenting||!S.internal.active||S.frameloop==="never"||(p>1?S.internal.frames=Math.min(60,S.internal.frames+p):a?S.internal.frames=2:S.internal.frames=1,i||(i=!0,requestAnimationFrame(d)))}function g(S,p=!0,m,x){if(p&&Yr("before",S),m)la(S,m,x);else for(const R of l.values())la(S,R.store.getState());p&&Yr("after",S)}return{loop:d,invalidate:w,advance:g}}function Ma(){const l=I.useContext(Ea);if(!l)throw new Error("R3F: Hooks can only be used within the Canvas component!");return l}function un(l=a=>a,i){return Ma()(l,i)}function gn(l,i=0){const a=Ma(),c=a.getState().internal.subscribe,f=oc(l);return ni(()=>c(f,i,a),[i,c,a]),null}const Iu=new WeakMap;function hc(l,i){return function(a,...c){let f=Iu.get(a);return f||(f=new a,Iu.set(a,f)),l&&l(f),Promise.all(c.map(v=>new Promise((d,w)=>f.load(v,g=>{g.scene&&Object.assign(g,Fd(g.scene)),d(g)},i,g=>w(new Error(`Could not load ${v}: ${g==null?void 0:g.message}`))))))}}function Sr(l,i,a,c){const f=Array.isArray(i)?i:[i],v=Md(hc(a,c),[l,...f],{equal:Ye.equ});return Array.isArray(i)?v:v[0]}Sr.preload=function(l,i,a){const c=Array.isArray(i)?i:[i];return Rd(hc(a),[l,...c])};Sr.clear=function(l,i){const a=Array.isArray(i)?i:[i];return Cd([l,...a])};const _r=new Map,{invalidate:Pu,advance:ku}=Qd(_r),{reconciler:$r,applyProps:kn}=zd(_r,Dd),hr={objects:"shallow",strict:!1},Yd=(l,i)=>{const a=typeof l=="function"?l(i):l;return pc(a)?a:new Yu({powerPreference:"high-performance",canvas:i,antialias:!0,alpha:!0,...l})};function Xd(l,i){const a=typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement;if(i){const{width:c,height:f,top:v,left:d,updateStyle:w=a}=i;return{width:c,height:f,top:v,left:d,updateStyle:w}}else if(typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&l.parentElement){const{width:c,height:f,top:v,left:d}=l.parentElement.getBoundingClientRect();return{width:c,height:f,top:v,left:d,updateStyle:a}}else if(typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas)return{width:l.width,height:l.height,top:0,left:0,updateStyle:a};return{width:0,height:0,top:0,left:0}}function qd(l){const i=_r.get(l),a=i==null?void 0:i.fiber,c=i==null?void 0:i.store;i&&console.warn("R3F.createRoot should only be called once!");const f=typeof reportError=="function"?reportError:console.error,v=c||Gd(Pu,ku),d=a||$r.createContainer(v,yr.ConcurrentRoot,null,!1,null,"",f,null);i||_r.set(l,{fiber:d,store:v});let w,g=!1,S;return{configure(p={}){let{gl:m,size:x,scene:R,events:T,onCreated:F,shadows:k=!1,linear:M=!1,flat:L=!1,legacy:O=!1,orthographic:q=!1,frameloop:Z="always",dpr:V=[1,2],performance:re,raycaster:G,camera:W,onPointerMissed:B}=p,H=v.getState(),b=H.gl;H.gl||H.set({gl:b=Yd(m,l)});let se=H.raycaster;se||H.set({raycaster:se=new Zu});const{params:ce,...Se}=G||{};if(Ye.equ(Se,se,hr)||kn(se,{...Se}),Ye.equ(ce,se.params,hr)||kn(se,{params:{...se.params,...ce}}),!H.camera||H.camera===S&&!Ye.equ(S,W,hr)){S=W;const X=W instanceof Df,pe=X?W:q?new Qu(0,0,0,0,.1,1e3):new zf(75,0,.1,1e3);X||(pe.position.z=5,W&&(kn(pe,W),("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(pe.manual=!0,pe.updateProjectionMatrix())),!H.camera&&!(W!=null&&W.rotation)&&pe.lookAt(0,0,0)),H.set({camera:pe}),se.camera=pe}if(!H.scene){let X;R instanceof ml?X=R:(X=new ml,R&&kn(X,R)),H.set({scene:mr(X)})}if(!H.xr){var ie;const X=(xe,Ze)=>{const tt=v.getState();tt.frameloop!=="never"&&ku(xe,!0,tt,Ze)},pe=()=>{const xe=v.getState();xe.gl.xr.enabled=xe.gl.xr.isPresenting,xe.gl.xr.setAnimationLoop(xe.gl.xr.isPresenting?X:null),xe.gl.xr.isPresenting||Pu(xe)},me={connect(){const xe=v.getState().gl;xe.xr.addEventListener("sessionstart",pe),xe.xr.addEventListener("sessionend",pe)},disconnect(){const xe=v.getState().gl;xe.xr.removeEventListener("sessionstart",pe),xe.xr.removeEventListener("sessionend",pe)}};typeof((ie=b.xr)==null?void 0:ie.addEventListener)=="function"&&me.connect(),H.set({xr:me})}if(b.shadowMap){const X=b.shadowMap.enabled,pe=b.shadowMap.type;if(b.shadowMap.enabled=!!k,Ye.boo(k))b.shadowMap.type=Zo;else if(Ye.str(k)){var we;const me={basic:Af,percentage:Of,soft:Zo,variance:Lf};b.shadowMap.type=(we=me[k])!=null?we:Zo}else Ye.obj(k)&&Object.assign(b.shadowMap,k);(X!==b.shadowMap.enabled||pe!==b.shadowMap.type)&&(b.shadowMap.needsUpdate=!0)}const Q=ic();Q&&("enabled"in Q?Q.enabled=!O:"legacyMode"in Q&&(Q.legacyMode=O)),g||kn(b,{outputEncoding:M?3e3:3001,toneMapping:L?Ff:jf}),H.legacy!==O&&H.set(()=>({legacy:O})),H.linear!==M&&H.set(()=>({linear:M})),H.flat!==L&&H.set(()=>({flat:L})),m&&!Ye.fun(m)&&!pc(m)&&!Ye.equ(m,b,hr)&&kn(b,m),T&&!H.events.handlers&&H.set({events:T(v)});const ae=Xd(l,x);return Ye.equ(ae,H.size,hr)||H.setSize(ae.width,ae.height,ae.updateStyle,ae.top,ae.left),V&&H.viewport.dpr!==uc(V)&&H.setDpr(V),H.frameloop!==Z&&H.setFrameloop(Z),H.onPointerMissed||H.set({onPointerMissed:B}),re&&!Ye.equ(re,H.performance,hr)&&H.set(X=>({performance:{...X.performance,...re}})),w=F,g=!0,this},render(p){return g||this.configure(),$r.updateContainer(P.jsx(Kd,{store:v,children:p,onCreated:w,rootElement:l}),d,null,()=>{}),v},unmount(){mc(l)}}}function Kd({store:l,children:i,onCreated:a,rootElement:c}){return ni(()=>{const f=l.getState();f.set(v=>({internal:{...v.internal,active:!0}})),a&&a(f),l.getState().events.connected||f.events.connect==null||f.events.connect(c)},[]),P.jsx(Ea.Provider,{value:l,children:i})}function mc(l,i){const a=_r.get(l),c=a==null?void 0:a.fiber;if(c){const f=a==null?void 0:a.store.getState();f&&(f.internal.active=!1),$r.updateContainer(null,c,null,()=>{f&&setTimeout(()=>{try{var v,d,w,g;f.events.disconnect==null||f.events.disconnect(),(v=f.gl)==null||(d=v.renderLists)==null||d.dispose==null||d.dispose(),(w=f.gl)==null||w.forceContextLoss==null||w.forceContextLoss(),(g=f.gl)!=null&&g.xr&&f.xr.disconnect(),jd(f),_r.delete(l)}catch{}},500)})}}function Jd(l,i,a){return P.jsx(bd,{children:l,container:i,state:a},i.uuid)}function bd({state:l={},children:i,container:a}){const{events:c,size:f,...v}=l,d=Ma(),[w]=I.useState(()=>new Zu),[g]=I.useState(()=>new Xu),S=I.useCallback((m,x)=>{const R={...m};Object.keys(m).forEach(F=>{(Hd.includes(F)||m[F]!==x[F]&&x[F])&&delete R[F]});let T;if(x&&f){const F=x.camera;T=m.viewport.getCurrentViewport(F,new Xe,f),F!==m.camera&&fc(F,f)}return{...R,scene:a,raycaster:w,pointer:g,mouse:g,previousRoot:d,events:{...m.events,...x==null?void 0:x.events,...c},size:{...m.size,...f},viewport:{...m.viewport,...T},...v}},[l]),[p]=I.useState(()=>{const m=d.getState();return ec((R,T)=>({...m,scene:a,raycaster:w,pointer:g,mouse:g,previousRoot:d,events:{...m.events,...c},size:{...m.size,...f},...v,set:R,get:T,setEvents:F=>R(k=>({...k,events:{...k.events,...F}}))}))});return I.useEffect(()=>{const m=d.subscribe(x=>p.setState(R=>S(x,R)));return()=>{m()}},[S]),I.useEffect(()=>{p.setState(m=>S(d.getState(),m))},[S]),I.useEffect(()=>()=>{p.destroy()},[]),P.jsx(P.Fragment,{children:$r.createPortal(P.jsx(Ea.Provider,{value:p,children:i}),p,null)})}$r.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version});const oa={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $d(l){const{handlePointer:i}=Bd(l);return{priority:1,enabled:!0,compute(a,c,f){c.pointer.set(a.offsetX/c.size.width*2-1,-(a.offsetY/c.size.height)*2+1),c.raycaster.setFromCamera(c.pointer,c.camera)},connected:void 0,handlers:Object.keys(oa).reduce((a,c)=>({...a,[c]:i(c)}),{}),update:()=>{var a;const{events:c,internal:f}=l.getState();(a=f.lastEvent)!=null&&a.current&&c.handlers&&c.handlers.onPointerMove(f.lastEvent.current)},connect:a=>{var c;const{set:f,events:v}=l.getState();v.disconnect==null||v.disconnect(),f(d=>({events:{...d.events,connected:a}})),Object.entries((c=v.handlers)!=null?c:[]).forEach(([d,w])=>{const[g,S]=oa[d];a.addEventListener(g,w,{passive:S})})},disconnect:()=>{const{set:a,events:c}=l.getState();if(c.connected){var f;Object.entries((f=c.handlers)!=null?f:[]).forEach(([v,d])=>{if(c&&c.connected instanceof HTMLElement){const[w]=oa[v];c.connected.removeEventListener(w,d)}}),a(v=>({events:{...v.events,connected:void 0}}))}}}}var aa,Tu;function ep(){if(Tu)return aa;Tu=1;function l(i,a,c){var f,v,d,w,g;a==null&&(a=100);function S(){var m=Date.now()-w;m<a&&m>=0?f=setTimeout(S,a-m):(f=null,c||(g=i.apply(d,v),d=v=null))}var p=function(){d=this,v=arguments,w=Date.now();var m=c&&!f;return f||(f=setTimeout(S,a)),m&&(g=i.apply(d,v),d=v=null),g};return p.clear=function(){f&&(clearTimeout(f),f=null)},p.flush=function(){f&&(g=i.apply(d,v),d=v=null,clearTimeout(f),f=null)},p}return l.debounce=l,aa=l,aa}var tp=ep();const Nu=wl(tp);var np=Object.defineProperty,rp=Object.defineProperties,ip=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,lp=Object.prototype.hasOwnProperty,op=Object.prototype.propertyIsEnumerable,Lu=(l,i,a)=>i in l?np(l,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[i]=a,Ou=(l,i)=>{for(var a in i||(i={}))lp.call(i,a)&&Lu(l,a,i[a]);if(zu)for(var a of zu(i))op.call(i,a)&&Lu(l,a,i[a]);return l},ap=(l,i)=>rp(l,ip(i)),Au,Fu;typeof window<"u"&&((Au=window.document)!=null&&Au.createElement||((Fu=window.navigator)==null?void 0:Fu.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function vc(l,i,a){if(!l)return;if(a(l)===!0)return l;let c=l.child;for(;c;){const f=vc(c,i,a);if(f)return f;c=c.sibling}}function gc(l){try{return Object.defineProperties(l,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return l}}const ju=console.error;console.error=function(){const l=[...arguments].join("");if(l!=null&&l.startsWith("Warning:")&&l.includes("useContext")){console.error=ju;return}return ju.apply(this,arguments)};const Ra=gc(I.createContext(null));class yc extends I.Component{render(){return I.createElement(Ra.Provider,{value:this._reactInternals},this.props.children)}}function sp(){const l=I.useContext(Ra);if(l===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const i=I.useId();return I.useMemo(()=>{for(const c of[l,l==null?void 0:l.alternate]){if(!c)continue;const f=vc(c,!1,v=>{let d=v.memoizedState;for(;d;){if(d.memoizedState===i)return!0;d=d.next}});if(f)return f}},[l,i])}function up(){const l=sp(),[i]=I.useState(()=>new Map);i.clear();let a=l;for(;a;){if(a.type&&typeof a.type=="object"){const f=a.type._context===void 0&&a.type.Provider===a.type?a.type:a.type._context;f&&f!==Ra&&!i.has(f)&&i.set(f,I.useContext(gc(f)))}a=a.return}return i}function cp(){const l=up();return I.useMemo(()=>Array.from(l.keys()).reduce((i,a)=>c=>I.createElement(i,null,I.createElement(a.Provider,ap(Ou({},c),{value:l.get(a)}))),i=>I.createElement(yc,Ou({},i))),[l])}function fp({debounce:l,scroll:i,polyfill:a,offsetSize:c}={debounce:0,scroll:!1,offsetSize:!1}){const f=a||typeof window<"u"&&window.ResizeObserver,[v,d]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!f)return v.width=1280,v.height=800,[()=>{},v,()=>{}];const w=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:v}),g=l?typeof l=="number"?l:l.scroll:null,S=l?typeof l=="number"?l:l.resize:null,p=I.useRef(!1);I.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[m,x,R]=I.useMemo(()=>{const M=()=>{if(!w.current.element)return;const{left:L,top:O,width:q,height:Z,bottom:V,right:re,x:G,y:W}=w.current.element.getBoundingClientRect(),B={left:L,top:O,width:q,height:Z,bottom:V,right:re,x:G,y:W};w.current.element instanceof HTMLElement&&c&&(B.height=w.current.element.offsetHeight,B.width=w.current.element.offsetWidth),Object.freeze(B),p.current&&!mp(w.current.lastBounds,B)&&d(w.current.lastBounds=B)};return[M,S?Nu(M,S):M,g?Nu(M,g):M]},[d,c,g,S]);function T(){w.current.scrollContainers&&(w.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",R,!0)),w.current.scrollContainers=null),w.current.resizeObserver&&(w.current.resizeObserver.disconnect(),w.current.resizeObserver=null)}function F(){w.current.element&&(w.current.resizeObserver=new f(R),w.current.resizeObserver.observe(w.current.element),i&&w.current.scrollContainers&&w.current.scrollContainers.forEach(M=>M.addEventListener("scroll",R,{capture:!0,passive:!0})))}const k=M=>{!M||M===w.current.element||(T(),w.current.element=M,w.current.scrollContainers=wc(M),F())};return pp(R,!!i),dp(x),I.useEffect(()=>{T(),F()},[i,R,x]),I.useEffect(()=>T,[]),[k,v,m]}function dp(l){I.useEffect(()=>{const i=l;return window.addEventListener("resize",i),()=>void window.removeEventListener("resize",i)},[l])}function pp(l,i){I.useEffect(()=>{if(i){const a=l;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[l,i])}function wc(l){const i=[];if(!l||l===document.body)return i;const{overflow:a,overflowX:c,overflowY:f}=window.getComputedStyle(l);return[a,c,f].some(v=>v==="auto"||v==="scroll")&&i.push(l),[...i,...wc(l.parentElement)]}const hp=["x","y","top","bottom","left","right","width","height"],mp=(l,i)=>hp.every(a=>l[a]===i[a]),vp=I.forwardRef(function({children:i,fallback:a,resize:c,style:f,gl:v,events:d=$d,eventSource:w,eventPrefix:g,shadows:S,linear:p,flat:m,legacy:x,orthographic:R,frameloop:T,dpr:F,performance:k,raycaster:M,camera:L,scene:O,onPointerMissed:q,onCreated:Z,...V},re){I.useMemo(()=>_a(Gf),[]);const G=cp(),[W,B]=fp({scroll:!0,debounce:{scroll:50,resize:0},...c}),H=I.useRef(null),b=I.useRef(null);I.useImperativeHandle(re,()=>H.current);const se=oc(q),[ce,Se]=I.useState(!1),[ie,we]=I.useState(!1);if(ce)throw ce;if(ie)throw ie;const Q=I.useRef(null);ni(()=>{const X=H.current;B.width>0&&B.height>0&&X&&(Q.current||(Q.current=qd(X)),Q.current.configure({gl:v,events:d,shadows:S,linear:p,flat:m,legacy:x,orthographic:R,frameloop:T,dpr:F,performance:k,raycaster:M,camera:L,scene:O,size:B,onPointerMissed:(...pe)=>se.current==null?void 0:se.current(...pe),onCreated:pe=>{pe.events.connect==null||pe.events.connect(w?Ld(w)?w.current:w:b.current),g&&pe.setEvents({compute:(me,xe)=>{const Ze=me[g+"X"],tt=me[g+"Y"];xe.pointer.set(Ze/xe.size.width*2-1,-(tt/xe.size.height)*2+1),xe.raycaster.setFromCamera(xe.pointer,xe.camera)}}),Z==null||Z(pe)}}),Q.current.render(P.jsx(G,{children:P.jsx(ac,{set:we,children:P.jsx(I.Suspense,{fallback:P.jsx(Od,{set:Se}),children:i})})})))}),I.useEffect(()=>{const X=H.current;if(X)return()=>mc(X)},[]);const ae=w?"none":"auto";return P.jsx("div",{ref:b,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ae,...f},...V,children:P.jsx("div",{ref:W,style:{width:"100%",height:"100%"},children:P.jsx("canvas",{ref:H,style:{display:"block"},children:a})})})}),gp=I.forwardRef(function(i,a){return P.jsx(yc,{children:P.jsx(vp,{...i,ref:a})})});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/var mt=(l=>(l.LOADING="LOADING",l.IDLE="IDLE",l.PLAYING="PLAYING",l.GAME_OVER="GAME_OVER",l.VICTORY="VICTORY",l))(mt||{}),Tn=(l=>(l[l.UP=0]="UP",l[l.DOWN=1]="DOWN",l[l.LEFT=2]="LEFT",l[l.RIGHT=3]="RIGHT",l[l.ANY=4]="ANY",l))(Tn||{});const Jn={left:"#3b82f6",right:"#ef4444"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const yp=-30,Xr=0,wp=5,sa=4,cl=.8,an=.5,xc=[-1.5*cl,-.5*cl,.5*cl,1.5*cl],Sc=[.8,1.6,2.4],xp="https://commondatastorage.googleapis.com/codeskulptor-demos/riceracer_assets/music/race2.ogg",_c=140,Sp=60/_c,_p=()=>{const l=[];let i=0;const a=400;for(let c=12;c<a;c++){const f=c*Sp;if(c%4!==0||Math.random()>.6)continue;const v=Math.random()>.5?"left":"right",d=Math.floor(Math.random()*4),w=Math.floor(Math.random()*3),g=Tn.ANY;l.push({id:`note-${i++}`,time:f,lineIndex:d,lineLayer:w,type:v,cutDirection:g,requiresGrip:Math.random()>.7})}return l.sort((c,f)=>c.time-f.time)},Du=_p(),Ep={[Tn.UP]:new Xe(0,1,0),[Tn.DOWN]:new Xe(0,-1,0),[Tn.LEFT]:new Xe(-1,0,0),[Tn.RIGHT]:new Xe(1,0,0),[Tn.ANY]:new Xe(0,0,0)};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const Mp=(l,i)=>{const v=(.5-l)*5,d=(1-i)*3.5-3.5/2+.8,w=-Math.max(0,d*.2);return new Xe(v,Math.max(.1,d),w)},Rp=l=>{let i=0;const a=[{tip:8,pip:6},{tip:12,pip:10},{tip:16,pip:14},{tip:20,pip:18}];for(const c of a){const f=l[c.tip],v=l[c.pip];f.y>v.y+.02&&i++}return i===4},Cp=(l,i,a=!1)=>{const[c,f]=I.useState(!1),[v,d]=I.useState([]),[w,g]=I.useState(null),S=I.useRef({left:null,right:null,lastLeft:null,lastRight:null,leftVelocity:new Xe(0,0,0),rightVelocity:new Xe(0,0,0),leftGripping:!1,rightGripping:!1,lastTimestamp:0}),p=I.useRef(null),m=I.useRef(null),x=I.useRef(0);return I.useEffect(()=>{let R=!0;const T=async()=>{try{const O=await dd.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.14/wasm");if(!R)return;const q=await pd.createFromOptions(O,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",numHands:2,minHandDetectionConfidence:.5,minHandPresenceConfidence:.5,minTrackingConfidence:.5});if(!R){q.close();return}m.current=q,await k(),await F()}catch(O){console.error("Error initializing MediaPipe:",O),g(`Failed to load hand tracking: ${O.message}`)}},F=async()=>{try{const q=(await navigator.mediaDevices.enumerateDevices()).filter(Z=>Z.kind==="videoinput");R&&(console.log("Detected cameras:",q.length),d(q))}catch(O){console.warn("Could not list cameras",O)}};navigator.mediaDevices.addEventListener("devicechange",F);const k=async()=>{try{l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach(V=>V.stop());const O={video:{width:{ideal:640},height:{ideal:480}}};i?O.video.deviceId={exact:i}:O.video.facingMode="user";const q=await navigator.mediaDevices.getUserMedia(O);if(l.current&&R){const Z=l.current;Z.srcObject=q;const V=()=>{R&&!c&&(console.log("MediaPipe: Video is ready and playing"),f(!0),M())};Z.onloadeddata=V,Z.onplaying=V;try{await Z.play()}catch(re){console.warn("MediaPipe: Video play blocked or interrupted",re),Z.readyState>=2&&V()}}}catch(O){console.error("Camera Error:",O),g("Could not access camera. Please check permissions.")}},M=()=>{if(!l.current||!m.current||!R)return;const O=l.current;if(O.videoWidth>0&&O.videoHeight>0){let q=performance.now();try{const Z=m.current.detectForVideo(O,q);p.current=Z,L(Z)}catch(Z){console.warn("Detection failed this frame",Z)}}x.current=requestAnimationFrame(M)},L=O=>{const q=performance.now(),Z=(q-S.current.lastTimestamp)/1e3;S.current.lastTimestamp=q;let V=null,re=null,G=!1,W=!1;if(O.landmarks)for(let b=0;b<O.landmarks.length;b++){const se=O.landmarks[b];if(!O.handedness||!O.handedness[b]||!O.handedness[b][0])continue;const Se=O.handedness[b][0].categoryName==="Right",ie=se[8],we=Mp(ie.x,ie.y),Q=Rp(se);Se?(re=we,W=Q):(V=we,G=Q)}const B=S.current,H=.6;V?(B.left&&(V.lerpVectors(B.left,V,H),Z>.001&&B.leftVelocity.subVectors(V,B.left).divideScalar(Z)),B.lastLeft=B.left?B.left.clone():V.clone(),B.left=V,B.leftGripping=G):(B.left=null,B.leftGripping=!1),re?(B.right&&(re.lerpVectors(B.right,re,H),Z>.001&&B.rightVelocity.subVectors(re,B.right).divideScalar(Z)),B.lastRight=B.right?B.right.clone():re.clone(),B.right=re,B.rightGripping=W):(B.right=null,B.rightGripping=!1)};return T(),()=>{R=!1,x.current&&cancelAnimationFrame(x.current),m.current&&m.current.close(),l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach(q=>q.stop()),navigator.mediaDevices.removeEventListener("devicechange",F)}},[l,i]),{isCameraReady:c,cameras:v,handPositionsRef:S,lastResultsRef:p,error:w}};function bn(){return bn=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)({}).hasOwnProperty.call(a,c)&&(l[c]=a[c])}return l},bn.apply(null,arguments)}const Ec=parseInt(qu.replace(/\D+/g,""));var Zt=Uint8Array,zn=Uint16Array,va=Uint32Array,Mc=new Zt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rc=new Zt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ip=new Zt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cc=function(l,i){for(var a=new zn(31),c=0;c<31;++c)a[c]=i+=1<<l[c-1];for(var f=new va(a[30]),c=1;c<30;++c)for(var v=a[c];v<a[c+1];++v)f[v]=v-a[c]<<5|c;return[a,f]},Ic=Cc(Mc,2),Pc=Ic[0],Pp=Ic[1];Pc[28]=258,Pp[258]=28;var kp=Cc(Rc,0),Tp=kp[0],ga=new zn(32768);for(var qe=0;qe<32768;++qe){var Pn=(qe&43690)>>>1|(qe&21845)<<1;Pn=(Pn&52428)>>>2|(Pn&13107)<<2,Pn=(Pn&61680)>>>4|(Pn&3855)<<4,ga[qe]=((Pn&65280)>>>8|(Pn&255)<<8)>>>1}var br=(function(l,i,a){for(var c=l.length,f=0,v=new zn(i);f<c;++f)++v[l[f]-1];var d=new zn(i);for(f=0;f<i;++f)d[f]=d[f-1]+v[f-1]<<1;var w;if(a){w=new zn(1<<i);var g=15-i;for(f=0;f<c;++f)if(l[f])for(var S=f<<4|l[f],p=i-l[f],m=d[l[f]-1]++<<p,x=m|(1<<p)-1;m<=x;++m)w[ga[m]>>>g]=S}else for(w=new zn(c),f=0;f<c;++f)l[f]&&(w[f]=ga[d[l[f]-1]++]>>>15-l[f]);return w}),ri=new Zt(288);for(var qe=0;qe<144;++qe)ri[qe]=8;for(var qe=144;qe<256;++qe)ri[qe]=9;for(var qe=256;qe<280;++qe)ri[qe]=7;for(var qe=280;qe<288;++qe)ri[qe]=8;var kc=new Zt(32);for(var qe=0;qe<32;++qe)kc[qe]=5;var Np=br(ri,9,1),zp=br(kc,5,1),ua=function(l){for(var i=l[0],a=1;a<l.length;++a)l[a]>i&&(i=l[a]);return i},Jt=function(l,i,a){var c=i/8|0;return(l[c]|l[c+1]<<8)>>(i&7)&a},ca=function(l,i){var a=i/8|0;return(l[a]|l[a+1]<<8|l[a+2]<<16)>>(i&7)},Lp=function(l){return(l/8|0)+(l&7&&1)},Op=function(l,i,a){(a==null||a>l.length)&&(a=l.length);var c=new(l instanceof zn?zn:l instanceof va?va:Zt)(a-i);return c.set(l.subarray(i,a)),c},Ap=function(l,i,a){var c=l.length;if(!c||a&&!a.l&&c<5)return i||new Zt(0);var f=!i||a,v=!a||a.i;a||(a={}),i||(i=new Zt(c*3));var d=function(Pe){var st=i.length;if(Pe>st){var Yt=new Zt(Math.max(st*2,Pe));Yt.set(i),i=Yt}},w=a.f||0,g=a.p||0,S=a.b||0,p=a.l,m=a.d,x=a.m,R=a.n,T=c*8;do{if(!p){a.f=w=Jt(l,g,1);var F=Jt(l,g+1,3);if(g+=3,F)if(F==1)p=Np,m=zp,x=9,R=5;else if(F==2){var O=Jt(l,g,31)+257,q=Jt(l,g+10,15)+4,Z=O+Jt(l,g+5,31)+1;g+=14;for(var V=new Zt(Z),re=new Zt(19),G=0;G<q;++G)re[Ip[G]]=Jt(l,g+G*3,7);g+=q*3;for(var W=ua(re),B=(1<<W)-1,H=br(re,W,1),G=0;G<Z;){var b=H[Jt(l,g,B)];g+=b&15;var k=b>>>4;if(k<16)V[G++]=k;else{var se=0,ce=0;for(k==16?(ce=3+Jt(l,g,3),g+=2,se=V[G-1]):k==17?(ce=3+Jt(l,g,7),g+=3):k==18&&(ce=11+Jt(l,g,127),g+=7);ce--;)V[G++]=se}}var Se=V.subarray(0,O),ie=V.subarray(O);x=ua(Se),R=ua(ie),p=br(Se,x,1),m=br(ie,R,1)}else throw"invalid block type";else{var k=Lp(g)+4,M=l[k-4]|l[k-3]<<8,L=k+M;if(L>c){if(v)throw"unexpected EOF";break}f&&d(S+M),i.set(l.subarray(k,L),S),a.b=S+=M,a.p=g=L*8;continue}if(g>T){if(v)throw"unexpected EOF";break}}f&&d(S+131072);for(var we=(1<<x)-1,Q=(1<<R)-1,ae=g;;ae=g){var se=p[ca(l,g)&we],X=se>>>4;if(g+=se&15,g>T){if(v)throw"unexpected EOF";break}if(!se)throw"invalid length/literal";if(X<256)i[S++]=X;else if(X==256){ae=g,p=null;break}else{var pe=X-254;if(X>264){var G=X-257,me=Mc[G];pe=Jt(l,g,(1<<me)-1)+Pc[G],g+=me}var xe=m[ca(l,g)&Q],Ze=xe>>>4;if(!xe)throw"invalid distance";g+=xe&15;var ie=Tp[Ze];if(Ze>3){var me=Rc[Ze];ie+=ca(l,g)&(1<<me)-1,g+=me}if(g>T){if(v)throw"unexpected EOF";break}f&&d(S+131072);for(var tt=S+pe;S<tt;S+=4)i[S]=i[S-ie],i[S+1]=i[S+1-ie],i[S+2]=i[S+2-ie],i[S+3]=i[S+3-ie];S=tt}}a.l=p,a.p=ae,a.b=S,p&&(w=1,a.m=x,a.d=m,a.n=R)}while(!w);return S==i.length?i:Op(i,0,S)},Fp=new Zt(0),jp=function(l){if((l[0]&15)!=8||l[0]>>>4>7||(l[0]<<8|l[1])%31)throw"invalid zlib data";if(l[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function fl(l,i){return Ap((jp(l),l.subarray(2,-4)),i)}var Dp=typeof TextDecoder<"u"&&new TextDecoder,Up=0;try{Dp.decode(Fp,{stream:!0}),Up=1}catch{}const Bp=l=>l&&l.isCubeTexture;class Hp extends wa{constructor(i,a){var c,f;const v=Bp(i),w=((f=v?(c=i.image[0])==null?void 0:c.width:i.image.width)!=null?f:1024)/4,g=Math.floor(Math.log2(w)),S=Math.pow(2,g),p=3*Math.max(S,112),m=4*S,x=[v?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/m}`,`#define CUBEUV_MAX_MIP ${g}.0`],R=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,T=x.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Ec>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,F={map:{value:i},height:{value:(a==null?void 0:a.height)||15},radius:{value:(a==null?void 0:a.radius)||100}},k=new Wf(1,16),M=new ti({uniforms:F,fragmentShader:T,vertexShader:R,side:Ku});super(k,M)}set radius(i){this.material.uniforms.radius.value=i}get radius(){return this.material.uniforms.radius.value}set height(i){this.material.uniforms.height.value=i}get height(){return this.material.uniforms.height.value}}class Gp extends Ju{constructor(i){super(i),this.type=At}parse(i){const d=function(G,W){switch(G){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(W||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(W||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(W||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(W||""))}},m=function(G,W,B){W=W||1024;let b=G.pos,se=-1,ce=0,Se="",ie=String.fromCharCode.apply(null,new Uint16Array(G.subarray(b,b+128)));for(;0>(se=ie.indexOf(`
`))&&ce<W&&b<G.byteLength;)Se+=ie,ce+=ie.length,b+=128,ie+=String.fromCharCode.apply(null,new Uint16Array(G.subarray(b,b+128)));return-1<se?(G.pos+=ce+se+1,Se+ie.slice(0,se)):!1},x=function(G){const W=/^#\?(\S+)/,B=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,b=/^\s*FORMAT=(\S+)\s*$/,se=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ce={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Se,ie;for((G.pos>=G.byteLength||!(Se=m(G)))&&d(1,"no header found"),(ie=Se.match(W))||d(3,"bad initial token"),ce.valid|=1,ce.programtype=ie[1],ce.string+=Se+`
`;Se=m(G),Se!==!1;){if(ce.string+=Se+`
`,Se.charAt(0)==="#"){ce.comments+=Se+`
`;continue}if((ie=Se.match(B))&&(ce.gamma=parseFloat(ie[1])),(ie=Se.match(H))&&(ce.exposure=parseFloat(ie[1])),(ie=Se.match(b))&&(ce.valid|=2,ce.format=ie[1]),(ie=Se.match(se))&&(ce.valid|=4,ce.height=parseInt(ie[1],10),ce.width=parseInt(ie[2],10)),ce.valid&2&&ce.valid&4)break}return ce.valid&2||d(3,"missing format specifier"),ce.valid&4||d(3,"missing image size specifier"),ce},R=function(G,W,B){const H=W;if(H<8||H>32767||G[0]!==2||G[1]!==2||G[2]&128)return new Uint8Array(G);H!==(G[2]<<8|G[3])&&d(3,"wrong scanline width");const b=new Uint8Array(4*W*B);b.length||d(4,"unable to allocate buffer space");let se=0,ce=0;const Se=4*H,ie=new Uint8Array(4),we=new Uint8Array(Se);let Q=B;for(;Q>0&&ce<G.byteLength;){ce+4>G.byteLength&&d(1),ie[0]=G[ce++],ie[1]=G[ce++],ie[2]=G[ce++],ie[3]=G[ce++],(ie[0]!=2||ie[1]!=2||(ie[2]<<8|ie[3])!=H)&&d(3,"bad rgbe scanline format");let ae=0,X;for(;ae<Se&&ce<G.byteLength;){X=G[ce++];const me=X>128;if(me&&(X-=128),(X===0||ae+X>Se)&&d(3,"bad scanline data"),me){const xe=G[ce++];for(let Ze=0;Ze<X;Ze++)we[ae++]=xe}else we.set(G.subarray(ce,ce+X),ae),ae+=X,ce+=X}const pe=H;for(let me=0;me<pe;me++){let xe=0;b[se]=we[me+xe],xe+=H,b[se+1]=we[me+xe],xe+=H,b[se+2]=we[me+xe],xe+=H,b[se+3]=we[me+xe],se+=4}Q--}return b},T=function(G,W,B,H){const b=G[W+3],se=Math.pow(2,b-128)/255;B[H+0]=G[W+0]*se,B[H+1]=G[W+1]*se,B[H+2]=G[W+2]*se,B[H+3]=1},F=function(G,W,B,H){const b=G[W+3],se=Math.pow(2,b-128)/255;B[H+0]=gr.toHalfFloat(Math.min(G[W+0]*se,65504)),B[H+1]=gr.toHalfFloat(Math.min(G[W+1]*se,65504)),B[H+2]=gr.toHalfFloat(Math.min(G[W+2]*se,65504)),B[H+3]=gr.toHalfFloat(1)},k=new Uint8Array(i);k.pos=0;const M=x(k),L=M.width,O=M.height,q=R(k.subarray(k.pos),L,O);let Z,V,re;switch(this.type){case sn:re=q.length/4;const G=new Float32Array(re*4);for(let B=0;B<re;B++)T(q,B*4,G,B*4);Z=G,V=sn;break;case At:re=q.length/4;const W=new Uint16Array(re*4);for(let B=0;B<re;B++)F(q,B*4,W,B*4);Z=W,V=At;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:L,height:O,data:Z,header:M.string,gamma:M.gamma,exposure:M.exposure,type:V}}setDataType(i){return this.type=i,this}load(i,a,c,f){function v(d,w){switch(d.type){case sn:case At:"colorSpace"in d?d.colorSpace="srgb-linear":d.encoding=3e3,d.minFilter=Qt,d.magFilter=Qt,d.generateMipmaps=!1,d.flipY=!0;break}a&&a(d,w)}return super.load(i,v,c,f)}}const qr=Ec>=152;class Wp extends Ju{constructor(i){super(i),this.type=At}parse(i){const W=Math.pow(2.7182818,2.2);function B(u,h){for(var _=0,z=0;z<65536;++z)(z==0||u[z>>3]&1<<(z&7))&&(h[_++]=z);for(var j=_-1;_<65536;)h[_++]=0;return j}function H(u){for(var h=0;h<16384;h++)u[h]={},u[h].len=0,u[h].lit=0,u[h].p=null}const b={l:0,c:0,lc:0};function se(u,h,_,z,j){for(;_<u;)h=h<<8|si(z,j),_+=8;_-=u,b.l=h>>_&(1<<u)-1,b.c=h,b.lc=_}const ce=new Array(59);function Se(u){for(var h=0;h<=58;++h)ce[h]=0;for(var h=0;h<65537;++h)ce[u[h]]+=1;for(var _=0,h=58;h>0;--h){var z=_+ce[h]>>1;ce[h]=_,_=z}for(var h=0;h<65537;++h){var j=u[h];j>0&&(u[h]=j|ce[j]++<<6)}}function ie(u,h,_,z,j,D,K){for(var Y=_,te=0,ee=0;j<=D;j++){if(Y.value-_.value>z)return!1;se(6,te,ee,u,Y);var ne=b.l;if(te=b.c,ee=b.lc,K[j]=ne,ne==63){if(Y.value-_.value>z)throw"Something wrong with hufUnpackEncTable";se(8,te,ee,u,Y);var $=b.l+6;if(te=b.c,ee=b.lc,j+$>D+1)throw"Something wrong with hufUnpackEncTable";for(;$--;)K[j++]=0;j--}else if(ne>=59){var $=ne-59+2;if(j+$>D+1)throw"Something wrong with hufUnpackEncTable";for(;$--;)K[j++]=0;j--}}Se(K)}function we(u){return u&63}function Q(u){return u>>6}function ae(u,h,_,z){for(;h<=_;h++){var j=Q(u[h]),D=we(u[h]);if(j>>D)throw"Invalid table entry";if(D>14){var K=z[j>>D-14];if(K.len)throw"Invalid table entry";if(K.lit++,K.p){var Y=K.p;K.p=new Array(K.lit);for(var te=0;te<K.lit-1;++te)K.p[te]=Y[te]}else K.p=new Array(1);K.p[K.lit-1]=h}else if(D)for(var ee=0,te=1<<14-D;te>0;te--){var K=z[(j<<14-D)+ee];if(K.len||K.p)throw"Invalid table entry";K.len=D,K.lit=h,ee++}}return!0}const X={c:0,lc:0};function pe(u,h,_,z){u=u<<8|si(_,z),h+=8,X.c=u,X.lc=h}const me={c:0,lc:0};function xe(u,h,_,z,j,D,K,Y,te,ee){if(u==h){z<8&&(pe(_,z,j,K),_=X.c,z=X.lc),z-=8;var ne=_>>z,ne=new Uint8Array([ne])[0];if(te.value+ne>ee)return!1;for(var $=Y[te.value-1];ne-- >0;)Y[te.value++]=$}else if(te.value<ee)Y[te.value++]=u;else return!1;me.c=_,me.lc=z}function Ze(u){return u&65535}function tt(u){var h=Ze(u);return h>32767?h-65536:h}const Pe={a:0,b:0};function st(u,h){var _=tt(u),z=tt(h),j=z,D=_+(j&1)+(j>>1),K=D,Y=D-j;Pe.a=K,Pe.b=Y}function Yt(u,h){var _=Ze(u),z=Ze(h),j=_-(z>>1)&65535,D=z+j-32768&65535;Pe.a=D,Pe.b=j}function Er(u,h,_,z,j,D,K){for(var Y=K<16384,te=_>j?j:_,ee=1,ne;ee<=te;)ee<<=1;for(ee>>=1,ne=ee,ee>>=1;ee>=1;){for(var $=0,He=$+D*(j-ne),de=D*ee,ve=D*ne,Ee=z*ee,Ce=z*ne,Ae,Le,_e,Ie;$<=He;$+=ve){for(var Oe=$,We=$+z*(_-ne);Oe<=We;Oe+=Ce){var ke=Oe+Ee,Qe=Oe+de,yt=Qe+Ee;Y?(st(u[Oe+h],u[Qe+h]),Ae=Pe.a,_e=Pe.b,st(u[ke+h],u[yt+h]),Le=Pe.a,Ie=Pe.b,st(Ae,Le),u[Oe+h]=Pe.a,u[ke+h]=Pe.b,st(_e,Ie),u[Qe+h]=Pe.a,u[yt+h]=Pe.b):(Yt(u[Oe+h],u[Qe+h]),Ae=Pe.a,_e=Pe.b,Yt(u[ke+h],u[yt+h]),Le=Pe.a,Ie=Pe.b,Yt(Ae,Le),u[Oe+h]=Pe.a,u[ke+h]=Pe.b,Yt(_e,Ie),u[Qe+h]=Pe.a,u[yt+h]=Pe.b)}if(_&ee){var Qe=Oe+de;Y?st(u[Oe+h],u[Qe+h]):Yt(u[Oe+h],u[Qe+h]),Ae=Pe.a,u[Qe+h]=Pe.b,u[Oe+h]=Ae}}if(j&ee)for(var Oe=$,We=$+z*(_-ne);Oe<=We;Oe+=Ce){var ke=Oe+Ee;Y?st(u[Oe+h],u[ke+h]):Yt(u[Oe+h],u[ke+h]),Ae=Pe.a,u[ke+h]=Pe.b,u[Oe+h]=Ae}ne=ee,ee>>=1}return $}function $n(u,h,_,z,j,D,K,Y,te,ee){for(var ne=0,$=0,He=Y,de=Math.trunc(j.value+(D+7)/8);j.value<de;)for(pe(ne,$,_,j),ne=X.c,$=X.lc;$>=14;){var ve=ne>>$-14&16383,Ee=h[ve];if(Ee.len)$-=Ee.len,xe(Ee.lit,K,ne,$,_,z,j,te,ee,He),ne=me.c,$=me.lc;else{if(!Ee.p)throw"hufDecode issues";var Ce;for(Ce=0;Ce<Ee.lit;Ce++){for(var Ae=we(u[Ee.p[Ce]]);$<Ae&&j.value<de;)pe(ne,$,_,j),ne=X.c,$=X.lc;if($>=Ae&&Q(u[Ee.p[Ce]])==(ne>>$-Ae&(1<<Ae)-1)){$-=Ae,xe(Ee.p[Ce],K,ne,$,_,z,j,te,ee,He),ne=me.c,$=me.lc;break}}if(Ce==Ee.lit)throw"hufDecode issues"}}var Le=8-D&7;for(ne>>=Le,$-=Le;$>0;){var Ee=h[ne<<14-$&16383];if(Ee.len)$-=Ee.len,xe(Ee.lit,K,ne,$,_,z,j,te,ee,He),ne=me.c,$=me.lc;else throw"hufDecode issues"}return!0}function It(u,h,_,z,j,D){var K={value:0},Y=_.value,te=gt(h,_),ee=gt(h,_);_.value+=4;var ne=gt(h,_);if(_.value+=4,te<0||te>=65537||ee<0||ee>=65537)throw"Something wrong with HUF_ENCSIZE";var $=new Array(65537),He=new Array(16384);H(He);var de=z-(_.value-Y);if(ie(u,h,_,de,te,ee,$),ne>8*(z-(_.value-Y)))throw"Something wrong with hufUncompress";ae($,te,ee,He),$n($,He,u,h,_,ne,ee,D,j,K)}function er(u,h,_){for(var z=0;z<_;++z)h[z]=u[h[z]]}function vt(u){for(var h=1;h<u.length;h++){var _=u[h-1]+u[h]-128;u[h]=_}}function ii(u,h){for(var _=0,z=Math.floor((u.length+1)/2),j=0,D=u.length-1;!(j>D||(h[j++]=u[_++],j>D));)h[j++]=u[z++]}function li(u){for(var h=u.byteLength,_=new Array,z=0,j=new DataView(u);h>0;){var D=j.getInt8(z++);if(D<0){var K=-D;h-=K+1;for(var Y=0;Y<K;Y++)_.push(j.getUint8(z++))}else{var K=D;h-=2;for(var te=j.getUint8(z++),Y=0;Y<K+1;Y++)_.push(te)}}return _}function Sl(u,h,_,z,j,D){var ke=new DataView(D.buffer),K=_[u.idx[0]].width,Y=_[u.idx[0]].height,te=3,ee=Math.floor(K/8),ne=Math.ceil(K/8),$=Math.ceil(Y/8),He=K-(ne-1)*8,de=Y-($-1)*8,ve={value:0},Ee=new Array(te),Ce=new Array(te),Ae=new Array(te),Le=new Array(te),_e=new Array(te);for(let Be=0;Be<te;++Be)_e[Be]=h[u.idx[Be]],Ee[Be]=Be<1?0:Ee[Be-1]+ne*$,Ce[Be]=new Float32Array(64),Ae[Be]=new Uint16Array(64),Le[Be]=new Uint16Array(ne*64);for(let Be=0;Be<$;++Be){var Ie=8;Be==$-1&&(Ie=de);var Oe=8;for(let Ge=0;Ge<ne;++Ge){Ge==ne-1&&(Oe=He);for(let Fe=0;Fe<te;++Fe)Ae[Fe].fill(0),Ae[Fe][0]=j[Ee[Fe]++],_l(ve,z,Ae[Fe]),El(Ae[Fe],Ce[Fe]),Ml(Ce[Fe]);On(Ce);for(let Fe=0;Fe<te;++Fe)Rl(Ce[Fe],Le[Fe],Ge*64)}let ot=0;for(let Ge=0;Ge<te;++Ge){const Fe=_[u.idx[Ge]].type;for(let Ke=8*Be;Ke<8*Be+Ie;++Ke){ot=_e[Ge][Ke];for(let cn=0;cn<ee;++cn){const Mt=cn*64+(Ke&7)*8;ke.setUint16(ot+0*Fe,Le[Ge][Mt+0],!0),ke.setUint16(ot+2*Fe,Le[Ge][Mt+1],!0),ke.setUint16(ot+4*Fe,Le[Ge][Mt+2],!0),ke.setUint16(ot+6*Fe,Le[Ge][Mt+3],!0),ke.setUint16(ot+8*Fe,Le[Ge][Mt+4],!0),ke.setUint16(ot+10*Fe,Le[Ge][Mt+5],!0),ke.setUint16(ot+12*Fe,Le[Ge][Mt+6],!0),ke.setUint16(ot+14*Fe,Le[Ge][Mt+7],!0),ot+=16*Fe}}if(ee!=ne)for(let Ke=8*Be;Ke<8*Be+Ie;++Ke){const cn=_e[Ge][Ke]+8*ee*2*Fe,Mt=ee*64+(Ke&7)*8;for(let bt=0;bt<Oe;++bt)ke.setUint16(cn+bt*2*Fe,Le[Ge][Mt+bt],!0)}}}for(var We=new Uint16Array(K),ke=new DataView(D.buffer),Qe=0;Qe<te;++Qe){_[u.idx[Qe]].decoded=!0;var yt=_[u.idx[Qe]].type;if(_[Qe].type==2)for(var rt=0;rt<Y;++rt){const Be=_e[Qe][rt];for(var pt=0;pt<K;++pt)We[pt]=ke.getUint16(Be+pt*2*yt,!0);for(var pt=0;pt<K;++pt)ke.setFloat32(Be+pt*2*yt,ue(We[pt]),!0)}}}function _l(u,h,_){for(var z,j=1;j<64;)z=h[u.value],z==65280?j=64:z>>8==255?j+=z&255:(_[j]=z,j++),u.value++}function El(u,h){h[0]=ue(u[0]),h[1]=ue(u[1]),h[2]=ue(u[5]),h[3]=ue(u[6]),h[4]=ue(u[14]),h[5]=ue(u[15]),h[6]=ue(u[27]),h[7]=ue(u[28]),h[8]=ue(u[2]),h[9]=ue(u[4]),h[10]=ue(u[7]),h[11]=ue(u[13]),h[12]=ue(u[16]),h[13]=ue(u[26]),h[14]=ue(u[29]),h[15]=ue(u[42]),h[16]=ue(u[3]),h[17]=ue(u[8]),h[18]=ue(u[12]),h[19]=ue(u[17]),h[20]=ue(u[25]),h[21]=ue(u[30]),h[22]=ue(u[41]),h[23]=ue(u[43]),h[24]=ue(u[9]),h[25]=ue(u[11]),h[26]=ue(u[18]),h[27]=ue(u[24]),h[28]=ue(u[31]),h[29]=ue(u[40]),h[30]=ue(u[44]),h[31]=ue(u[53]),h[32]=ue(u[10]),h[33]=ue(u[19]),h[34]=ue(u[23]),h[35]=ue(u[32]),h[36]=ue(u[39]),h[37]=ue(u[45]),h[38]=ue(u[52]),h[39]=ue(u[54]),h[40]=ue(u[20]),h[41]=ue(u[22]),h[42]=ue(u[33]),h[43]=ue(u[38]),h[44]=ue(u[46]),h[45]=ue(u[51]),h[46]=ue(u[55]),h[47]=ue(u[60]),h[48]=ue(u[21]),h[49]=ue(u[34]),h[50]=ue(u[37]),h[51]=ue(u[47]),h[52]=ue(u[50]),h[53]=ue(u[56]),h[54]=ue(u[59]),h[55]=ue(u[61]),h[56]=ue(u[35]),h[57]=ue(u[36]),h[58]=ue(u[48]),h[59]=ue(u[49]),h[60]=ue(u[57]),h[61]=ue(u[58]),h[62]=ue(u[62]),h[63]=ue(u[63])}function Ml(u){const h=.5*Math.cos(.7853975),_=.5*Math.cos(3.14159/16),z=.5*Math.cos(3.14159/8),j=.5*Math.cos(3*3.14159/16),D=.5*Math.cos(5*3.14159/16),K=.5*Math.cos(3*3.14159/8),Y=.5*Math.cos(7*3.14159/16);for(var te=new Array(4),ee=new Array(4),ne=new Array(4),$=new Array(4),He=0;He<8;++He){var de=He*8;te[0]=z*u[de+2],te[1]=K*u[de+2],te[2]=z*u[de+6],te[3]=K*u[de+6],ee[0]=_*u[de+1]+j*u[de+3]+D*u[de+5]+Y*u[de+7],ee[1]=j*u[de+1]-Y*u[de+3]-_*u[de+5]-D*u[de+7],ee[2]=D*u[de+1]-_*u[de+3]+Y*u[de+5]+j*u[de+7],ee[3]=Y*u[de+1]-D*u[de+3]+j*u[de+5]-_*u[de+7],ne[0]=h*(u[de+0]+u[de+4]),ne[3]=h*(u[de+0]-u[de+4]),ne[1]=te[0]+te[3],ne[2]=te[1]-te[2],$[0]=ne[0]+ne[1],$[1]=ne[3]+ne[2],$[2]=ne[3]-ne[2],$[3]=ne[0]-ne[1],u[de+0]=$[0]+ee[0],u[de+1]=$[1]+ee[1],u[de+2]=$[2]+ee[2],u[de+3]=$[3]+ee[3],u[de+4]=$[3]-ee[3],u[de+5]=$[2]-ee[2],u[de+6]=$[1]-ee[1],u[de+7]=$[0]-ee[0]}for(var ve=0;ve<8;++ve)te[0]=z*u[16+ve],te[1]=K*u[16+ve],te[2]=z*u[48+ve],te[3]=K*u[48+ve],ee[0]=_*u[8+ve]+j*u[24+ve]+D*u[40+ve]+Y*u[56+ve],ee[1]=j*u[8+ve]-Y*u[24+ve]-_*u[40+ve]-D*u[56+ve],ee[2]=D*u[8+ve]-_*u[24+ve]+Y*u[40+ve]+j*u[56+ve],ee[3]=Y*u[8+ve]-D*u[24+ve]+j*u[40+ve]-_*u[56+ve],ne[0]=h*(u[ve]+u[32+ve]),ne[3]=h*(u[ve]-u[32+ve]),ne[1]=te[0]+te[3],ne[2]=te[1]-te[2],$[0]=ne[0]+ne[1],$[1]=ne[3]+ne[2],$[2]=ne[3]-ne[2],$[3]=ne[0]-ne[1],u[0+ve]=$[0]+ee[0],u[8+ve]=$[1]+ee[1],u[16+ve]=$[2]+ee[2],u[24+ve]=$[3]+ee[3],u[32+ve]=$[3]-ee[3],u[40+ve]=$[2]-ee[2],u[48+ve]=$[1]-ee[1],u[56+ve]=$[0]-ee[0]}function On(u){for(var h=0;h<64;++h){var _=u[0][h],z=u[1][h],j=u[2][h];u[0][h]=_+1.5747*j,u[1][h]=_-.1873*z-.4682*j,u[2][h]=_+1.8556*z}}function Rl(u,h,_){for(var z=0;z<64;++z)h[_+z]=gr.toHalfFloat(Cl(u[z]))}function Cl(u){return u<=1?Math.sign(u)*Math.pow(Math.abs(u),2.2):Math.sign(u)*Math.pow(W,Math.abs(u)-1)}function oi(u){return new DataView(u.array.buffer,u.offset.value,u.size)}function An(u){var h=u.viewer.buffer.slice(u.offset.value,u.offset.value+u.size),_=new Uint8Array(li(h)),z=new Uint8Array(_.length);return vt(_),ii(_,z),new DataView(z.buffer)}function Mr(u){var h=u.array.slice(u.offset.value,u.offset.value+u.size),_=fl(h),z=new Uint8Array(_.length);return vt(_),ii(_,z),new DataView(z.buffer)}function Il(u){for(var h=u.viewer,_={value:u.offset.value},z=new Uint16Array(u.width*u.scanlineBlockSize*(u.channels*u.type)),j=new Uint8Array(8192),D=0,K=new Array(u.channels),Y=0;Y<u.channels;Y++)K[Y]={},K[Y].start=D,K[Y].end=K[Y].start,K[Y].nx=u.width,K[Y].ny=u.lines,K[Y].size=u.type,D+=K[Y].nx*K[Y].ny*K[Y].size;var te=jn(h,_),ee=jn(h,_);if(ee>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(te<=ee)for(var Y=0;Y<ee-te+1;Y++)j[Y+te]=yn(h,_);var ne=new Uint16Array(65536),$=B(j,ne),He=gt(h,_);It(u.array,h,_,He,z,D);for(var Y=0;Y<u.channels;++Y)for(var de=K[Y],ve=0;ve<K[Y].size;++ve)Er(z,de.start+ve,de.nx,de.size,de.ny,de.nx*de.size,$);er(ne,z,D);for(var Ee=0,Ce=new Uint8Array(z.buffer.byteLength),Ae=0;Ae<u.lines;Ae++)for(var Le=0;Le<u.channels;Le++){var de=K[Le],_e=de.nx*de.size,Ie=new Uint8Array(z.buffer,de.end*2,_e*2);Ce.set(Ie,Ee),Ee+=_e*2,de.end+=_e}return new DataView(Ce.buffer)}function Pl(u){var h=u.array.slice(u.offset.value,u.offset.value+u.size),_=fl(h);const z=u.lines*u.channels*u.width,j=u.type==1?new Uint16Array(z):new Uint32Array(z);let D=0,K=0;const Y=new Array(4);for(let te=0;te<u.lines;te++)for(let ee=0;ee<u.channels;ee++){let ne=0;switch(u.type){case 1:Y[0]=D,Y[1]=Y[0]+u.width,D=Y[1]+u.width;for(let $=0;$<u.width;++$){const He=_[Y[0]++]<<8|_[Y[1]++];ne+=He,j[K]=ne,K++}break;case 2:Y[0]=D,Y[1]=Y[0]+u.width,Y[2]=Y[1]+u.width,D=Y[2]+u.width;for(let $=0;$<u.width;++$){const He=_[Y[0]++]<<24|_[Y[1]++]<<16|_[Y[2]++]<<8;ne+=He,j[K]=ne,K++}break}}return new DataView(j.buffer)}function ai(u){var h=u.viewer,_={value:u.offset.value},z=new Uint8Array(u.width*u.lines*(u.channels*u.type*2)),j={version:Et(h,_),unknownUncompressedSize:Et(h,_),unknownCompressedSize:Et(h,_),acCompressedSize:Et(h,_),dcCompressedSize:Et(h,_),rleCompressedSize:Et(h,_),rleUncompressedSize:Et(h,_),rleRawSize:Et(h,_),totalAcUncompressedCount:Et(h,_),totalDcUncompressedCount:Et(h,_),acCompression:Et(h,_)};if(j.version<2)throw"EXRLoader.parse: "+Xt.compression+" version "+j.version+" is unsupported";for(var D=new Array,K=jn(h,_)-2;K>0;){var Y=tr(h.buffer,_),te=yn(h,_),ee=te>>2&3,ne=(te>>4)-1,$=new Int8Array([ne])[0],He=yn(h,_);D.push({name:Y,index:$,type:He,compression:ee}),K-=Y.length+3}for(var de=Xt.channels,ve=new Array(u.channels),Ee=0;Ee<u.channels;++Ee){var Ce=ve[Ee]={},Ae=de[Ee];Ce.name=Ae.name,Ce.compression=0,Ce.decoded=!1,Ce.type=Ae.pixelType,Ce.pLinear=Ae.pLinear,Ce.width=u.width,Ce.height=u.lines}for(var Le={idx:new Array(3)},_e=0;_e<u.channels;++_e)for(var Ce=ve[_e],Ee=0;Ee<D.length;++Ee){var Ie=D[Ee];Ce.name==Ie.name&&(Ce.compression=Ie.compression,Ie.index>=0&&(Le.idx[Ie.index]=_e),Ce.offset=_e)}if(j.acCompressedSize>0)switch(j.acCompression){case 0:var ke=new Uint16Array(j.totalAcUncompressedCount);It(u.array,h,_,j.acCompressedSize,ke,j.totalAcUncompressedCount);break;case 1:var Oe=u.array.slice(_.value,_.value+j.totalAcUncompressedCount),We=fl(Oe),ke=new Uint16Array(We.buffer);_.value+=j.totalAcUncompressedCount;break}if(j.dcCompressedSize>0){var Qe={array:u.array,offset:_,size:j.dcCompressedSize},yt=new Uint16Array(Mr(Qe).buffer);_.value+=j.dcCompressedSize}if(j.rleRawSize>0){var Oe=u.array.slice(_.value,_.value+j.rleCompressedSize),We=fl(Oe),rt=li(We.buffer);_.value+=j.rleCompressedSize}for(var pt=0,Be=new Array(ve.length),Ee=0;Ee<Be.length;++Ee)Be[Ee]=new Array;for(var ot=0;ot<u.lines;++ot)for(var Ge=0;Ge<ve.length;++Ge)Be[Ge].push(pt),pt+=ve[Ge].width*u.type*2;Sl(Le,Be,ve,ke,yt,z);for(var Ee=0;Ee<ve.length;++Ee){var Ce=ve[Ee];if(!Ce.decoded)switch(Ce.compression){case 2:for(var Fe=0,Ke=0,ot=0;ot<u.lines;++ot){for(var cn=Be[Ee][Fe],Mt=0;Mt<Ce.width;++Mt){for(var bt=0;bt<2*Ce.type;++bt)z[cn++]=rt[Ke+bt*Ce.width*Ce.height];Ke++}Fe++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(z.buffer)}function tr(u,h){for(var _=new Uint8Array(u),z=0;_[h.value+z]!=0;)z+=1;var j=new TextDecoder().decode(_.slice(h.value,h.value+z));return h.value=h.value+z+1,j}function kl(u,h,_){var z=new TextDecoder().decode(new Uint8Array(u).slice(h.value,h.value+_));return h.value=h.value+_,z}function Tl(u,h){var _=Fn(u,h),z=gt(u,h);return[_,z]}function Nl(u,h){var _=gt(u,h),z=gt(u,h);return[_,z]}function Fn(u,h){var _=u.getInt32(h.value,!0);return h.value=h.value+4,_}function gt(u,h){var _=u.getUint32(h.value,!0);return h.value=h.value+4,_}function si(u,h){var _=u[h.value];return h.value=h.value+1,_}function yn(u,h){var _=u.getUint8(h.value);return h.value=h.value+1,_}const Et=function(u,h){let _;return"getBigInt64"in DataView.prototype?_=Number(u.getBigInt64(h.value,!0)):_=u.getUint32(h.value+4,!0)+Number(u.getUint32(h.value,!0)<<32),h.value+=8,_};function ut(u,h){var _=u.getFloat32(h.value,!0);return h.value+=4,_}function zl(u,h){return gr.toHalfFloat(ut(u,h))}function ue(u){var h=(u&31744)>>10,_=u&1023;return(u>>15?-1:1)*(h?h===31?_?NaN:1/0:Math.pow(2,h-15)*(1+_/1024):6103515625e-14*(_/1024))}function jn(u,h){var _=u.getUint16(h.value,!0);return h.value+=2,_}function Ll(u,h){return ue(jn(u,h))}function Ol(u,h,_,z){for(var j=_.value,D=[];_.value<j+z-1;){var K=tr(h,_),Y=Fn(u,_),te=yn(u,_);_.value+=3;var ee=Fn(u,_),ne=Fn(u,_);D.push({name:K,pixelType:Y,pLinear:te,xSampling:ee,ySampling:ne})}return _.value+=1,D}function ui(u,h){var _=ut(u,h),z=ut(u,h),j=ut(u,h),D=ut(u,h),K=ut(u,h),Y=ut(u,h),te=ut(u,h),ee=ut(u,h);return{redX:_,redY:z,greenX:j,greenY:D,blueX:K,blueY:Y,whiteX:te,whiteY:ee}}function ci(u,h){var _=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],z=yn(u,h);return _[z]}function Al(u,h){var _=gt(u,h),z=gt(u,h),j=gt(u,h),D=gt(u,h);return{xMin:_,yMin:z,xMax:j,yMax:D}}function fi(u,h){var _=["INCREASING_Y"],z=yn(u,h);return _[z]}function di(u,h){var _=ut(u,h),z=ut(u,h);return[_,z]}function pi(u,h){var _=ut(u,h),z=ut(u,h),j=ut(u,h);return[_,z,j]}function Fl(u,h,_,z,j){if(z==="string"||z==="stringvector"||z==="iccProfile")return kl(h,_,j);if(z==="chlist")return Ol(u,h,_,j);if(z==="chromaticities")return ui(u,_);if(z==="compression")return ci(u,_);if(z==="box2i")return Al(u,_);if(z==="lineOrder")return fi(u,_);if(z==="float")return ut(u,_);if(z==="v2f")return di(u,_);if(z==="v3f")return pi(u,_);if(z==="int")return Fn(u,_);if(z==="rational")return Tl(u,_);if(z==="timecode")return Nl(u,_);if(z==="preview")return _.value+=j,"skipped";_.value+=j}function jl(u,h,_){const z={};if(u.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";z.version=u.getUint8(4);const j=u.getUint8(5);z.spec={singleTile:!!(j&2),longName:!!(j&4),deepFormat:!!(j&8),multiPart:!!(j&16)},_.value=8;for(var D=!0;D;){var K=tr(h,_);if(K==0)D=!1;else{var Y=tr(h,_),te=gt(u,_),ee=Fl(u,h,_,Y,te);ee===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Y}'.`):z[K]=ee}}if((j&-5)!=0)throw console.error("EXRHeader:",z),"THREE.EXRLoader: provided file is currently unsupported.";return z}function Dl(u,h,_,z,j){const D={size:0,viewer:h,array:_,offset:z,width:u.dataWindow.xMax-u.dataWindow.xMin+1,height:u.dataWindow.yMax-u.dataWindow.yMin+1,channels:u.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:u.channels[0].pixelType,uncompress:null,getter:null,format:null,[qr?"colorSpace":"encoding"]:null};switch(u.compression){case"NO_COMPRESSION":D.lines=1,D.uncompress=oi;break;case"RLE_COMPRESSION":D.lines=1,D.uncompress=An;break;case"ZIPS_COMPRESSION":D.lines=1,D.uncompress=Mr;break;case"ZIP_COMPRESSION":D.lines=16,D.uncompress=Mr;break;case"PIZ_COMPRESSION":D.lines=32,D.uncompress=Il;break;case"PXR24_COMPRESSION":D.lines=16,D.uncompress=Pl;break;case"DWAA_COMPRESSION":D.lines=32,D.uncompress=ai;break;case"DWAB_COMPRESSION":D.lines=256,D.uncompress=ai;break;default:throw"EXRLoader.parse: "+u.compression+" is unsupported"}if(D.scanlineBlockSize=D.lines,D.type==1)switch(j){case sn:D.getter=Ll,D.inputSize=2;break;case At:D.getter=jn,D.inputSize=2;break}else if(D.type==2)switch(j){case sn:D.getter=ut,D.inputSize=4;break;case At:D.getter=zl,D.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+D.type+" for "+u.compression+".";D.blockCount=(u.dataWindow.yMax+1)/D.scanlineBlockSize;for(var K=0;K<D.blockCount;K++)Et(h,z);D.outputChannels=D.channels==3?4:D.channels;const Y=D.width*D.height*D.outputChannels;switch(j){case sn:D.byteArray=new Float32Array(Y),D.channels<D.outputChannels&&D.byteArray.fill(1,0,Y);break;case At:D.byteArray=new Uint16Array(Y),D.channels<D.outputChannels&&D.byteArray.fill(15360,0,Y);break;default:console.error("THREE.EXRLoader: unsupported type: ",j);break}return D.bytesPerLine=D.width*D.inputSize*D.channels,D.outputChannels==4?D.format=xr:D.format=Vf,qr?D.colorSpace="srgb-linear":D.encoding=3e3,D}const Dn=new DataView(i),Rr=new Uint8Array(i),Un={value:0},Xt=jl(Dn,i,Un),ze=Dl(Xt,Dn,Rr,Un,this.type),hi={value:0},Ul={R:0,G:1,B:2,A:3,Y:0};for(let u=0;u<ze.height/ze.scanlineBlockSize;u++){const h=gt(Dn,Un);ze.size=gt(Dn,Un),ze.lines=h+ze.scanlineBlockSize>ze.height?ze.height-h:ze.scanlineBlockSize;const z=ze.size<ze.lines*ze.bytesPerLine?ze.uncompress(ze):oi(ze);Un.value+=ze.size;for(let j=0;j<ze.scanlineBlockSize;j++){const D=j+u*ze.scanlineBlockSize;if(D>=ze.height)break;for(let K=0;K<ze.channels;K++){const Y=Ul[Xt.channels[K].name];for(let te=0;te<ze.width;te++){hi.value=(j*(ze.channels*ze.width)+K*ze.width+te)*ze.inputSize;const ee=(ze.height-1-D)*(ze.width*ze.outputChannels)+te*ze.outputChannels+Y;ze.byteArray[ee]=ze.getter(z,hi)}}}}return{header:Xt,width:ze.width,height:ze.height,data:ze.byteArray,format:ze.format,[qr?"colorSpace":"encoding"]:ze[qr?"colorSpace":"encoding"],type:this.type}}setDataType(i){return this.type=i,this}load(i,a,c,f){function v(d,w){qr?d.colorSpace=w.colorSpace:d.encoding=w.encoding,d.minFilter=Qt,d.magFilter=Qt,d.generateMipmaps=!1,d.flipY=!1,a&&a(d,w)}return super.load(i,v,c,f)}}function Vp(l,i,a,c){const f=class extends ti{constructor(d={}){const w=Object.entries(l);super({uniforms:w.reduce((g,[S,p])=>{const m=Zf.clone({[S]:{value:p}});return{...g,...m}},{}),vertexShader:i,fragmentShader:a}),this.key="",w.forEach(([g])=>Object.defineProperty(this,g,{get:()=>this.uniforms[g].value,set:S=>this.uniforms[g].value=S})),Object.assign(this,d)}};return f.key=Vt.generateUUID(),f}const Zp=()=>parseInt(qu.replace(/\D+/g,"")),Tc=Zp();function Qp(l,i,a){const c=un(x=>x.size),f=un(x=>x.viewport),v=typeof l=="number"?l:c.width*f.dpr,d=c.height*f.dpr,w=(typeof l=="number"?a:l)||{},{samples:g=0,depth:S,...p}=w,m=I.useMemo(()=>{const x=new xa(v,d,{minFilter:Qt,magFilter:Qt,type:At,...p});return S&&(x.depthTexture=new Qf(v,d,sn)),x.samples=g,x},[]);return I.useLayoutEffect(()=>{m.setSize(v,d),g&&(m.samples=g)},[g,m,v,d]),I.useEffect(()=>()=>m.dispose(),[]),m}const Yp=l=>typeof l=="function",Xp=I.forwardRef(({envMap:l,resolution:i=256,frames:a=1/0,makeDefault:c,children:f,...v},d)=>{const w=un(({set:k})=>k),g=un(({camera:k})=>k),S=un(({size:k})=>k),p=I.useRef(null);I.useImperativeHandle(d,()=>p.current,[]);const m=I.useRef(null),x=Qp(i);I.useLayoutEffect(()=>{v.manual||(p.current.aspect=S.width/S.height)},[S,v]),I.useLayoutEffect(()=>{p.current.updateProjectionMatrix()});let R=0,T=null;const F=Yp(f);return gn(k=>{F&&(a===1/0||R<a)&&(m.current.visible=!1,k.gl.setRenderTarget(x),T=k.scene.background,l&&(k.scene.background=l),k.gl.render(k.scene,p.current),k.scene.background=T,k.gl.setRenderTarget(null),m.current.visible=!0,R++)}),I.useLayoutEffect(()=>{if(c){const k=g;return w(()=>({camera:p.current})),()=>w(()=>({camera:k}))}},[p,c,w]),I.createElement(I.Fragment,null,I.createElement("perspectiveCamera",bn({ref:p},v),!F&&f),I.createElement("group",{ref:m},F&&f(x.texture)))}),qp=Vp({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new gl,sectionColor:new gl,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new Xe,worldPlanePosition:new Xe},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Tc>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),Kp=I.forwardRef(({args:l,cellColor:i="#000000",sectionColor:a="#2080ff",cellSize:c=.5,sectionSize:f=1,followCamera:v=!1,infiniteGrid:d=!1,fadeDistance:w=100,fadeStrength:g=1,fadeFrom:S=1,cellThickness:p=.5,sectionThickness:m=1,side:x=Xf,...R},T)=>{_a({GridMaterial:qp});const F=I.useRef(null);I.useImperativeHandle(T,()=>F.current,[]);const k=new Yf,M=new Xe(0,1,0),L=new Xe(0,0,0);gn(Z=>{k.setFromNormalAndCoplanarPoint(M,L).applyMatrix4(F.current.matrixWorld);const V=F.current.material,re=V.uniforms.worldCamProjPosition,G=V.uniforms.worldPlanePosition;k.projectPoint(Z.camera.position,re.value),G.value.set(0,0,0).applyMatrix4(F.current.matrixWorld)});const O={cellSize:c,sectionSize:f,cellColor:i,sectionColor:a,cellThickness:p,sectionThickness:m},q={fadeDistance:w,fadeStrength:g,fadeFrom:S,infiniteGrid:d,followCamera:v};return I.createElement("mesh",bn({ref:F,frustumCulled:!1},R),I.createElement("gridMaterial",bn({transparent:!0,"extensions-derivatives":!0,side:x},O,q)),I.createElement("planeGeometry",{args:l}))}),Jp=3e3,bp=3001;function Nc(l,i){const a=l+"Geometry";return I.forwardRef(({args:c,children:f,...v},d)=>{const w=I.useRef(null);return I.useImperativeHandle(d,()=>w.current),I.useLayoutEffect(()=>void(i==null?void 0:i(w.current))),I.createElement("mesh",bn({ref:w},v),I.createElement(a,{attach:"geometry",args:c}),f)})}const $p=Nc("octahedron"),eh=Nc("extrude"),zc=(l,i,a)=>{let c;switch(l){case vl:c=new Uint8ClampedArray(i*a*4);break;case At:c=new Uint16Array(i*a*4);break;case ed:c=new Uint32Array(i*a*4);break;case $f:c=new Int8Array(i*a*4);break;case bf:c=new Int16Array(i*a*4);break;case Jf:c=new Int32Array(i*a*4);break;case sn:c=new Float32Array(i*a*4);break;default:throw new Error("Unsupported data type")}return c};let dl;const th=(l,i,a,c)=>{if(dl!==void 0)return dl;const f=new xa(1,1,c);i.setRenderTarget(f);const v=new wa(new bu,new Kf({color:16777215}));i.render(v,a),i.setRenderTarget(null);const d=zc(l,f.width,f.height);return i.readRenderTargetPixels(f,0,0,f.width,f.height,d),f.dispose(),v.geometry.dispose(),v.material.dispose(),dl=d[0]!==0,dl};class Ca{constructor(i){et(this,"_renderer");et(this,"_rendererIsDisposable",!1);et(this,"_material");et(this,"_scene");et(this,"_camera");et(this,"_quad");et(this,"_renderTarget");et(this,"_width");et(this,"_height");et(this,"_type");et(this,"_colorSpace");et(this,"_supportsReadPixels",!0);et(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(i){throw this._renderer.setRenderTarget(null),i}this._renderer.setRenderTarget(null)});var c,f,v,d,w,g,S,p,m,x,R,T,F,k,M,L;this._width=i.width,this._height=i.height,this._type=i.type,this._colorSpace=i.colorSpace;const a={format:xr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((c=i.renderTargetOptions)==null?void 0:c.anisotropy)!==void 0?(f=i.renderTargetOptions)==null?void 0:f.anisotropy:1,generateMipmaps:((v=i.renderTargetOptions)==null?void 0:v.generateMipmaps)!==void 0?(d=i.renderTargetOptions)==null?void 0:d.generateMipmaps:!1,magFilter:((w=i.renderTargetOptions)==null?void 0:w.magFilter)!==void 0?(g=i.renderTargetOptions)==null?void 0:g.magFilter:Qt,minFilter:((S=i.renderTargetOptions)==null?void 0:S.minFilter)!==void 0?(p=i.renderTargetOptions)==null?void 0:p.minFilter:Qt,samples:((m=i.renderTargetOptions)==null?void 0:m.samples)!==void 0?(x=i.renderTargetOptions)==null?void 0:x.samples:void 0,wrapS:((R=i.renderTargetOptions)==null?void 0:R.wrapS)!==void 0?(T=i.renderTargetOptions)==null?void 0:T.wrapS:Nn,wrapT:((F=i.renderTargetOptions)==null?void 0:F.wrapT)!==void 0?(k=i.renderTargetOptions)==null?void 0:k.wrapT:Nn};if(this._material=i.material,i.renderer?this._renderer=i.renderer:(this._renderer=Ca.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new ml,this._camera=new Qu,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!th(this._type,this._renderer,this._camera,a)){let O;switch(this._type){case At:O=this._renderer.extensions.has("EXT_color_buffer_float")?sn:void 0;break}O!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${sn}`),this._type=O):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new wa(new bu,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new xa(this.width,this.height,a),this._renderTarget.texture.mapping=((M=i.renderTargetOptions)==null?void 0:M.mapping)!==void 0?(L=i.renderTargetOptions)==null?void 0:L.mapping:yl}static instantiateRenderer(){const i=new Yu;return i.setSize(128,128),i}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const i=zc(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,i),i}toDataTexture(i){const a=new qf(this.toArray(),this.width,this.height,xr,this._type,(i==null?void 0:i.mapping)||yl,(i==null?void 0:i.wrapS)||Nn,(i==null?void 0:i.wrapT)||Nn,(i==null?void 0:i.magFilter)||Qt,(i==null?void 0:i.minFilter)||Qt,(i==null?void 0:i.anisotropy)||1,pa);return a.generateMipmaps=(i==null?void 0:i.generateMipmaps)!==void 0?i==null?void 0:i.generateMipmaps:!1,a}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(i){this.disposeOnDemandRenderer(),i&&this.renderTarget.dispose(),this.material instanceof ti&&Object.values(this.material.uniforms).forEach(a=>{a.value instanceof qn&&a.value.dispose()}),Object.values(this.material).forEach(a=>{a instanceof qn&&a.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(i){this._width=i,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(i){this._height=i,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(i){this._renderTarget=i,this._width=i.width,this._height=i.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class Lc extends Error{}class Oc extends Error{}const Kr=(l,i,a)=>{const c=new RegExp(`${i}="([^"]*)"`,"i").exec(l);if(c)return c[1];const f=new RegExp(`<${i}[^>]*>([\\s\\S]*?)</${i}>`,"i").exec(l);if(f){const v=f[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return v&&v.length===3?v.map(d=>d.replace(/<\/?rdf:li>/g,"")):f[1].trim()}if(a!==void 0)return a;throw new Error(`Can't find ${i} in gainmap metadata`)},nh=l=>{let i;typeof TextDecoder<"u"?i=new TextDecoder().decode(l):i=l.toString();let a=i.indexOf("<x:xmpmeta");for(;a!==-1;){const c=i.indexOf("x:xmpmeta>",a),f=i.slice(a,c+10);try{const v=Kr(f,"hdrgm:GainMapMin","0"),d=Kr(f,"hdrgm:GainMapMax"),w=Kr(f,"hdrgm:Gamma","1"),g=Kr(f,"hdrgm:OffsetSDR","0.015625"),S=Kr(f,"hdrgm:OffsetHDR","0.015625"),p=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(f),m=p?p[1]:"0",x=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(f);if(!x)throw new Error("Incomplete gainmap metadata");const R=x[1];return{gainMapMin:Array.isArray(v)?v.map(T=>parseFloat(T)):[parseFloat(v),parseFloat(v),parseFloat(v)],gainMapMax:Array.isArray(d)?d.map(T=>parseFloat(T)):[parseFloat(d),parseFloat(d),parseFloat(d)],gamma:Array.isArray(w)?w.map(T=>parseFloat(T)):[parseFloat(w),parseFloat(w),parseFloat(w)],offsetSdr:Array.isArray(g)?g.map(T=>parseFloat(T)):[parseFloat(g),parseFloat(g),parseFloat(g)],offsetHdr:Array.isArray(S)?S.map(T=>parseFloat(T)):[parseFloat(S),parseFloat(S),parseFloat(S)],hdrCapacityMin:parseFloat(m),hdrCapacityMax:parseFloat(R)}}catch{}a=i.indexOf("<x:xmpmeta",c)}};class rh{constructor(i){et(this,"options");this.options={debug:i&&i.debug!==void 0?i.debug:!1,extractFII:i&&i.extractFII!==void 0?i.extractFII:!0,extractNonFII:i&&i.extractNonFII!==void 0?i.extractNonFII:!0}}extract(i){return new Promise((a,c)=>{const f=this.options.debug,v=new DataView(i.buffer);if(v.getUint16(0)!==65496){c(new Error("Not a valid jpeg"));return}const d=v.byteLength;let w=2,g=0,S;for(;w<d;){if(++g>250){c(new Error(`Found no marker after ${g} loops `));return}if(v.getUint8(w)!==255){c(new Error(`Not a valid marker at offset 0x${w.toString(16)}, found: 0x${v.getUint8(w).toString(16)}`));return}if(S=v.getUint8(w+1),f&&console.log(`Marker: ${S.toString(16)}`),S===226){f&&console.log("Found APP2 marker (0xffe2)");const p=w+4;if(v.getUint32(p)===1297106432){const m=p+4;let x;if(v.getUint16(m)===18761)x=!1;else if(v.getUint16(m)===19789)x=!0;else{c(new Error("No valid endianness marker found in TIFF header"));return}if(v.getUint16(m+2,!x)!==42){c(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const R=v.getUint32(m+4,!x);if(R<8){c(new Error("Not valid TIFF data! (First offset less than 8)"));return}const T=m+R,F=v.getUint16(T,!x),k=T+2;let M=0;for(let Z=k;Z<k+12*F;Z+=12)v.getUint16(Z,!x)===45057&&(M=v.getUint32(Z+8,!x));const O=T+2+F*12+4,q=[];for(let Z=O;Z<O+M*16;Z+=16){const V={MPType:v.getUint32(Z,!x),size:v.getUint32(Z+4,!x),dataOffset:v.getUint32(Z+8,!x),dependantImages:v.getUint32(Z+12,!x),start:-1,end:-1,isFII:!1};V.dataOffset?(V.start=m+V.dataOffset,V.isFII=!1):(V.start=0,V.isFII=!0),V.end=V.start+V.size,q.push(V)}if(this.options.extractNonFII&&q.length){const Z=new Blob([v]),V=[];for(const re of q){if(re.isFII&&!this.options.extractFII)continue;const G=Z.slice(re.start,re.end+1,"image/jpeg");V.push(G)}a(V)}}}w+=2+v.getUint16(w+2)}})}}const ih=async l=>{const i=nh(l);if(!i)throw new Oc("Gain map XMP metadata not found");const c=await new rh({extractFII:!0,extractNonFII:!0}).extract(l);if(c.length!==2)throw new Lc("Gain map recovery image not found");return{sdr:new Uint8Array(await c[0].arrayBuffer()),gainMap:new Uint8Array(await c[1].arrayBuffer()),metadata:i}},Uu=l=>new Promise((i,a)=>{const c=document.createElement("img");c.onload=()=>{i(c)},c.onerror=f=>{a(f)},c.src=URL.createObjectURL(l)});class lh extends td{constructor(a,c){super(c);et(this,"_renderer");et(this,"_renderTargetOptions");et(this,"_internalLoadingManager");et(this,"_config");this._config=a,a.renderer&&(this._renderer=a.renderer),this._internalLoadingManager=new nd}setRenderer(a){return this._renderer=a,this}setRenderTargetOptions(a){return this._renderTargetOptions=a,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const a=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new qn,sdr:new qn});return this._config.createQuadRenderer({width:16,height:16,type:At,colorSpace:pa,material:a,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(a,c,f){const v=c?new Blob([c],{type:"image/jpeg"}):void 0,d=new Blob([a],{type:"image/jpeg"});let w,g,S=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([v?Uu(v):Promise.resolve(void 0),Uu(d)]);g=p[0],w=p[1],S=f==="flipY"}else{const p=await Promise.all([v?createImageBitmap(v,{imageOrientation:f||"flipY"}):Promise.resolve(void 0),createImageBitmap(d,{imageOrientation:f||"flipY"})]);g=p[0],w=p[1]}return{sdrImage:w,gainMapImage:g,needsFlip:S}}createTextures(a,c,f){const v=new qn(c||new ImageData(2,2),yl,Nn,Nn,Qt,cu,xr,vl,1,pa);v.flipY=f,v.needsUpdate=!0;const d=new qn(a,yl,Nn,Nn,Qt,cu,xr,vl,1,rd);return d.flipY=f,d.needsUpdate=!0,{gainMap:v,sdr:d}}updateQuadRenderer(a,c,f,v,d){a.width=c.width,a.height=c.height,a.material.gainMap=f,a.material.sdr=v,a.material.gainMapMin=d.gainMapMin,a.material.gainMapMax=d.gainMapMax,a.material.offsetHdr=d.offsetHdr,a.material.offsetSdr=d.offsetSdr,a.material.gamma=d.gamma,a.material.hdrCapacityMin=d.hdrCapacityMin,a.material.hdrCapacityMax=d.hdrCapacityMax,a.material.maxDisplayBoost=Math.pow(2,d.hdrCapacityMax),a.material.needsUpdate=!0}}const oh=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,ah=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class sh extends ti{constructor({gamma:a,offsetHdr:c,offsetSdr:f,gainMapMin:v,gainMapMax:d,maxDisplayBoost:w,hdrCapacityMin:g,hdrCapacityMax:S,sdr:p,gainMap:m}){super({name:"GainMapDecoderMaterial",vertexShader:oh,fragmentShader:ah,uniforms:{sdr:{value:p},gainMap:{value:m},gamma:{value:new Xe(1/a[0],1/a[1],1/a[2])},offsetHdr:{value:new Xe().fromArray(c)},offsetSdr:{value:new Xe().fromArray(f)},gainMapMin:{value:new Xe().fromArray(v)},gainMapMax:{value:new Xe().fromArray(d)},weightFactor:{value:(Math.log2(w)-g)/(S-g)}},blending:id,depthTest:!1,depthWrite:!1});et(this,"_maxDisplayBoost");et(this,"_hdrCapacityMin");et(this,"_hdrCapacityMax");this._maxDisplayBoost=w,this._hdrCapacityMin=g,this._hdrCapacityMax=S,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(a){this.uniforms.sdr.value=a}get gainMap(){return this.uniforms.gainMap.value}set gainMap(a){this.uniforms.gainMap.value=a}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(a){this.uniforms.offsetHdr.value.fromArray(a)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(a){this.uniforms.offsetSdr.value.fromArray(a)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(a){this.uniforms.gainMapMin.value.fromArray(a)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(a){this.uniforms.gainMapMax.value.fromArray(a)}get gamma(){const a=this.uniforms.gamma.value;return[1/a.x,1/a.y,1/a.z]}set gamma(a){const c=this.uniforms.gamma.value;c.x=1/a[0],c.y=1/a[1],c.z=1/a[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(a){this._hdrCapacityMin=a,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(a){this._hdrCapacityMax=a,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(a){this._maxDisplayBoost=Math.max(1,Math.min(65504,a)),this.calculateWeight()}calculateWeight(){const a=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,a))}}class Ac extends lh{constructor(i,a){super({renderer:i,createMaterial:c=>new sh(c),createQuadRenderer:c=>new Ca(c)},a)}async render(i,a,c,f){const{sdrImage:v,gainMapImage:d,needsFlip:w}=await this.processImages(c,f,"flipY"),{gainMap:g,sdr:S}=this.createTextures(v,d,w);this.updateQuadRenderer(i,v,g,S,a),i.render()}}class uh extends Ac{load([i,a,c],f,v,d){const w=this.prepareQuadRenderer();let g,S,p;const m=async()=>{if(g&&S&&p){try{await this.render(w,p,g,S)}catch(W){this.manager.itemError(i),this.manager.itemError(a),this.manager.itemError(c),typeof d=="function"&&d(W),w.disposeOnDemandRenderer();return}typeof f=="function"&&f(w),this.manager.itemEnd(i),this.manager.itemEnd(a),this.manager.itemEnd(c),w.disposeOnDemandRenderer()}};let x=!0,R=0,T=0,F=!0,k=0,M=0,L=!0,O=0,q=0;const Z=()=>{if(typeof v=="function"){const W=R+k+O,B=T+M+q,H=x&&F&&L;v(new ProgressEvent("progress",{lengthComputable:H,loaded:B,total:W}))}};this.manager.itemStart(i),this.manager.itemStart(a),this.manager.itemStart(c);const V=new pl(this._internalLoadingManager);V.setResponseType("arraybuffer"),V.setRequestHeader(this.requestHeader),V.setPath(this.path),V.setWithCredentials(this.withCredentials),V.load(i,async W=>{if(typeof W=="string")throw new Error("Invalid sdr buffer");g=W,await m()},W=>{x=W.lengthComputable,T=W.loaded,R=W.total,Z()},W=>{this.manager.itemError(i),typeof d=="function"&&d(W)});const re=new pl(this._internalLoadingManager);re.setResponseType("arraybuffer"),re.setRequestHeader(this.requestHeader),re.setPath(this.path),re.setWithCredentials(this.withCredentials),re.load(a,async W=>{if(typeof W=="string")throw new Error("Invalid gainmap buffer");S=W,await m()},W=>{F=W.lengthComputable,M=W.loaded,k=W.total,Z()},W=>{this.manager.itemError(a),typeof d=="function"&&d(W)});const G=new pl(this._internalLoadingManager);return G.setRequestHeader(this.requestHeader),G.setPath(this.path),G.setWithCredentials(this.withCredentials),G.load(c,async W=>{if(typeof W!="string")throw new Error("Invalid metadata string");p=JSON.parse(W),await m()},W=>{L=W.lengthComputable,q=W.loaded,O=W.total,Z()},W=>{this.manager.itemError(c),typeof d=="function"&&d(W)}),w}}class ch extends Ac{load(i,a,c,f){const v=this.prepareQuadRenderer(),d=new pl(this._internalLoadingManager);return d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(this.withCredentials),this.manager.itemStart(i),d.load(i,async w=>{if(typeof w=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const g=new Uint8Array(w);let S,p,m;try{const x=await ih(g);S=x.sdr,p=x.gainMap,m=x.metadata}catch(x){if(x instanceof Oc||x instanceof Lc)console.warn(`Failure to reconstruct an HDR image from ${i}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),m={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},S=g;else throw x}try{await this.render(v,m,S.buffer,p==null?void 0:p.buffer)}catch(x){this.manager.itemError(i),typeof f=="function"&&f(x),v.disposeOnDemandRenderer();return}typeof a=="function"&&a(v),this.manager.itemEnd(i),v.disposeOnDemandRenderer()},c,w=>{this.manager.itemError(i),typeof f=="function"&&f(w)}),v}}const ei={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Fc="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",wr=l=>Array.isArray(l),Ia=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function xl({files:l=Ia,path:i="",preset:a=void 0,encoding:c=void 0,extensions:f}={}){let v=null,d=!1;a&&(Pa(a),l=ei[a],i=Fc),d=wr(l);const{extension:w,isCubemap:g}=ka(l);if(v=Ta(w),!v)throw new Error("useEnvironment: Unrecognized file extension: "+l);const S=un(R=>R.gl);I.useLayoutEffect(()=>{if(w!=="webp"&&w!=="jpg"&&w!=="jpeg")return;function R(){Sr.clear(v,d?[l]:l)}S.domElement.addEventListener("webglcontextlost",R,{once:!0})},[l,S.domElement]);const p=Sr(v,d?[l]:l,R=>{(w==="webp"||w==="jpg"||w==="jpeg")&&R.setRenderer(S),R.setPath==null||R.setPath(i),f&&f(R)});let m=d?p[0]:p;if(w==="jpg"||w==="jpeg"||w==="webp"){var x;m=(x=m.renderTarget)==null?void 0:x.texture}return m.mapping=g?ld:od,"colorSpace"in m?m.colorSpace=c??g?"srgb":"srgb-linear":m.encoding=c??g?bp:Jp,m}const fh={files:Ia,path:"",preset:void 0,extensions:void 0};xl.preload=l=>{const i={...fh,...l};let{files:a,path:c=""}=i;const{preset:f,extensions:v}=i;f&&(Pa(f),a=ei[f],c=Fc);const{extension:d}=ka(a);if(d==="webp"||d==="jpg"||d==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const w=Ta(d);if(!w)throw new Error("useEnvironment: Unrecognized file extension: "+a);Sr.preload(w,wr(a)?[a]:a,g=>{g.setPath==null||g.setPath(c),v&&v(g)})};const dh={files:Ia,preset:void 0};xl.clear=l=>{const i={...dh,...l};let{files:a}=i;const{preset:c}=i;c&&(Pa(c),a=ei[c]);const{extension:f}=ka(a),v=Ta(f);if(!v)throw new Error("useEnvironment: Unrecognized file extension: "+a);Sr.clear(v,wr(a)?[a]:a)};function Pa(l){if(!(l in ei))throw new Error("Preset must be one of: "+Object.keys(ei).join(", "))}function ka(l){var i;const a=wr(l)&&l.length===6,c=wr(l)&&l.length===3&&l.some(d=>d.endsWith("json")),f=wr(l)?l[0]:l;return{extension:a?"cube":c?"webp":f.startsWith("data:application/exr")?"exr":f.startsWith("data:application/hdr")?"hdr":f.startsWith("data:image/jpeg")?"jpg":(i=f.split(".").pop())==null||(i=i.split("?"))==null||(i=i.shift())==null?void 0:i.toLowerCase(),isCubemap:a,isGainmap:c}}function Ta(l){return l==="cube"?ad:l==="hdr"?Gp:l==="exr"?Wp:l==="jpg"||l==="jpeg"?ch:l==="webp"?uh:null}const ph=l=>l.current&&l.current.isScene,hh=l=>ph(l)?l.current:l;function Na(l,i,a,c,f={}){var v,d,w,g,S;f={backgroundBlurriness:(v=f.blur)!==null&&v!==void 0?v:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...f};const p=hh(i||a),m=p.background,x=p.environment,R={backgroundBlurriness:p.backgroundBlurriness,backgroundIntensity:p.backgroundIntensity,backgroundRotation:(d=(w=p.backgroundRotation)==null||w.clone==null?void 0:w.clone())!==null&&d!==void 0?d:[0,0,0],environmentIntensity:p.environmentIntensity,environmentRotation:(g=(S=p.environmentRotation)==null||S.clone==null?void 0:S.clone())!==null&&g!==void 0?g:[0,0,0]};return l!=="only"&&(p.environment=c),l&&(p.background=c),kn(p,f),()=>{l!=="only"&&(p.environment=x),l&&(p.background=m),kn(p,R)}}function za({scene:l,background:i=!1,map:a,...c}){const f=un(v=>v.scene);return I.useLayoutEffect(()=>{if(a)return Na(i,l,f,a,c)}),null}function jc({background:l=!1,scene:i,blur:a,backgroundBlurriness:c,backgroundIntensity:f,backgroundRotation:v,environmentIntensity:d,environmentRotation:w,...g}){const S=xl(g),p=un(m=>m.scene);return I.useLayoutEffect(()=>Na(l,i,p,S,{blur:a,backgroundBlurriness:c,backgroundIntensity:f,backgroundRotation:v,environmentIntensity:d,environmentRotation:w})),null}function mh({children:l,near:i=1,far:a=1e3,resolution:c=256,frames:f=1,map:v,background:d=!1,blur:w,backgroundBlurriness:g,backgroundIntensity:S,backgroundRotation:p,environmentIntensity:m,environmentRotation:x,scene:R,files:T,path:F,preset:k=void 0,extensions:M}){const L=un(G=>G.gl),O=un(G=>G.scene),q=I.useRef(null),[Z]=I.useState(()=>new ml),V=I.useMemo(()=>{const G=new sd(c);return G.texture.type=At,G},[c]);I.useLayoutEffect(()=>(f===1&&q.current.update(L,Z),Na(d,R,O,V.texture,{blur:w,backgroundBlurriness:g,backgroundIntensity:S,backgroundRotation:p,environmentIntensity:m,environmentRotation:x})),[l,Z,V.texture,R,O,d,f,L]);let re=1;return gn(()=>{(f===1/0||re<f)&&(q.current.update(L,Z),re++)}),I.createElement(I.Fragment,null,Jd(I.createElement(I.Fragment,null,l,I.createElement("cubeCamera",{ref:q,args:[i,a,V]}),T||k?I.createElement(jc,{background:!0,files:T,preset:k,path:F,extensions:M}):v?I.createElement(za,{background:!0,map:v,extensions:M}):null),Z))}function vh(l){var i,a,c,f;const v=xl(l),d=l.map||v;I.useMemo(()=>_a({GroundProjectedEnvImpl:Hp}),[]);const w=I.useMemo(()=>[d],[d]),g=(i=l.ground)==null?void 0:i.height,S=(a=l.ground)==null?void 0:a.radius,p=(c=(f=l.ground)==null?void 0:f.scale)!==null&&c!==void 0?c:1e3;return I.createElement(I.Fragment,null,I.createElement(za,bn({},l,{map:d})),I.createElement("groundProjectedEnvImpl",{args:w,scale:p,height:g,radius:S}))}function gh(l){return l.ground?I.createElement(vh,l):l.map?I.createElement(za,l):l.children?I.createElement(mh,l):I.createElement(jc,l)}class yh extends ti{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Tc>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const wh=l=>new Xe().setFromSpherical(new ud(l,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Bu=I.forwardRef(({radius:l=100,depth:i=50,count:a=5e3,saturation:c=0,factor:f=4,fade:v=!1,speed:d=1},w)=>{const g=I.useRef(),[S,p,m]=I.useMemo(()=>{const R=[],T=[],F=Array.from({length:a},()=>(.5+.5*Math.random())*f),k=new gl;let M=l+i;const L=i/a;for(let O=0;O<a;O++)M-=L*Math.random(),R.push(...wh(M).toArray()),k.setHSL(O/a,c,.9),T.push(k.r,k.g,k.b);return[new Float32Array(R),new Float32Array(T),new Float32Array(F)]},[a,i,f,l,c]);gn(R=>g.current&&(g.current.uniforms.time.value=R.clock.getElapsedTime()*d));const[x]=I.useState(()=>new yh);return I.createElement("points",{ref:w},I.createElement("bufferGeometry",null,I.createElement("bufferAttribute",{attach:"attributes-position",args:[S,3]}),I.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3]}),I.createElement("bufferAttribute",{attach:"attributes-size",args:[m,1]})),I.createElement("primitive",{ref:g,object:x,attach:"material",blending:Jr,"uniforms-fade-value":v,depthWrite:!1,transparent:!0,vertexColors:!0}))}),xh=l=>{const i=new cd,a=l/1.8;return i.moveTo(0,a),i.quadraticCurveTo(0,0,a,0),i.quadraticCurveTo(0,0,0,-a),i.quadraticCurveTo(0,0,-a,0),i.quadraticCurveTo(0,0,0,a),i},Hu=xh(an),fa={depth:an*.4,bevelEnabled:!0,bevelThickness:.05,bevelSize:.05,bevelSegments:3},Sh=({data:l,timeSinceHit:i,color:a})=>{const c=I.useRef(null),f=I.useRef(null),v=6,d=10,w=v*i;gn(()=>{if(c.current&&c.current.scale.setScalar(Math.max(.01,1-i*1.5)),f.current)if(i<.15){const p=i/.15;f.current.visible=!0,f.current.scale.setScalar(1+p*4),f.current.material.opacity=1-p}else f.current.visible=!1});const g=({offsetDir:S,moveDir:p,scale:m=1})=>{const x=I.useRef(null);return gn(()=>{x.current&&(x.current.position.x=S[0]+p[0]*w,x.current.position.y=S[1]+p[1]*w,x.current.position.z=S[2]+p[2]*w,x.current.rotation.x+=p[1]*.1*d,x.current.rotation.y+=p[0]*.1*d)}),P.jsx($p,{ref:x,args:[an*.3*m],position:[S[0],S[1],S[2]],children:P.jsx("meshStandardMaterial",{color:a,roughness:.1,metalness:.9,emissive:a,emissiveIntensity:.5})})};return P.jsxs("group",{ref:c,children:[P.jsxs("mesh",{ref:f,children:[P.jsx("sphereGeometry",{args:[an*1.2,16,16]}),P.jsx("meshBasicMaterial",{color:"white",transparent:!0,toneMapped:!1})]}),P.jsx(g,{offsetDir:[0,.2,0],moveDir:[0,1.5,-.5],scale:.8}),P.jsx(g,{offsetDir:[.2,0,0],moveDir:[1.5,0,-.5],scale:.8}),P.jsx(g,{offsetDir:[0,-.2,0],moveDir:[0,-1.5,-.5],scale:.8}),P.jsx(g,{offsetDir:[-.2,0,0],moveDir:[-1.5,0,-.5],scale:.8}),P.jsx(g,{offsetDir:[.1,.1,.1],moveDir:[1,1,1],scale:.5}),P.jsx(g,{offsetDir:[-.1,-.1,-.1],moveDir:[-1,-1,1],scale:.5})]})},_h=({data:l,zPos:i,currentTime:a})=>{const c=l.type==="left"?Jn.left:Jn.right,f=I.useMemo(()=>[xc[l.lineIndex],Sc[l.lineLayer],i],[l.lineIndex,l.lineLayer,i]);return l.missed?null:l.hit&&l.hitTime?P.jsx("group",{position:f,children:P.jsx(Sh,{data:l,timeSinceHit:a-l.hitTime,color:c})}):l.requiresGrip?P.jsxs("group",{position:f,children:[P.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[P.jsx("sphereGeometry",{args:[an*.7,32,32]}),P.jsx("meshPhysicalMaterial",{color:"#ffffff",emissive:c,emissiveIntensity:2,roughness:.1,metalness:.8,transmission:.5,thickness:1})]}),P.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[P.jsx("torusGeometry",{args:[an*.9,.05,16,64]}),P.jsx("meshStandardMaterial",{color:c,emissive:c,emissiveIntensity:5,toneMapped:!1})]}),P.jsx("pointLight",{color:c,intensity:2,distance:2})]}):P.jsxs("group",{position:f,children:[P.jsx("group",{rotation:[0,0,0],children:P.jsx("group",{position:[0,0,-an*.2],children:P.jsx(eh,{args:[Hu,fa],castShadow:!0,receiveShadow:!0,children:P.jsx("meshPhysicalMaterial",{color:c,roughness:.2,metalness:.1,transmission:.1,thickness:.5,emissive:c,emissiveIntensity:.8})})})}),P.jsxs("mesh",{position:[0,0,an*.1],children:[P.jsx("octahedronGeometry",{args:[an*.2,0]}),P.jsx("meshBasicMaterial",{color:"white",toneMapped:!1,transparent:!0,opacity:.8})]}),P.jsx("group",{position:[0,0,-an*.2],children:P.jsxs("mesh",{children:[P.jsx("extrudeGeometry",{args:[Hu,{...fa,depth:fa.depth*1.1}]}),P.jsx("meshBasicMaterial",{color:c,wireframe:!0,transparent:!0,opacity:.3})]})})]})},Eh=$u.memo(_h,(l,i)=>i.data.hit?!1:l.zPos===i.zPos&&l.data.hit===i.data.hit&&l.data.missed===i.data.missed),Gu=({type:l,positionRef:i,velocityRef:a,isGrippingRef:c})=>{const f=I.useRef(null),v=I.useRef(null),d=I.useRef(null),w=I.useRef(null),g=I.useRef(null),S=I.useRef(null),p=1,m=I.useRef(new fd);gn((T,F)=>{if(!f.current)return;const k=i.current,M=a.current,L=c.current,O=T.clock.elapsedTime;if(k){f.current.visible=!0,f.current.position.lerp(k,.5);const q=-Math.PI/3.5,Z=0,V=l==="left"?.2:-.2;let re=0,G=0,W=0;M&&(re=M.y*.05,W=-M.x*.05,re+=M.z*.02),m.current.set(q+re,Z+G,V+W),f.current.rotation.x=Vt.lerp(f.current.rotation.x,m.current.x,.2),f.current.rotation.y=Vt.lerp(f.current.rotation.y,m.current.y,.2),f.current.rotation.z=Vt.lerp(f.current.rotation.z,m.current.z,.2);const B=10*F,H=L?8:2,b=L?6:3;g.current&&(g.current.intensity=Vt.lerp(g.current.intensity,H,B),g.current.distance=Vt.lerp(g.current.distance,b,B));const se=L?(Math.random()-.5)*.05:0,ce=L?Math.sin(O*30)*.2:0,Se=L?1.8:1;if(v.current){const ie=Vt.lerp(v.current.scale.x,Se+ce,B);v.current.scale.set(ie,1,ie),v.current.position.x=se,v.current.position.z=se,v.current.material.color.set(L?"#ffffff":"white")}if(d.current){const ie=L?1.5:1,we=Vt.lerp(d.current.scale.x,ie,B);d.current.scale.set(we,1,we)}if(S.current){const ie=L?1.2:0,we=S.current.scale.x,Q=Vt.lerp(we,ie,B);S.current.scale.setScalar(Q),S.current.rotation.x+=F,S.current.rotation.z-=F*2}if(w.current){const ie=L?.5+Math.random()*.2:.05,we=L?3:1.2,Q=Vt.lerp(w.current.scale.x,we,B);w.current.scale.set(Q,1,Q),w.current.material.opacity=Vt.lerp(w.current.material.opacity,ie,B)}}else f.current.visible=!1});const x=l==="left"?Jn.left:Jn.right,R=l==="left"?"#93c5fd":"#fca5a5";return P.jsxs("group",{ref:f,children:[P.jsxs("mesh",{position:[0,-.06,0],children:[P.jsx("cylinderGeometry",{args:[.02,.02,.12,16]}),P.jsx("meshStandardMaterial",{color:"#1a1a1a",roughness:.6,metalness:.8})]}),P.jsxs("mesh",{position:[0,-.13,0],children:[P.jsx("cylinderGeometry",{args:[.025,.025,.02,16]}),P.jsx("meshStandardMaterial",{color:"#888",roughness:.3,metalness:1})]}),P.jsxs("mesh",{position:[0,-.08,0],children:[P.jsx("torusGeometry",{args:[.021,.002,8,24]}),P.jsx("meshStandardMaterial",{color:"#aaa",roughness:.2,metalness:1})]}),P.jsxs("mesh",{position:[0,-.04,0],children:[P.jsx("torusGeometry",{args:[.021,.002,8,24]}),P.jsx("meshStandardMaterial",{color:"#aaa",roughness:.2,metalness:1})]}),P.jsxs("mesh",{position:[0,.01,0],children:[P.jsx("cylinderGeometry",{args:[.035,.025,.05,16]}),P.jsx("meshStandardMaterial",{color:"#C0C0C0",roughness:.2,metalness:1})]}),P.jsxs("mesh",{position:[0,.036,0],rotation:[Math.PI/2,0,0],children:[P.jsx("ringGeometry",{args:[.015,.03,32]}),P.jsx("meshBasicMaterial",{color:x,toneMapped:!1,side:Ku})]}),P.jsxs("mesh",{ref:v,position:[0,.05+p/2,0],children:[P.jsx("cylinderGeometry",{args:[.008,.008,p,12]}),P.jsx("meshBasicMaterial",{color:"white",toneMapped:!1})]}),P.jsxs("mesh",{ref:d,position:[0,.05+p/2,0],children:[P.jsx("capsuleGeometry",{args:[.02,p,16,32]}),P.jsx("meshBasicMaterial",{color:x,toneMapped:!1,transparent:!0,opacity:.6,blending:Jr,depthWrite:!1})]}),P.jsxs("mesh",{ref:w,position:[0,.05+p/2,0],children:[P.jsx("capsuleGeometry",{args:[.035,p*1.05,16,32]}),P.jsx("meshBasicMaterial",{color:x,toneMapped:!1,transparent:!0,opacity:.1,blending:Jr,depthWrite:!1})]}),P.jsxs("group",{ref:S,position:[0,.05+p/2,0],children:[P.jsxs("mesh",{position:[0,0,0],scale:[.5,2,.5],children:[P.jsx("icosahedronGeometry",{args:[.08,0]}),P.jsx("meshBasicMaterial",{color:R,toneMapped:!1,transparent:!0,opacity:.4,blending:Jr,wireframe:!0})]}),P.jsxs("mesh",{position:[0,-.2,0],scale:[.6,1,.6],children:[P.jsx("icosahedronGeometry",{args:[.1,0]}),P.jsx("meshBasicMaterial",{color:R,toneMapped:!1,transparent:!0,opacity:.2,blending:Jr})]})]}),P.jsx("pointLight",{ref:g,color:x,intensity:2,distance:3,decay:2,position:[0,.5,0]})]})},Wu=60/_c,Mh=({gameStatus:l,audioRef:i,handPositionsRef:a,chart:c,onNoteHit:f,onNoteMiss:v,onSongEnd:d})=>{const[w,g]=I.useState(c),[S,p]=I.useState(0),m=I.useRef([]),x=I.useRef(0),R=I.useRef(0),T=I.useRef(null),F=I.useRef(null),k=I.useRef(null),M=I.useMemo(()=>new Xe,[]),L=I.useMemo(()=>new Xe,[]),O=(H,b)=>{R.current=b?.3:.15,f(H,b)};gn((H,b)=>{if(i.current&&l===mt.PLAYING){const we=i.current.currentTime%Wu/Wu,Q=Math.pow(1-we,4);F.current&&(F.current.intensity=.1+Q*.3),k.current&&(k.current.intensity=.5+Q*1.5)}if(R.current>0&&T.current){const ie=R.current;T.current.position.x=(Math.random()-.5)*ie,T.current.position.y=1.8+(Math.random()-.5)*ie,T.current.position.z=4+(Math.random()-.5)*ie,R.current=Vt.lerp(R.current,0,10*b),R.current<.01&&(R.current=0,T.current.position.set(0,1.8,4))}if(l!==mt.PLAYING||!i.current)return;const se=i.current.currentTime;if(p(se),i.current.ended){d();return}const ce=Math.abs(yp-Xr)/sa;for(;x.current<w.length;){const ie=w[x.current];if(ie.time-ce<=se)m.current.push(ie),x.current++;else break}const Se=a.current;for(let ie=m.current.length-1;ie>=0;ie--){const we=m.current[ie];if(we.hit||we.missed)continue;const Q=we.time-se,ae=Xr-Q*sa;if(ae>wp){we.missed=!0,v(we),m.current.splice(ie,1);continue}if(ae>Xr-1.5&&ae<Xr+1){const X=we.type==="left"?Se.left:Se.right,pe=we.type==="left"?Se.leftVelocity:Se.rightVelocity;if(X){const me=M.set(xc[we.lineIndex],Sc[we.lineLayer],ae);if(X.distanceTo(me)<.8){let xe=!0;if(pe.length()<.1)continue;const tt=we.type==="left"?Se.leftGripping:Se.rightGripping;if(we.requiresGrip){if(!tt)continue}else tt&&(xe=!1);if(we.cutDirection!==Tn.ANY){const Pe=Ep[we.cutDirection];L.copy(pe).normalize(),L.dot(Pe)<.3&&(xe=!1)}we.hit=!0,we.hitTime=se,O(we,xe),m.current.splice(ie,1)}}}}});const q=I.useMemo(()=>w.filter(H=>!H.missed&&(!H.hit||S-(H.hitTime||0)<.5)&&H.time-S<5&&H.time-S>-2),[w,S]),Z=I.useRef(null),V=I.useRef(null),re=I.useRef(null),G=I.useRef(null),W=I.useRef(!1),B=I.useRef(!1);return gn(()=>{Z.current=a.current.left,V.current=a.current.right,re.current=a.current.leftVelocity,G.current=a.current.rightVelocity,W.current=a.current.leftGripping,B.current=a.current.rightGripping}),P.jsxs(P.Fragment,{children:[P.jsx(Xp,{ref:T,makeDefault:!0,position:[0,1.8,4],fov:60}),P.jsx("color",{attach:"background",args:["#050505"]}),P.jsx("fog",{attach:"fog",args:["#050505",10,50]}),P.jsx("ambientLight",{ref:F,intensity:.2}),P.jsx("spotLight",{ref:k,position:[0,10,5],angle:.5,penumbra:1,intensity:1,castShadow:!0}),P.jsx(gh,{preset:"night"}),P.jsx(Kp,{position:[0,0,0],args:[6,100],cellThickness:.1,cellColor:"#333",sectionSize:5,sectionThickness:1.5,sectionColor:Jn.right,fadeDistance:60,infiniteGrid:!0}),P.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.01,0],children:[P.jsx("planeGeometry",{args:[4,100]}),P.jsx("meshStandardMaterial",{color:"#111",roughness:.8,metalness:.5})]}),P.jsx(Bu,{radius:100,depth:20,count:5e3,factor:4,saturation:1,fade:!0,speed:2}),P.jsx("group",{rotation:[0,0,Math.PI/4],children:P.jsx(Bu,{radius:150,depth:50,count:2e3,factor:2,saturation:0,fade:!0,speed:.5})}),P.jsx(Gu,{type:"left",positionRef:Z,velocityRef:re,isGrippingRef:W}),P.jsx(Gu,{type:"right",positionRef:V,velocityRef:G,isGrippingRef:B}),q.map(H=>P.jsx(Eh,{data:H,zPos:Xr-(H.time-S)*sa,currentTime:S},H.id))]})},Rh=[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20],[5,9],[9,13],[13,17],[0,5],[0,17]],Ch=l=>{const i=l[0];let a=0;const c=[{tip:8,pip:6},{tip:12,pip:10},{tip:16,pip:14},{tip:20,pip:18}];for(const f of c){const v=l[f.tip],d=l[f.pip],w=Math.pow(v.x-i.x,2)+Math.pow(v.y-i.y,2)+Math.pow(v.z-i.z,2),g=Math.pow(d.x-i.x,2)+Math.pow(d.y-i.y,2)+Math.pow(d.z-i.z,2);w<g&&a++}return a>=3},Ih=({videoRef:l,resultsRef:i,isCameraReady:a})=>{const c=I.useRef(null);return I.useEffect(()=>{if(!a)return;let f;const v=()=>{const d=c.current,w=l.current;if(d&&w&&w.readyState>=2){const g=d.getContext("2d");if(g&&(d.width!==w.videoWidth&&(d.width=w.videoWidth),d.height!==w.videoHeight&&(d.height=w.videoHeight),g.clearRect(0,0,d.width,d.height),g.save(),g.scale(-1,1),g.translate(-d.width,0),g.globalAlpha=.8,g.drawImage(w,0,0,d.width,d.height),g.restore(),g.globalAlpha=1,i.current&&i.current.landmarks))for(let S=0;S<i.current.landmarks.length;S++){const p=i.current.landmarks[S];if(!i.current.handedness||!i.current.handedness[S]||!i.current.handedness[S][0])continue;const T=i.current.handedness[S][0].categoryName==="Right"?Jn.right:Jn.left,F=Ch(p);g.strokeStyle=T,g.fillStyle=T,g.lineWidth=F?6:3,g.beginPath();for(const[M,L]of Rh){const O=p[M],q=p[L];g.moveTo((1-O.x)*d.width,O.y*d.height),g.lineTo((1-q.x)*d.width,q.y*d.height)}g.stroke();for(const M of p)g.beginPath(),g.arc((1-M.x)*d.width,M.y*d.height,4,0,2*Math.PI),g.fill();const k=p[8];if(g.beginPath(),g.fillStyle="white",g.arc((1-k.x)*d.width,k.y*d.height,7,0,2*Math.PI),g.fill(),F){g.font="bold 24px monospace",g.fillStyle="white",g.strokeStyle="black",g.lineWidth=4;const M=(1-p[0].x)*d.width,L=p[0].y*d.height;g.strokeText("GRIP",M-30,L-20),g.fillText("GRIP",M-30,L-20)}}}f=requestAnimationFrame(v)};return v(),()=>{f&&cancelAnimationFrame(f)}},[a,l,i]),a?P.jsxs("div",{className:"fixed bottom-4 right-4 w-64 h-48 bg-black/60 border-2 border-blue-500/30 rounded-xl overflow-hidden backdrop-blur-md z-50 shadow-[0_0_20px_rgba(0,0,0,0.5)] pointer-events-none transition-opacity duration-500",children:[P.jsx("div",{className:"absolute top-0 left-0 right-0 bg-black/40 text-[10px] text-blue-300/70 px-2 py-1 font-mono uppercase tracking-widest",children:""}),P.jsx("canvas",{ref:c,className:"w-full h-full object-cover mt-4"})]}):null};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dc=(...l)=>l.filter((i,a,c)=>!!i&&c.indexOf(i)===a).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=I.forwardRef(({color:l="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:f="",children:v,iconNode:d,...w},g)=>I.createElement("svg",{ref:g,...kh,width:i,height:i,stroke:l,strokeWidth:c?Number(a)*24/Number(i):a,className:Dc("lucide",f),...w},[...d.map(([S,p])=>I.createElement(S,p)),...Array.isArray(v)?v:[v]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=(l,i)=>{const a=I.forwardRef(({className:c,...f},v)=>I.createElement(Th,{ref:v,iconNode:i,className:Dc(`lucide-${Ph(l)}`,c),...f}));return a.displayName=`${l}`,a};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Ln("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Ln("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Ln("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ln("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Ln("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ln("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Ln("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ln("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),da="v1.2.2-fix",Uh=()=>{const[l,i]=I.useState(mt.LOADING),[a,c]=I.useState(0),[f,v]=I.useState(0),[d,w]=I.useState(1),[g,S]=I.useState(100),[p,m]=I.useState(null),x=I.useRef(new Audio(xp)),R=I.useRef(null),[T,F]=I.useState(""),{isCameraReady:k,cameras:M,handPositionsRef:L,lastResultsRef:O,error:q}=Cp(R,T);I.useEffect(()=>{const B=H=>{H.preventDefault(),m(H)};return window.addEventListener("beforeinstallprompt",B),()=>window.removeEventListener("beforeinstallprompt",B)},[]);const Z=async()=>{if(!p)return;p.prompt();const{outcome:B}=await p.userChoice;B==="accepted"&&m(null)},V=I.useCallback((B,H)=>{if(H){let b=150;navigator.vibrate&&navigator.vibrate(40),v(se=>{const ce=se+1;return ce>30?w(8):ce>20?w(4):ce>10?w(2):w(1),ce}),c(se=>se+b*d),S(se=>Math.min(100,se+2))}else v(0),w(1),c(b=>Math.max(0,b-50)),S(b=>Math.max(0,b-5)),navigator.vibrate&&navigator.vibrate(20)},[d]),re=I.useCallback(B=>{v(0),w(1),c(H=>Math.max(0,H-50)),S(H=>{const b=H-15;return b<=0?(setTimeout(()=>W(!1),0),0):b})},[]),G=async()=>{if(k){c(0),v(0),w(1),S(100),Du.forEach(B=>{B.hit=!1,B.missed=!1});try{x.current&&(x.current.currentTime=0,await x.current.play(),i(mt.PLAYING))}catch(B){console.error("Audio play failed",B),alert("")}}},W=B=>{i(B?mt.VICTORY:mt.GAME_OVER),x.current&&x.current.pause()};return I.useEffect(()=>{l===mt.LOADING&&k&&i(mt.IDLE)},[k,l]),P.jsxs("div",{className:"relative w-full h-screen bg-black overflow-hidden font-sans",children:[P.jsx("video",{ref:R,className:"absolute opacity-0 pointer-events-none",playsInline:!0,muted:!0,autoPlay:!0,style:{width:"640px",height:"480px"}}),P.jsx(gp,{shadows:!0,dpr:[1,2],children:l!==mt.LOADING&&P.jsx(Mh,{gameStatus:l,audioRef:x,handPositionsRef:L,chart:Du,onNoteHit:V,onNoteMiss:re,onSongEnd:()=>W(!0)})}),P.jsx(Ih,{videoRef:R,resultsRef:O,isCameraReady:k}),P.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between p-6 z-10",children:[P.jsxs("div",{className:"flex items-start text-white w-full",children:[P.jsx("div",{className:"w-1/3",children:P.jsxs("div",{className:"max-w-xs",children:[P.jsx("div",{className:"h-4 bg-gray-800 rounded-full overflow-hidden border-2 border-gray-700",children:P.jsx("div",{className:`h-full transition-all duration-300 ease-out ${g>50?"bg-green-500":g>20?"bg-yellow-500":"bg-red-600"}`,style:{width:`${g}%`}})}),P.jsx("p",{className:"text-xs mt-1 opacity-70",children:" (HP)"})]})}),P.jsxs("div",{className:"w-1/3 flex flex-col items-center",children:[P.jsx("h1",{className:"text-5xl font-bold tracking-wider drop-shadow-[0_0_10px_rgba(59,130,246,0.8)]",children:a.toLocaleString()}),P.jsxs("div",{className:"mt-2 flex flex-col items-center",children:[P.jsxs("p",{className:`text-2xl font-bold ${f>10?"text-blue-400 scale-110":"text-gray-300"} transition-all`,children:[f,"  (COMBO)"]}),d>1&&P.jsxs("span",{className:"text-sm px-2 py-1 bg-blue-900 rounded-full mt-1 animate-pulse",children:[d,"x "]})]})]}),P.jsx("div",{className:"w-1/3"})]}),P.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-auto",children:[l===mt.LOADING&&P.jsxs("div",{className:"bg-black/80 p-10 rounded-2xl flex flex-col items-center border border-blue-900/50 backdrop-blur-md",children:[P.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mb-6"}),P.jsx("h2",{className:"text-2xl text-white font-bold mb-2",children:" AI "}),P.jsx("p",{className:"text-blue-300",children:"..."}),q&&P.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[P.jsx("p",{className:"text-red-500 max-w-xs text-center text-sm",children:q}),P.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm transition-all",children:[P.jsx(Ah,{size:16})," "]})]}),P.jsxs("p",{className:"mt-8 text-white/20 text-xs",children:["",da]})]}),l===mt.IDLE&&P.jsxs("div",{className:"bg-black/80 p-12 rounded-3xl text-center border-2 border-blue-500/30 backdrop-blur-xl max-w-lg",children:[P.jsx("div",{className:"mb-6 flex justify-center",children:P.jsx(jh,{className:"w-16 h-16 text-blue-400"})}),P.jsxs("h1",{className:"text-7xl font-black text-white mb-6 tracking-tighter italic drop-shadow-[0_0_30px_rgba(59,130,246,0.6)]",children:["TEMPO ",P.jsx("span",{className:"text-blue-500",children:"STRIKE"})]}),P.jsxs("div",{className:"space-y-4 text-gray-300 mb-8",children:[P.jsxs("p",{className:"flex items-center justify-center gap-2",children:[P.jsx(zh,{className:"w-5 h-5 text-blue-400"}),P.jsx("span",{children:" 1.5 "})]}),P.jsxs("p",{children:[" ",P.jsx("span",{className:"text-blue-500 font-bold",children:""}),"  ",P.jsx("span",{className:"text-red-500 font-bold",children:""})," "]}),P.jsx("p",{className:"text-yellow-400 font-bold",children:""}),P.jsx("p",{children:""})]}),P.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[k?P.jsxs("div",{className:"flex flex-col items-center gap-6",children:[P.jsxs("button",{onClick:G,className:"px-12 py-6 bg-gradient-to-r from-red-600 to-red-400 hover:from-red-500 hover:to-red-300 text-white rounded-full font-bold text-3xl shadow-[0_0_30px_rgba(239,68,68,0.5)] transform hover:scale-105 transition-all flex items-center gap-4 pointer-events-auto",children:[P.jsx(Lh,{fill:"currentColor",size:32}),"START GAME"]}),P.jsxs("div",{className:"flex flex-col items-center gap-2 bg-white/10 p-4 rounded-2xl backdrop-blur-md border border-white/20 min-h-[100px] justify-center",children:[P.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm mb-1",children:[P.jsx(Fh,{size:16,className:M.length===0?"animate-spin":""}),P.jsx("span",{children:M.length>0?" ()":"..."})]}),P.jsxs("select",{value:T,onChange:B=>F(B.target.value),className:"bg-black/40 text-white border-none rounded-lg px-4 py-2 outline-none focus:ring-2 focus:ring-red-500 cursor-pointer pointer-events-auto min-w-[200px]",children:[P.jsx("option",{value:"",children:""}),M.map(B=>P.jsxs("option",{value:B.deviceId,children:[B.label||`Camera ${B.deviceId.slice(0,5)}`,B.label.toLowerCase().includes("fov")||B.label.toLowerCase().includes("external")?" ()":""]},B.deviceId))]})]})]}):P.jsxs("div",{className:"flex flex-col items-center gap-4",children:[P.jsxs("div",{className:"flex items-center justify-center text-red-400 gap-2 bg-red-900/20 p-4 rounded-lg",children:[P.jsx(Dh,{})," "]}),P.jsx("p",{className:"text-gray-400 text-sm",children:""}),P.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full text-sm transition-all",children:""})]}),p&&P.jsxs("button",{onClick:Z,className:"text-blue-300 hover:text-white hover:bg-white/10 text-sm py-2 px-6 rounded-full transition-colors flex items-center gap-2",children:[P.jsx(Nh,{size:16})," "]})]}),P.jsxs("div",{className:"text-white/30 text-sm text-center mt-8",children:[" ",da]})]}),(l===mt.GAME_OVER||l===mt.VICTORY)&&P.jsxs("div",{className:"bg-black/90 p-12 rounded-3xl text-center border-2 border-white/10 backdrop-blur-xl",children:[P.jsx("h2",{className:`text-6xl font-bold mb-4 ${l===mt.VICTORY?"text-green-400":"text-red-500"}`,children:l===mt.VICTORY?"":""}),P.jsxs("p",{className:"text-white text-3xl mb-8",children:[": ",a.toLocaleString()]}),P.jsxs("button",{onClick:()=>i(mt.IDLE),className:"bg-white/10 hover:bg-white/20 text-white text-xl py-3 px-8 rounded-full flex items-center justify-center mx-auto gap-2 transition-colors",children:[P.jsx(Oh,{})," "]})]})]}),P.jsxs("div",{className:"absolute bottom-4 left-4 text-white/20 text-[10px] pointer-events-none",children:[da," | Secure Context: ",window.isSecureContext?"Yes":"No"]})]})]})},Uc=document.getElementById("root");if(!Uc)throw new Error("Could not find root element to mount to");const Vu=document.getElementById("loading-text");Vu&&(Vu.style.display="none");yd.createRoot(Uc).render(P.jsx($u.StrictMode,{children:P.jsx(Uh,{})}));
