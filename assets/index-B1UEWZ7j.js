var Lf=Object.defineProperty;var Of=(l,i,a)=>i in l?Lf(l,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[i]=a;var et=(l,i,a)=>Of(l,typeof i!="symbol"?i+"":i,a);import{r as Sa,g as _l,a as Af}from"./vendor-react-CRB3T2We.js";import{R as Xu,O as qu,P as Ff,S as yl,a as Xo,V as jf,b as Df,B as Uf,N as Bf,A as Hf,W as Ku,C as Gf,c as Xe,d as Ju,e as Wf,f as Vf,M as Zf,L as qo,T as Kn,g as Sr,U as wl,h as xl,i as Qf,j as bu,k as _a,I as Yf,l as ri,D as $u,m as ec,H as At,F as sn,n as yr,o as Qt,p as Xf,q as Vt,r as qf,s as Ea,t as Kf,u as Jf,v as bf,w as Tn,x as tc,y as Sl,z as $f,E as va,G as ed,J as td,K as nd,Q as rd,X as id,Y as ld,Z as od,_ as pu,$ as ad,a0 as vl,a1 as sd,a2 as ud,a3 as cd,a4 as fd,a5 as dd,a6 as br,a7 as pd,a8 as hd,a9 as md}from"./vendor-three-Bf9Xd_Ux.js";import{X as vd,k as gd}from"./vendor-mediapipe-BJf9tSCR.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const d of m.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function a(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(f){if(f.ep)return;f.ep=!0;const m=a(f);fetch(f.href,m)}})();var Ko={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu;function yd(){if(hu)return Qr;hu=1;var l=Sa(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function d(w,g,S){var p,v={},x=null,P=null;S!==void 0&&(x=""+S),g.key!==void 0&&(x=""+g.key),g.ref!==void 0&&(P=g.ref);for(p in g)c.call(g,p)&&!m.hasOwnProperty(p)&&(v[p]=g[p]);if(w&&w.defaultProps)for(p in g=w.defaultProps,g)v[p]===void 0&&(v[p]=g[p]);return{$$typeof:i,type:w,key:x,ref:P,props:v,_owner:f.current}}return Qr.Fragment=a,Qr.jsx=d,Qr.jsxs=d,Qr}var mu;function wd(){return mu||(mu=1,Ko.exports=yd()),Ko.exports}var I=wd(),C=Sa();const nc=_l(C);var ul={},vu;function xd(){if(vu)return ul;vu=1;var l=Af();return ul.createRoot=l.createRoot,ul.hydrateRoot=l.hydrateRoot,ul}var Sd=xd();const _d=_l(Sd);var Jo={exports:{}},In={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu;function Ed(){return gu||(gu=1,In.ConcurrentRoot=1,In.ContinuousEventPriority=4,In.DefaultEventPriority=16,In.DiscreteEventPriority=1,In.IdleEventPriority=536870912,In.LegacyRoot=0),In}var yu;function Md(){return yu||(yu=1,Jo.exports=Ed()),Jo.exports}var wr=Md();function Rd(l){let i;const a=new Set,c=(S,p)=>{const v=typeof S=="function"?S(i):S;if(v!==i){const x=i;i=p?v:Object.assign({},i,v),a.forEach(P=>P(i,x))}},f=()=>i,m=(S,p=f,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let x=p(i);function P(){const T=p(i);if(!v(x,T)){const A=x;S(x=T,A)}}return a.add(P),()=>a.delete(P)},g={setState:c,getState:f,subscribe:(S,p,v)=>p||v?m(S,p,v):(a.add(S),()=>a.delete(S)),destroy:()=>a.clear()};return i=l(c,f,g),g}const Cd=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),wu=Cd?C.useEffect:C.useLayoutEffect;function rc(l){const i=typeof l=="function"?Rd(l):l,a=(c=i.getState,f=Object.is)=>{const[,m]=C.useReducer(k=>k+1,0),d=i.getState(),w=C.useRef(d),g=C.useRef(c),S=C.useRef(f),p=C.useRef(!1),v=C.useRef();v.current===void 0&&(v.current=c(d));let x,P=!1;(w.current!==d||g.current!==c||S.current!==f||p.current)&&(x=c(d),P=!f(v.current,x)),wu(()=>{P&&(v.current=x),w.current=d,g.current=c,S.current=f,p.current=!1});const T=C.useRef(d);wu(()=>{const k=()=>{try{const N=i.getState(),B=g.current(N);S.current(v.current,B)||(w.current=N,v.current=B,m())}catch{p.current=!0,m()}},R=i.subscribe(k);return i.getState()!==T.current&&k(),R},[]);const A=P?x:v.current;return C.useDebugValue(A),A};return Object.assign(a,i),a[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const c=[a,i];return{next(){const f=c.length<=0;return{value:c.shift(),done:f}}}},a}const Id=l=>typeof l=="object"&&typeof l.then=="function",Jn=[];function ic(l,i,a=(c,f)=>c===f){if(l===i)return!0;if(!l||!i)return!1;const c=l.length;if(i.length!==c)return!1;for(let f=0;f<c;f++)if(!a(l[f],i[f]))return!1;return!0}function lc(l,i=null,a=!1,c={}){i===null&&(i=[l]);for(const m of Jn)if(ic(i,m.keys,m.equal)){if(a)return;if(Object.prototype.hasOwnProperty.call(m,"error"))throw m.error;if(Object.prototype.hasOwnProperty.call(m,"response"))return c.lifespan&&c.lifespan>0&&(m.timeout&&clearTimeout(m.timeout),m.timeout=setTimeout(m.remove,c.lifespan)),m.response;if(!a)throw m.promise}const f={keys:i,equal:c.equal,remove:()=>{const m=Jn.indexOf(f);m!==-1&&Jn.splice(m,1)},promise:(Id(l)?l:l(...i)).then(m=>{f.response=m,c.lifespan&&c.lifespan>0&&(f.timeout=setTimeout(f.remove,c.lifespan))}).catch(m=>f.error=m)};if(Jn.push(f),!a)throw f.promise}const Pd=(l,i,a)=>lc(l,i,!1,a),kd=(l,i,a)=>void lc(l,i,!0,a),Nd=l=>{if(l===void 0||l.length===0)Jn.splice(0,Jn.length);else{const i=Jn.find(a=>ic(l,a.keys,a.equal));i&&i.remove()}};var bo={exports:{}},$o={exports:{}},ea={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu;function Td(){return xu||(xu=1,(function(l){function i(X,ae){var q=X.length;X.push(ae);e:for(;0<q;){var pe=q-1>>>1,me=X[pe];if(0<f(me,ae))X[pe]=ae,X[q]=me,q=pe;else break e}}function a(X){return X.length===0?null:X[0]}function c(X){if(X.length===0)return null;var ae=X[0],q=X.pop();if(q!==ae){X[0]=q;e:for(var pe=0,me=X.length,xe=me>>>1;pe<xe;){var Ze=2*(pe+1)-1,tt=X[Ze],Pe=Ze+1,st=X[Pe];if(0>f(tt,q))Pe<me&&0>f(st,tt)?(X[pe]=st,X[Pe]=q,pe=Pe):(X[pe]=tt,X[Ze]=q,pe=Ze);else if(Pe<me&&0>f(st,q))X[pe]=st,X[Pe]=q,pe=Pe;else break e}}return ae}function f(X,ae){var q=X.sortIndex-ae.sortIndex;return q!==0?q:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var d=Date,w=d.now();l.unstable_now=function(){return d.now()-w}}var g=[],S=[],p=1,v=null,x=3,P=!1,T=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(X){for(var ae=a(S);ae!==null;){if(ae.callback===null)c(S);else if(ae.startTime<=X)c(S),ae.sortIndex=ae.expirationTime,i(g,ae);else break;ae=a(S)}}function Y(X){if(A=!1,B(X),!T)if(a(g)!==null)T=!0,re(Q);else{var ae=a(S);ae!==null&&we(Y,ae.startTime-X)}}function Q(X,ae){T=!1,A&&(A=!1,R(G),G=-1),P=!0;var q=x;try{for(B(ae),v=a(g);v!==null&&(!(v.expirationTime>ae)||X&&!H());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,x=v.priorityLevel;var me=pe(v.expirationTime<=ae);ae=l.unstable_now(),typeof me=="function"?v.callback=me:v===a(g)&&c(g),B(ae)}else c(g);v=a(g)}if(v!==null)var xe=!0;else{var Ze=a(S);Ze!==null&&we(Y,Ze.startTime-ae),xe=!1}return xe}finally{v=null,x=q,P=!1}}var V=!1,ie=null,G=-1,U=5,W=-1;function H(){return!(l.unstable_now()-W<U)}function $(){if(ie!==null){var X=l.unstable_now();W=X;var ae=!0;try{ae=ie(!0,X)}finally{ae?ce():(V=!1,ie=null)}}else V=!1}var ce;if(typeof N=="function")ce=function(){N($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Se=se.port2;se.port1.onmessage=$,ce=function(){Se.postMessage(null)}}else ce=function(){k($,0)};function re(X){ie=X,V||(V=!0,ce())}function we(X,ae){G=k(function(){X(l.unstable_now())},ae)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(X){X.callback=null},l.unstable_continueExecution=function(){T||P||(T=!0,re(Q))},l.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_getFirstCallbackNode=function(){return a(g)},l.unstable_next=function(X){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var q=x;x=ae;try{return X()}finally{x=q}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var q=x;x=X;try{return ae()}finally{x=q}},l.unstable_scheduleCallback=function(X,ae,q){var pe=l.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?pe+q:pe):q=pe,X){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=q+me,X={id:p++,callback:ae,priorityLevel:X,startTime:q,expirationTime:me,sortIndex:-1},q>pe?(X.sortIndex=q,i(S,X),a(g)===null&&X===a(S)&&(A?(R(G),G=-1):A=!0,we(Y,q-pe))):(X.sortIndex=me,i(g,X),T||P||(T=!0,re(Q))),X},l.unstable_shouldYield=H,l.unstable_wrapCallback=function(X){var ae=x;return function(){var q=x;x=ae;try{return X.apply(this,arguments)}finally{x=q}}}})(ea)),ea}var Su;function oc(){return Su||(Su=1,$o.exports=Td()),$o.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta,_u;function zd(){return _u||(_u=1,ta=function(i){var a={},c=Sa(),f=oc(),m=Object.assign;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),S=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),Q=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case S:return"Portal";case x:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function U(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function W(e){if(U(e)!==e)throw Error(d(188))}function H(e){var t=e.alternate;if(!t){if(t=U(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return W(o),e;if(s===r)return W(o),t;s=s.sibling}throw Error(d(188))}if(n.return!==r.return)n=o,r=s;else{for(var y=!1,E=o.child;E;){if(E===n){y=!0,n=o,r=s;break}if(E===r){y=!0,r=o,n=s;break}E=E.sibling}if(!y){for(E=s.child;E;){if(E===n){y=!0,n=s,r=o;break}if(E===r){y=!0,r=s,n=o;break}E=E.sibling}if(!y)throw Error(d(189))}}if(n.alternate!==r)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function $(e){return e=H(e),e!==null?ce(e):null}function ce(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ce(e);if(t!==null)return t;e=e.sibling}return null}function se(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=se(e);if(t!==null)return t}e=e.sibling}return null}var Se=Array.isArray,re=i.getPublicInstance,we=i.getRootHostContext,X=i.getChildHostContext,ae=i.prepareForCommit,q=i.resetAfterCommit,pe=i.createInstance,me=i.appendInitialChild,xe=i.finalizeInitialChildren,Ze=i.prepareUpdate,tt=i.shouldSetTextContent,Pe=i.createTextInstance,st=i.scheduleTimeout,Yt=i.cancelTimeout,Mr=i.noTimeout,er=i.isPrimaryRenderer,It=i.supportsMutation,tr=i.supportsPersistence,vt=i.supportsHydration,oi=i.getInstanceFromNode,ai=i.preparePortalMount,Ml=i.getCurrentEventPriority,Rl=i.detachDeletedInstance,Cl=i.supportsMicrotasks,Il=i.scheduleMicrotask,On=i.supportsTestSelectors,Pl=i.findFiberRoot,kl=i.getBoundingRect,si=i.getTextContent,An=i.isHiddenSubtree,Rr=i.matchAccessibilityRole,Nl=i.setFocusIfFocusable,Tl=i.setupIntersectionObserver,ui=i.appendChild,nr=i.appendChildToContainer,zl=i.commitTextUpdate,Ll=i.commitMount,Ol=i.commitUpdate,Fn=i.insertBefore,gt=i.insertInContainerBefore,ci=i.removeChild,yn=i.removeChildFromContainer,Et=i.resetTextContent,ut=i.hideInstance,Al=i.hideTextInstance,ue=i.unhideInstance,jn=i.unhideTextInstance,Fl=i.clearContainer,jl=i.cloneInstance,fi=i.createContainerChildSet,di=i.appendChildToContainerChildSet,Dl=i.finalizeContainerChildren,pi=i.replaceContainerChildren,hi=i.cloneHiddenInstance,mi=i.cloneHiddenTextInstance,Ul=i.canHydrateInstance,Bl=i.canHydrateTextInstance,Hl=i.canHydrateSuspenseInstance,Dn=i.isSuspenseInstancePending,Cr=i.isSuspenseInstanceFallback,Un=i.registerSuspenseInstanceRetry,Xt=i.getNextHydratableSibling,ze=i.getFirstHydratableChild,vi=i.getFirstHydratableChildWithinContainer,Gl=i.getFirstHydratableChildWithinSuspenseInstance,u=i.hydrateInstance,h=i.hydrateTextInstance,_=i.hydrateSuspenseInstance,L=i.getNextHydratableInstanceAfterSuspenseInstance,F=i.commitHydratedContainer,j=i.commitHydratedSuspenseInstance,K=i.clearSuspenseBoundary,Z=i.clearSuspenseBoundaryFromContainer,te=i.shouldDeleteUnhydratedTailInstances,ee=i.didNotMatchHydratedContainerTextInstance,ne=i.didNotMatchHydratedTextInstance,b;function He(e){if(b===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var de=!1;function ve(e,t){if(!e||de)return"";de=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(J){var r=J}Reflect.construct(e,[],t)}else{try{t.call()}catch(J){r=J}e.call(t.prototype)}else{try{throw Error()}catch(J){r=J}e()}}catch(J){if(J&&r&&typeof J.stack=="string"){for(var o=J.stack.split(`
`),s=r.stack.split(`
`),y=o.length-1,E=s.length-1;1<=y&&0<=E&&o[y]!==s[E];)E--;for(;1<=y&&0<=E;y--,E--)if(o[y]!==s[E]){if(y!==1||E!==1)do if(y--,E--,0>E||o[y]!==s[E]){var D=`
`+o[y].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=y&&0<=E);break}}}finally{de=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?He(e):""}var Ee=Object.prototype.hasOwnProperty,Ce=[],Ae=-1;function Le(e){return{current:e}}function _e(e){0>Ae||(e.current=Ce[Ae],Ce[Ae]=null,Ae--)}function Ie(e,t){Ae++,Ce[Ae]=e.current,e.current=t}var Oe={},We=Le(Oe),ke=Le(!1),Qe=Oe;function yt(e,t){var n=e.type.contextTypes;if(!n)return Oe;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rt(e){return e=e.childContextTypes,e!=null}function pt(){_e(ke),_e(We)}function Be(e,t,n){if(We.current!==Oe)throw Error(d(168));Ie(We,t),Ie(ke,n)}function ot(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(d(108,G(e)||"Unknown",o));return m({},n,r)}function Ge(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oe,Qe=We.current,Ie(We,e),Ie(ke,ke.current),!0}function Fe(e,t,n){var r=e.stateNode;if(!r)throw Error(d(169));n?(e=ot(e,t,Qe),r.__reactInternalMemoizedMergedChildContext=e,_e(ke),_e(We),Ie(We,e)):_e(ke),Ie(ke,n)}var Ke=Math.clz32?Math.clz32:bt,cn=Math.log,Mt=Math.LN2;function bt(e){return e>>>=0,e===0?32:31-(cn(e)/Mt|0)|0}var gi=64,yi=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,y=n&268435455;if(y!==0){var E=y&~o;E!==0?r=Ir(E):(s&=y,s!==0&&(r=Ir(s)))}else y=n&~o,y!==0?r=Ir(y):s!==0&&(r=Ir(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ke(t),o=1<<n,r|=e[n],t&=~o;return r}function Vc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var y=31-Ke(s),E=1<<y,D=o[y];D===-1?((E&n)===0||(E&r)!==0)&&(o[y]=Vc(E,t)):D<=t&&(e.expiredLanes|=E),s&=~E}}function Wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=n}function Qc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ke(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Zl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ke(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var je=0;function Fa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ql=f.unstable_scheduleCallback,ja=f.unstable_cancelCallback,Yc=f.unstable_shouldYield,Xc=f.unstable_requestPaint,ct=f.unstable_now,Yl=f.unstable_ImmediatePriority,qc=f.unstable_UserBlockingPriority,Xl=f.unstable_NormalPriority,Kc=f.unstable_IdlePriority,xi=null,$t=null;function Jc(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(xi,e,void 0,(e.current.flags&128)===128)}catch{}}function bc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:bc,fn=null,Si=!1,ql=!1;function Da(e){fn===null?fn=[e]:fn.push(e)}function $c(e){Si=!0,Da(e)}function tn(){if(!ql&&fn!==null){ql=!0;var e=0,t=je;try{var n=fn;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,Si=!1}catch(o){throw fn!==null&&(fn=fn.slice(e+1)),Ql(Yl,tn),o}finally{je=t,ql=!1}}return null}var ef=w.ReactCurrentBatchConfig;function _i(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ee.call(t,o)||!en(e[o],t[o]))return!1}return!0}function tf(e){switch(e.tag){case 5:return He(e.type);case 16:return He("Lazy");case 13:return He("Suspense");case 19:return He("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function qt(e,t){if(e&&e.defaultProps){t=m({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ei=Le(null),Mi=null,rr=null,Kl=null;function Jl(){Kl=rr=Mi=null}function Ua(e,t,n){er?(Ie(Ei,t._currentValue),t._currentValue=n):(Ie(Ei,t._currentValue2),t._currentValue2=n)}function bl(e){var t=Ei.current;_e(Ei),er?e._currentValue=t:e._currentValue2=t}function $l(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ir(e,t){Mi=e,Kl=rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Lt=!0),e.firstContext=null)}function Ft(e){var t=er?e._currentValue:e._currentValue2;if(Kl!==e)if(e={context:e,memoizedValue:t,next:null},rr===null){if(Mi===null)throw Error(d(308));rr=e,Mi.dependencies={lanes:0,firstContext:e}}else rr=rr.next=e;return t}var nn=null,wn=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t){var n=e.updateQueue;n!==null&&(n=n.shared,it!==null&&(e.mode&1)!==0&&(Te&2)===0?(e=n.interleaved,e===null?(t.next=t,nn===null?nn=[n]:nn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(e=n.pending,e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Ri(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zl(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var y={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=y:s=s.next=y,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ci(e,t,n,r){var o=e.updateQueue;wn=!1;var s=o.firstBaseUpdate,y=o.lastBaseUpdate,E=o.shared.pending;if(E!==null){o.shared.pending=null;var D=E,J=D.next;D.next=null,y===null?s=J:y.next=J,y=D;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,E=fe.lastBaseUpdate,E!==y&&(E===null?fe.firstBaseUpdate=J:E.next=J,fe.lastBaseUpdate=D))}if(s!==null){var Me=o.baseState;y=0,fe=J=D=null,E=s;do{var ye=E.lane,Ve=E.eventTime;if((r&ye)===ye){fe!==null&&(fe=fe.next={eventTime:Ve,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ge=e,_t=E;switch(ye=t,Ve=n,_t.tag){case 1:if(ge=_t.payload,typeof ge=="function"){Me=ge.call(Ve,Me,ye);break e}Me=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_t.payload,ye=typeof ge=="function"?ge.call(Ve,Me,ye):ge,ye==null)break e;Me=m({},Me,ye);break e;case 2:wn=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,ye=o.effects,ye===null?o.effects=[E]:ye.push(E))}else Ve={eventTime:Ve,lane:ye,tag:E.tag,payload:E.payload,callback:E.callback,next:null},fe===null?(J=fe=Ve,D=Me):fe=fe.next=Ve,y|=ye;if(E=E.next,E===null){if(E=o.shared.pending,E===null)break;ye=E,E=ye.next,ye.next=null,o.lastBaseUpdate=ye,o.shared.pending=null}}while(!0);if(fe===null&&(D=Me),o.baseState=D,o.firstBaseUpdate=J,o.lastBaseUpdate=fe,t=o.shared.interleaved,t!==null){o=t;do y|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);pr|=y,e.lanes=y,e.memoizedState=Me}}function Ga(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(d(191,o));o.call(r)}}}var Wa=new c.Component().refs;function to(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:m({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ii={isMounted:function(e){return(e=e._reactInternals)?U(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ct(),o=En(e),s=dn(r,o);s.payload=t,n!=null&&(s.callback=n),xn(e,s),t=Ht(e,o,r),t!==null&&Ri(t,e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ct(),o=En(e),s=dn(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),xn(e,s),t=Ht(e,o,r),t!==null&&Ri(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),r=En(e),o=dn(n,r);o.tag=2,t!=null&&(o.callback=t),xn(e,o),t=Ht(e,r,n),t!==null&&Ri(t,e,r)}};function Va(e,t,n,r,o,s,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,y):t.prototype&&t.prototype.isPureReactComponent?!_i(n,r)||!_i(o,s):!0}function Za(e,t,n){var r=!1,o=Oe,s=t.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(o=rt(t)?Qe:We.current,r=t.contextTypes,s=(r=r!=null)?yt(e,o):Oe),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ii,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Qa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function no(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Wa,eo(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Ft(s):(s=rt(t)?Qe:We.current,o.context=yt(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(to(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ii.enqueueReplaceState(o,o.state,null),Ci(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}var lr=[],or=0,Pi=null,ki=0,jt=[],Dt=0,Bn=null,pn=1,hn="";function Hn(e,t){lr[or++]=ki,lr[or++]=Pi,Pi=e,ki=t}function Ya(e,t,n){jt[Dt++]=pn,jt[Dt++]=hn,jt[Dt++]=Bn,Bn=e;var r=pn;e=hn;var o=32-Ke(r)-1;r&=~(1<<o),n+=1;var s=32-Ke(t)+o;if(30<s){var y=o-o%5;s=(r&(1<<y)-1).toString(32),r>>=y,o-=y,pn=1<<32-Ke(t)+o|n<<o|r,hn=s+e}else pn=1<<s|n<<o|r,hn=e}function ro(e){e.return!==null&&(Hn(e,1),Ya(e,1,0))}function io(e){for(;e===Pi;)Pi=lr[--or],lr[or]=null,ki=lr[--or],lr[or]=null;for(;e===Bn;)Bn=jt[--Dt],jt[Dt]=null,hn=jt[--Dt],jt[Dt]=null,pn=jt[--Dt],jt[Dt]=null}var Tt=null,zt=null,Je=!1,kr=!1,Kt=null;function Xa(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qa(e,t){switch(e.tag){case 5:return t=Ul(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,Tt=e,zt=ze(t),!0):!1;case 6:return t=Bl(t,e.pendingProps),t!==null?(e.stateNode=t,Tt=e,zt=null,!0):!1;case 13:if(t=Hl(t),t!==null){var n=Bn!==null?{id:pn,overflow:hn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,zt=null,!0}return!1;default:return!1}}function lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oo(e){if(Je){var t=zt;if(t){var n=t;if(!qa(e,t)){if(lo(e))throw Error(d(418));t=Xt(n);var r=Tt;t&&qa(e,t)?Xa(r,n):(e.flags=e.flags&-4097|2,Je=!1,Tt=e)}}else{if(lo(e))throw Error(d(418));e.flags=e.flags&-4097|2,Je=!1,Tt=e}}}function Ka(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Nr(e){if(!vt||e!==Tt)return!1;if(!Je)return Ka(e),Je=!0,!1;if(e.tag!==3&&(e.tag!==5||te(e.type)&&!tt(e.type,e.memoizedProps))){var t=zt;if(t){if(lo(e)){for(e=zt;e;)e=Xt(e);throw Error(d(418))}for(;t;)Xa(e,t),t=Xt(t)}}if(Ka(e),e.tag===13){if(!vt)throw Error(d(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));zt=L(e)}else zt=Tt?Xt(e.stateNode):null;return!0}function ar(){vt&&(zt=Tt=null,kr=Je=!1)}function ao(e){Kt===null?Kt=[e]:Kt.push(e)}function Tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(d(309));var r=n.stateNode}if(!r)throw Error(d(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(y){var E=o.refs;E===Wa&&(E=o.refs={}),y===null?delete E[s]:E[s]=y},t._stringRef=s,t)}if(typeof e!="string")throw Error(d(284));if(!n._owner)throw Error(d(290,e))}return e}function Ni(e,t){throw e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){var t=e._init;return t(e._payload)}function ba(e){function t(z,M){if(e){var O=z.deletions;O===null?(z.deletions=[M],z.flags|=16):O.push(M)}}function n(z,M){if(!e)return null;for(;M!==null;)t(z,M),M=M.sibling;return null}function r(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function o(z,M){return z=Rn(z,M),z.index=0,z.sibling=null,z}function s(z,M,O){return z.index=O,e?(O=z.alternate,O!==null?(O=O.index,O<M?(z.flags|=2,M):O):(z.flags|=2,M)):(z.flags|=1048576,M)}function y(z){return e&&z.alternate===null&&(z.flags|=2),z}function E(z,M,O,oe){return M===null||M.tag!==6?(M=Zo(O,z.mode,oe),M.return=z,M):(M=o(M,O),M.return=z,M)}function D(z,M,O,oe){var he=O.type;return he===p?fe(z,M,O.props.children,oe,O.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===B&&Ja(he)===M.type)?(oe=o(M,O.props),oe.ref=Tr(z,M,O),oe.return=z,oe):(oe=al(O.type,O.key,O.props,null,z.mode,oe),oe.ref=Tr(z,M,O),oe.return=z,oe)}function J(z,M,O,oe){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Qo(O,z.mode,oe),M.return=z,M):(M=o(M,O.children||[]),M.return=z,M)}function fe(z,M,O,oe,he){return M===null||M.tag!==7?(M=Xn(O,z.mode,oe,he),M.return=z,M):(M=o(M,O),M.return=z,M)}function Me(z,M,O){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Zo(""+M,z.mode,O),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case g:return O=al(M.type,M.key,M.props,null,z.mode,O),O.ref=Tr(z,null,M),O.return=z,O;case S:return M=Qo(M,z.mode,O),M.return=z,M;case B:var oe=M._init;return Me(z,oe(M._payload),O)}if(Se(M)||V(M))return M=Xn(M,z.mode,O,null),M.return=z,M;Ni(z,M)}return null}function ye(z,M,O,oe){var he=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return he!==null?null:E(z,M,""+O,oe);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case g:return O.key===he?D(z,M,O,oe):null;case S:return O.key===he?J(z,M,O,oe):null;case B:return he=O._init,ye(z,M,he(O._payload),oe)}if(Se(O)||V(O))return he!==null?null:fe(z,M,O,oe,null);Ni(z,O)}return null}function Ve(z,M,O,oe,he){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return z=z.get(O)||null,E(M,z,""+oe,he);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return z=z.get(oe.key===null?O:oe.key)||null,D(M,z,oe,he);case S:return z=z.get(oe.key===null?O:oe.key)||null,J(M,z,oe,he);case B:var Ne=oe._init;return Ve(z,M,O,Ne(oe._payload),he)}if(Se(oe)||V(oe))return z=z.get(O)||null,fe(M,z,oe,he,null);Ni(M,oe)}return null}function ge(z,M,O,oe){for(var he=null,Ne=null,Re=M,De=M=0,dt=null;Re!==null&&De<O.length;De++){Re.index>De?(dt=Re,Re=null):dt=Re.sibling;var Ue=ye(z,Re,O[De],oe);if(Ue===null){Re===null&&(Re=dt);break}e&&Re&&Ue.alternate===null&&t(z,Re),M=s(Ue,M,De),Ne===null?he=Ue:Ne.sibling=Ue,Ne=Ue,Re=dt}if(De===O.length)return n(z,Re),Je&&Hn(z,De),he;if(Re===null){for(;De<O.length;De++)Re=Me(z,O[De],oe),Re!==null&&(M=s(Re,M,De),Ne===null?he=Re:Ne.sibling=Re,Ne=Re);return Je&&Hn(z,De),he}for(Re=r(z,Re);De<O.length;De++)dt=Ve(Re,z,De,O[De],oe),dt!==null&&(e&&dt.alternate!==null&&Re.delete(dt.key===null?De:dt.key),M=s(dt,M,De),Ne===null?he=dt:Ne.sibling=dt,Ne=dt);return e&&Re.forEach(function(Cn){return t(z,Cn)}),Je&&Hn(z,De),he}function _t(z,M,O,oe){var he=V(O);if(typeof he!="function")throw Error(d(150));if(O=he.call(O),O==null)throw Error(d(151));for(var Ne=he=null,Re=M,De=M=0,dt=null,Ue=O.next();Re!==null&&!Ue.done;De++,Ue=O.next()){Re.index>De?(dt=Re,Re=null):dt=Re.sibling;var Cn=ye(z,Re,Ue.value,oe);if(Cn===null){Re===null&&(Re=dt);break}e&&Re&&Cn.alternate===null&&t(z,Re),M=s(Cn,M,De),Ne===null?he=Cn:Ne.sibling=Cn,Ne=Cn,Re=dt}if(Ue.done)return n(z,Re),Je&&Hn(z,De),he;if(Re===null){for(;!Ue.done;De++,Ue=O.next())Ue=Me(z,Ue.value,oe),Ue!==null&&(M=s(Ue,M,De),Ne===null?he=Ue:Ne.sibling=Ue,Ne=Ue);return Je&&Hn(z,De),he}for(Re=r(z,Re);!Ue.done;De++,Ue=O.next())Ue=Ve(Re,z,De,Ue.value,oe),Ue!==null&&(e&&Ue.alternate!==null&&Re.delete(Ue.key===null?De:Ue.key),M=s(Ue,M,De),Ne===null?he=Ue:Ne.sibling=Ue,Ne=Ue);return e&&Re.forEach(function(zf){return t(z,zf)}),Je&&Hn(z,De),he}function Wt(z,M,O,oe){if(typeof O=="object"&&O!==null&&O.type===p&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case g:e:{for(var he=O.key,Ne=M;Ne!==null;){if(Ne.key===he){if(he=O.type,he===p){if(Ne.tag===7){n(z,Ne.sibling),M=o(Ne,O.props.children),M.return=z,z=M;break e}}else if(Ne.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===B&&Ja(he)===Ne.type){n(z,Ne.sibling),M=o(Ne,O.props),M.ref=Tr(z,Ne,O),M.return=z,z=M;break e}n(z,Ne);break}else t(z,Ne);Ne=Ne.sibling}O.type===p?(M=Xn(O.props.children,z.mode,oe,O.key),M.return=z,z=M):(oe=al(O.type,O.key,O.props,null,z.mode,oe),oe.ref=Tr(z,M,O),oe.return=z,z=oe)}return y(z);case S:e:{for(Ne=O.key;M!==null;){if(M.key===Ne)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){n(z,M.sibling),M=o(M,O.children||[]),M.return=z,z=M;break e}else{n(z,M);break}else t(z,M);M=M.sibling}M=Qo(O,z.mode,oe),M.return=z,z=M}return y(z);case B:return Ne=O._init,Wt(z,M,Ne(O._payload),oe)}if(Se(O))return ge(z,M,O,oe);if(V(O))return _t(z,M,O,oe);Ni(z,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,M!==null&&M.tag===6?(n(z,M.sibling),M=o(M,O),M.return=z,z=M):(n(z,M),M=Zo(O,z.mode,oe),M.return=z,z=M),y(z)):n(z,M)}return Wt}var sr=ba(!0),$a=ba(!1),zr={},Ut=Le(zr),Lr=Le(zr),ur=Le(zr);function rn(e){if(e===zr)throw Error(d(174));return e}function so(e,t){Ie(ur,t),Ie(Lr,e),Ie(Ut,zr),e=we(t),_e(Ut),Ie(Ut,e)}function cr(){_e(Ut),_e(Lr),_e(ur)}function es(e){var t=rn(ur.current),n=rn(Ut.current);t=X(n,e.type,t),n!==t&&(Ie(Lr,e),Ie(Ut,t))}function uo(e){Lr.current===e&&(_e(Ut),_e(Lr))}var be=Le(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Dn(n)||Cr(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function fo(){for(var e=0;e<co.length;e++){var t=co[e];er?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}co.length=0}var zi=w.ReactCurrentDispatcher,Bt=w.ReactCurrentBatchConfig,fr=0,$e=null,wt=null,ft=null,Li=!1,Or=!1,Ar=0,nf=0;function xt(){throw Error(d(321))}function po(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function ho(e,t,n,r,o,s){if(fr=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zi.current=e===null||e.memoizedState===null?af:sf,e=n(r,o),Or){s=0;do{if(Or=!1,Ar=0,25<=s)throw Error(d(301));s+=1,ft=wt=null,t.updateQueue=null,zi.current=uf,e=n(r,o)}while(Or)}if(zi.current=Di,t=wt!==null&&wt.next!==null,fr=0,ft=wt=$e=null,Li=!1,t)throw Error(d(300));return e}function mo(){var e=Ar!==0;return Ar=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?$e.memoizedState=ft=e:ft=ft.next=e,ft}function ln(){if(wt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=ft===null?$e.memoizedState:ft.next;if(t!==null)ft=t,wt=e;else{if(e===null)throw Error(d(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},ft===null?$e.memoizedState=ft=e:ft=ft.next=e}return ft}function Gn(e,t){return typeof t=="function"?t(e):t}function Oi(e){var t=ln(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var r=wt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var y=o.next;o.next=s.next,s.next=y}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var E=y=null,D=null,J=s;do{var fe=J.lane;if((fr&fe)===fe)D!==null&&(D=D.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),r=J.hasEagerState?J.eagerState:e(r,J.action);else{var Me={lane:fe,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};D===null?(E=D=Me,y=r):D=D.next=Me,$e.lanes|=fe,pr|=fe}J=J.next}while(J!==null&&J!==s);D===null?y=r:D.next=E,en(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=y,t.baseQueue=D,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,$e.lanes|=s,pr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ai(e){var t=ln(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var y=o=o.next;do s=e(s,y.action),y=y.next;while(y!==o);en(s,t.memoizedState)||(Lt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ts(){}function ns(e,t){var n=$e,r=ln(),o=t(),s=!en(r.memoizedState,o);if(s&&(r.memoizedState=o,Lt=!0),r=r.queue,jr(ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Fr(9,is.bind(null,n,r,o,t),void 0,null),it===null)throw Error(d(349));(fr&30)!==0||rs(n,t,o)}return o}function rs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function is(e,t,n,r){t.value=n,t.getSnapshot=r,os(t)&&Ht(e,1,-1)}function ls(e,t,n){return n(function(){os(t)&&Ht(e,1,-1)})}function os(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function vo(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t.queue=e,e=e.dispatch=of.bind(null,$e,e),[t.memoizedState,e]}function Fr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function as(){return ln().memoizedState}function Fi(e,t,n,r){var o=mn();$e.flags|=e,o.memoizedState=Fr(1|t,n,void 0,r===void 0?null:r)}function ji(e,t,n,r){var o=ln();r=r===void 0?null:r;var s=void 0;if(wt!==null){var y=wt.memoizedState;if(s=y.destroy,r!==null&&po(r,y.deps)){o.memoizedState=Fr(t,n,s,r);return}}$e.flags|=e,o.memoizedState=Fr(1|t,n,s,r)}function go(e,t){return Fi(8390656,8,e,t)}function jr(e,t){return ji(2048,8,e,t)}function ss(e,t){return ji(4,2,e,t)}function us(e,t){return ji(4,4,e,t)}function cs(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fs(e,t,n){return n=n!=null?n.concat([e]):null,ji(4,4,cs.bind(null,t,e),n)}function yo(){}function ds(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ps(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rf(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=Bt.transition;Bt.transition={};try{e(!1),t()}finally{je=n,Bt.transition=r}}function hs(){return ln().memoizedState}function lf(e,t,n){var r=En(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ms(e)?vs(t,n):(gs(e,t,n),n=Ct(),e=Ht(e,r,n),e!==null&&ys(e,t,r))}function of(e,t,n){var r=En(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ms(e))vs(t,o);else{gs(e,t,o);var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var y=t.lastRenderedState,E=s(y,n);if(o.hasEagerState=!0,o.eagerState=E,en(E,y))return}catch{}finally{}n=Ct(),e=Ht(e,r,n),e!==null&&ys(e,t,r)}}function ms(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function vs(e,t){Or=Li=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gs(e,t,n){it!==null&&(e.mode&1)!==0&&(Te&2)===0?(e=t.interleaved,e===null?(n.next=n,nn===null?nn=[t]:nn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(e=t.pending,e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ys(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zl(e,n)}}var Di={readContext:Ft,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},af={readContext:Ft,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:go,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fi(4194308,4,cs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lf.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:vo,useDebugValue:yo,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return go(function(){var o=Bt.transition;Bt.transition={};try{r(e)}finally{Bt.transition=o}},[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return e=rf.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,o=mn();if(Je){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),it===null)throw Error(d(349));(fr&30)!==0||rs(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,go(ls.bind(null,r,s,e),[e]),r.flags|=2048,Fr(9,is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mn(),t=it.identifierPrefix;if(Je){var n=hn,r=pn;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sf={readContext:Ft,useCallback:ds,useContext:Ft,useEffect:jr,useImperativeHandle:fs,useInsertionEffect:ss,useLayoutEffect:us,useMemo:ps,useReducer:Oi,useRef:as,useState:function(){return Oi(Gn)},useDebugValue:yo,useDeferredValue:function(e){var t=Oi(Gn),n=t[0],r=t[1];return jr(function(){var o=Bt.transition;Bt.transition={};try{r(e)}finally{Bt.transition=o}},[e]),n},useTransition:function(){var e=Oi(Gn)[0],t=ln().memoizedState;return[e,t]},useMutableSource:ts,useSyncExternalStore:ns,useId:hs,unstable_isNewReconciler:!1},uf={readContext:Ft,useCallback:ds,useContext:Ft,useEffect:jr,useImperativeHandle:fs,useInsertionEffect:ss,useLayoutEffect:us,useMemo:ps,useReducer:Ai,useRef:as,useState:function(){return Ai(Gn)},useDebugValue:yo,useDeferredValue:function(e){var t=Ai(Gn),n=t[0],r=t[1];return jr(function(){var o=Bt.transition;Bt.transition={};try{r(e)}finally{Bt.transition=o}},[e]),n},useTransition:function(){var e=Ai(Gn)[0],t=ln().memoizedState;return[e,t]},useMutableSource:ts,useSyncExternalStore:ns,useId:hs,unstable_isNewReconciler:!1};function wo(e,t){try{var n="",r=t;do n+=tf(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o}}function xo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cf=typeof WeakMap=="function"?WeakMap:Map;function ws(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,Do=r),xo(e,t)},n}function xs(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){xo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xo(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),n}function Ss(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cf;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Mf.bind(null,e,t,n),t.then(e,e))}function _s(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Es(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,xn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}function on(e){e.flags|=4}function Ms(e,t){if(e!==null&&e.child===t.child)return!0;if((t.flags&16)!==0)return!1;for(e=t.child;e!==null;){if((e.flags&12854)!==0||(e.subtreeFlags&12854)!==0)return!1;e=e.sibling}return!0}var Dr,Ur,Ui,Bi;if(It)Dr=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)me(e,n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ur=function(){},Ui=function(e,t,n,r,o){if(e=e.memoizedProps,e!==r){var s=t.stateNode,y=rn(Ut.current);n=Ze(s,n,e,r,o,y),(t.updateQueue=n)&&on(t)}},Bi=function(e,t,n,r){n!==r&&on(t)};else if(tr){Dr=function(e,t,n,r){for(var o=t.child;o!==null;){if(o.tag===5){var s=o.stateNode;n&&r&&(s=hi(s,o.type,o.memoizedProps,o)),me(e,s)}else if(o.tag===6)s=o.stateNode,n&&r&&(s=mi(s,o.memoizedProps,o)),me(e,s);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)s=o.child,s!==null&&(s.return=o),Dr(e,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var Rs=function(e,t,n,r){for(var o=t.child;o!==null;){if(o.tag===5){var s=o.stateNode;n&&r&&(s=hi(s,o.type,o.memoizedProps,o)),di(e,s)}else if(o.tag===6)s=o.stateNode,n&&r&&(s=mi(s,o.memoizedProps,o)),di(e,s);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)s=o.child,s!==null&&(s.return=o),Rs(e,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Ur=function(e,t){var n=t.stateNode;if(!Ms(e,t)){e=n.containerInfo;var r=fi(e);Rs(r,t,!1,!1),n.pendingChildren=r,on(t),Dl(e,r)}},Ui=function(e,t,n,r,o){var s=e.stateNode,y=e.memoizedProps;if((e=Ms(e,t))&&y===r)t.stateNode=s;else{var E=t.stateNode,D=rn(Ut.current),J=null;y!==r&&(J=Ze(E,n,y,r,o,D)),e&&J===null?t.stateNode=s:(s=jl(s,J,n,y,r,t,e,E),xe(s,n,r,o,D)&&on(t),t.stateNode=s,e?on(t):Dr(s,t,!1,!1))}},Bi=function(e,t,n,r){n!==r?(e=rn(ur.current),n=rn(Ut.current),t.stateNode=Pe(r,e,n,t),on(t)):t.stateNode=e.stateNode}}else Ur=function(){},Ui=function(){},Bi=function(){};function Br(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ff(e,t,n){var r=t.pendingProps;switch(io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return rt(t.type)&&pt(),St(t),null;case 3:return r=t.stateNode,cr(),_e(ke),_e(We),fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nr(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kt!==null&&(Ho(Kt),Kt=null))),Ur(e,t),St(t),null;case 5:uo(t),n=rn(ur.current);var o=t.type;if(e!==null&&t.stateNode!=null)Ui(e,t,o,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(d(166));return St(t),null}if(e=rn(Ut.current),Nr(t)){if(!vt)throw Error(d(175));e=u(t.stateNode,t.type,t.memoizedProps,n,e,t,!kr),t.updateQueue=e,e!==null&&on(t)}else{var s=pe(o,r,n,e,t);Dr(s,t,!1,!1),t.stateNode=s,xe(s,o,r,n,e)&&on(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)Bi(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(d(166));if(e=rn(ur.current),n=rn(Ut.current),Nr(t)){if(!vt)throw Error(d(176));if(e=t.stateNode,r=t.memoizedProps,(n=h(e,r,t,!kr))&&(o=Tt,o!==null))switch(s=(o.mode&1)!==0,o.tag){case 3:ee(o.stateNode.containerInfo,e,r,s);break;case 5:ne(o.type,o.memoizedProps,o.stateNode,e,r,s)}n&&on(t)}else t.stateNode=Pe(r,e,n,t)}return St(t),null;case 13:if(_e(be),r=t.memoizedState,Je&&zt!==null&&(t.mode&1)!==0&&(t.flags&128)===0){for(e=zt;e;)e=Xt(e);return ar(),t.flags|=98560,t}if(r!==null&&r.dehydrated!==null){if(r=Nr(t),e===null){if(!r)throw Error(d(318));if(!vt)throw Error(d(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));_(e,t)}else ar(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;return St(t),null}return Kt!==null&&(Ho(Kt),Kt=null),(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?Nr(t):n=e.memoizedState!==null,r&&!n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?at===0&&(at=3):Wo())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return cr(),Ur(e,t),e===null&&ai(t.stateNode.containerInfo),St(t),null;case 10:return bl(t.type._context),St(t),null;case 17:return rt(t.type)&&pt(),St(t),null;case 19:if(_e(be),o=t.memoizedState,o===null)return St(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Br(o,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Ti(e),s!==null){for(t.flags|=128,Br(o,!1),e=s.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;r!==null;)n=r,o=e,n.flags&=14680066,s=n.alternate,s===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,o=s.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r=r.sibling;return Ie(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&ct()>jo&&(t.flags|=128,r=!0,Br(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ti(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Br(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Je)return St(t),null}else 2*ct()-o.renderingStartTime>jo&&n!==1073741824&&(t.flags|=128,r=!0,Br(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(e=o.last,e!==null?e.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ct(),t.sibling=null,e=be.current,Ie(be,r?e&1|2:e&1),t):(St(t),null);case 22:case 23:return Go(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Ot&1073741824)!==0&&(St(t),It&&t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(d(156,t.tag))}var df=w.ReactCurrentOwner,Lt=!1;function Rt(e,t,n,r){t.child=e===null?$a(t,null,n,r):sr(t,e.child,n,r)}function Cs(e,t,n,r,o){n=n.render;var s=t.ref;return ir(t,o),r=ho(e,t,n,r,s,o),n=mo(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Je&&n&&ro(t),t.flags|=1,Rt(e,t,r,o),t.child)}function Is(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Vo(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ps(e,t,s,r,o)):(e=al(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var y=s.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(y,r)&&e.ref===t.ref)return vn(e,t,o)}return t.flags|=1,e=Rn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ps(e,t,n,r,o){if(e!==null&&_i(e.memoizedProps,r)&&e.ref===t.ref)if(Lt=!1,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Lt=!0);else return t.lanes=e.lanes,vn(e,t,o);return So(e,t,n,r,o)}function ks(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null},Ie(dr,Ot),Ot|=n;else if((n&1073741824)!==0)t.memoizedState={baseLanes:0,cachePool:null},r=s!==null?s.baseLanes:n,Ie(dr,Ot),Ot|=r;else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ie(dr,Ot),Ot|=e,null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ie(dr,Ot),Ot|=r;return Rt(e,t,o,n),t.child}function Ns(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,o){var s=rt(n)?Qe:We.current;return s=yt(t,s),ir(t,o),n=ho(e,t,n,r,s,o),r=mo(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Je&&r&&ro(t),t.flags|=1,Rt(e,t,n,o),t.child)}function Ts(e,t,n,r,o){if(rt(n)){var s=!0;Ge(t)}else s=!1;if(ir(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Za(t,n,r),no(t,n,r,o),r=!0;else if(e===null){var y=t.stateNode,E=t.memoizedProps;y.props=E;var D=y.context,J=n.contextType;typeof J=="object"&&J!==null?J=Ft(J):(J=rt(n)?Qe:We.current,J=yt(t,J));var fe=n.getDerivedStateFromProps,Me=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function";Me||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==r||D!==J)&&Qa(t,y,r,J),wn=!1;var ye=t.memoizedState;y.state=ye,Ci(t,r,y,o),D=t.memoizedState,E!==r||ye!==D||ke.current||wn?(typeof fe=="function"&&(to(t,n,fe,r),D=t.memoizedState),(E=wn||Va(t,n,E,r,ye,D,J))?(Me||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=D),y.props=r,y.state=D,y.context=J,r=E):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{y=t.stateNode,Ba(e,t),E=t.memoizedProps,J=t.type===t.elementType?E:qt(t.type,E),y.props=J,Me=t.pendingProps,ye=y.context,D=n.contextType,typeof D=="object"&&D!==null?D=Ft(D):(D=rt(n)?Qe:We.current,D=yt(t,D));var Ve=n.getDerivedStateFromProps;(fe=typeof Ve=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Me||ye!==D)&&Qa(t,y,r,D),wn=!1,ye=t.memoizedState,y.state=ye,Ci(t,r,y,o);var ge=t.memoizedState;E!==Me||ye!==ge||ke.current||wn?(typeof Ve=="function"&&(to(t,n,Ve,r),ge=t.memoizedState),(J=wn||Va(t,n,J,r,ye,ge,D)||!1)?(fe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,ge,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,ge,D)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ge),y.props=r,y.state=ge,y.context=D,r=J):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),r=!1)}return _o(e,t,n,r,s,o)}function _o(e,t,n,r,o,s){Ns(e,t);var y=(t.flags&128)!==0;if(!r&&!y)return o&&Fe(t,n,!1),vn(e,t,s);r=t.stateNode,df.current=t;var E=y&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&y?(t.child=sr(t,e.child,null,s),t.child=sr(t,null,E,s)):Rt(e,t,E,s),t.memoizedState=r.state,o&&Fe(t,n,!0),t.child}function zs(e){var t=e.stateNode;t.pendingContext?Be(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Be(e,t.context,!1),so(e,t.containerInfo)}function Ls(e,t,n,r,o){return ar(),ao(o),t.flags|=256,Rt(e,t,n,r),t.child}var Hi={dehydrated:null,treeContext:null,retryLane:0};function Gi(e){return{baseLanes:e,cachePool:null}}function Os(e,t,n){var r=t.pendingProps,o=be.current,s=!1,y=(t.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(o&2)!==0),E?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ie(be,o&1),e===null)return oo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:Cr(e)?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sl(o,r,0,null),e=Xn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Gi(n),t.memoizedState=Hi,e):Eo(t,o));if(o=e.memoizedState,o!==null){if(E=o.dehydrated,E!==null){if(y)return t.flags&256?(t.flags&=-257,Wi(e,t,n,Error(d(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=sl({mode:"visible",children:r.children},o,0,null),s=Xn(s,o,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&sr(t,e.child,null,n),t.child.memoizedState=Gi(n),t.memoizedState=Hi,s);if((t.mode&1)===0)t=Wi(e,t,n,null);else if(Cr(E))t=Wi(e,t,n,Error(d(419)));else if(r=(n&e.childLanes)!==0,Lt||r){if(r=it,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ht(e,r,-1))}Wo(),t=Wi(e,t,n,Error(d(421)))}else Dn(E)?(t.flags|=128,t.child=e.child,t=Rf.bind(null,e),Un(E,t),t=null):(n=o.treeContext,vt&&(zt=Gl(E),Tt=t,Je=!0,Kt=null,kr=!1,n!==null&&(jt[Dt++]=pn,jt[Dt++]=hn,jt[Dt++]=Bn,pn=n.id,hn=n.overflow,Bn=t)),t=Eo(t,t.pendingProps.children),t.flags|=4096);return t}return s?(r=Fs(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?Gi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Hi,r):(n=As(e,t,r.children,n),t.memoizedState=null,n)}return s?(r=Fs(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?Gi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Hi,r):(n=As(e,t,r.children,n),t.memoizedState=null,n)}function Eo(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,n,r){var o=e.child;return e=o.sibling,n=Rn(o,{mode:"visible",children:n}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Fs(e,t,n,r,o){var s=t.mode;e=e.child;var y=e.sibling,E={mode:"hidden",children:n};return(s&1)===0&&t.child!==e?(n=t.child,n.childLanes=0,n.pendingProps=E,t.deletions=null):(n=Rn(e,E),n.subtreeFlags=e.subtreeFlags&14680064),y!==null?r=Rn(y,r):(r=Xn(r,s,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Wi(e,t,n,r){return r!==null&&ao(r),sr(t,e.child,null,n),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$l(e.return,t,n)}function Mo(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Ds(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Rt(e,t,r.children,n),r=be.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&js(e,n,t);else if(e.tag===19)js(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ie(be,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ti(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Mo(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ti(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Mo(t,!0,n,null,s);break;case"together":Mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pf(e,t,n){switch(t.tag){case 3:zs(t),ar();break;case 5:es(t);break;case 1:rt(t.type)&&Ge(t);break;case 4:so(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ie(be,be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Os(e,t,n):(Ie(be,be.current&1),e=vn(e,t,n),e!==null?e.sibling:null);Ie(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Ds(e,t,n);t.flags|=128}var o=t.memoizedState;if(o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ie(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return vn(e,t,n)}function hf(e,t){switch(io(t),t.tag){case 1:return rt(t.type)&&pt(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),_e(ke),_e(We),fo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return uo(t),null;case 13:if(_e(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(be),null;case 4:return cr(),null;case 10:return bl(t.type._context),null;case 22:case 23:return Go(),null;case 24:return null;default:return null}}var Vi=!1,Wn=!1,mf=typeof WeakSet=="function"?WeakSet:Set,le=null;function Zi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(e,t,r)}else n.current=null}function Ro(e,t,n){try{n()}catch(r){Nt(e,t,r)}}var Us=!1;function vf(e,t){for(ae(e.containerInfo),le=t;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var n=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(n!==null){var r=n.memoizedProps,o=n.memoizedState,s=e.stateNode,y=s.getSnapshotBeforeUpdate(e.elementType===e.type?r:qt(e.type,r),o);s.__reactInternalSnapshotBeforeUpdate=y}break;case 3:It&&Fl(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(E){Nt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return n=Us,Us=!1,n}function Vn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ro(t,n,s)}o=o.next}while(o!==r)}}function Hr(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Co(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=re(n);break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bs(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(xi,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&Ro(t,n,s),r=r.next}while(r!==e)}break;case 1:if(Zi(t,n),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(y){Nt(t,n,y)}break;case 5:Zi(t,n);break;case 4:It?Qs(e,t,n):tr&&tr&&(t=t.stateNode.containerInfo,n=fi(t),pi(t,n))}}function Hs(e,t,n){for(var r=t;;)if(Bs(e,r,n),r.child===null||It&&r.tag===4){if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Gs(e){var t=e.alternate;t!==null&&(e.alternate=null,Gs(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ws(e){return e.tag===5||e.tag===3||e.tag===4}function Vs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ws(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zs(e){if(It){e:{for(var t=e.return;t!==null;){if(Ws(t))break e;t=t.return}throw Error(d(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,n.flags&32&&(Et(t),n.flags&=-33),n=Vs(e),Po(e,n,t);break;case 3:case 4:t=n.stateNode.containerInfo,n=Vs(e),Io(e,n,t);break;default:throw Error(d(161))}}}function Io(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?gt(n,e,t):nr(n,e);else if(r!==4&&(e=e.child,e!==null))for(Io(e,t,n),e=e.sibling;e!==null;)Io(e,t,n),e=e.sibling}function Po(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?Fn(n,e,t):ui(n,e);else if(r!==4&&(e=e.child,e!==null))for(Po(e,t,n),e=e.sibling;e!==null;)Po(e,t,n),e=e.sibling}function Qs(e,t,n){for(var r=t,o=!1,s,y;;){if(!o){o=r.return;e:for(;;){if(o===null)throw Error(d(160));switch(s=o.stateNode,o.tag){case 5:y=!1;break e;case 3:s=s.containerInfo,y=!0;break e;case 4:s=s.containerInfo,y=!0;break e}o=o.return}o=!0}if(r.tag===5||r.tag===6)Hs(e,r,n),y?yn(s,r.stateNode):ci(s,r.stateNode);else if(r.tag===18)y?Z(s,r.stateNode):K(s,r.stateNode);else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,y=!0,r.child.return=r,r=r.child;continue}}else if(Bs(e,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function ko(e,t){if(It){switch(t.tag){case 0:case 11:case 14:case 15:Vn(3,t,t.return),Hr(3,t),Vn(5,t,t.return);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var r=t.memoizedProps;e=e!==null?e.memoizedProps:r;var o=t.type,s=t.updateQueue;t.updateQueue=null,s!==null&&Ol(n,s,o,e,r,t)}return;case 6:if(t.stateNode===null)throw Error(d(162));n=t.memoizedProps,zl(t.stateNode,e!==null?e.memoizedProps:n,n);return;case 3:vt&&e!==null&&e.memoizedState.isDehydrated&&F(t.stateNode.containerInfo);return;case 12:return;case 13:Qi(t);return;case 19:Qi(t);return;case 17:return}throw Error(d(163))}switch(t.tag){case 0:case 11:case 14:case 15:Vn(3,t,t.return),Hr(3,t),Vn(5,t,t.return);return;case 12:return;case 13:Qi(t);return;case 19:Qi(t);return;case 3:vt&&e!==null&&e.memoizedState.isDehydrated&&F(t.stateNode.containerInfo);break;case 22:case 23:return}e:if(tr){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,pi(t.containerInfo,t.pendingChildren);break e}throw Error(d(163))}}function Qi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mf),t.forEach(function(r){var o=Cf.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function gf(e,t){for(le=t;le!==null;){t=le;var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e;It?Qs(s,o,t):Hs(s,o,t);var y=o.alternate;y!==null&&(y.return=null),o.return=null}catch(he){Nt(o,t,he)}}if(n=t.child,(t.subtreeFlags&12854)!==0&&n!==null)n.return=t,le=n;else for(;le!==null;){t=le;try{var E=t.flags;if(E&32&&It&&Et(t.stateNode),E&512){var D=t.alternate;if(D!==null){var J=D.ref;J!==null&&(typeof J=="function"?J(null):J.current=null)}}if(E&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var fe=t.alternate;(fe===null||fe.memoizedState===null)&&(Fo=ct())}break;case 22:var Me=t.memoizedState!==null,ye=t.alternate,Ve=ye!==null&&ye.memoizedState!==null;if(n=t,It){e:if(r=n,o=Me,s=null,It)for(var ge=r;;){if(ge.tag===5){if(s===null){s=ge;var _t=ge.stateNode;o?ut(_t):ue(ge.stateNode,ge.memoizedProps)}}else if(ge.tag===6){if(s===null){var Wt=ge.stateNode;o?Al(Wt):jn(Wt,ge.memoizedProps)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===r)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===r)break;for(;ge.sibling===null;){if(ge.return===null||ge.return===r)break e;s===ge&&(s=null),ge=ge.return}s===ge&&(s=null),ge.sibling.return=ge.return,ge=ge.sibling}}if(Me&&!Ve&&(n.mode&1)!==0){le=n;for(var z=n.child;z!==null;){for(n=le=z;le!==null;){r=le;var M=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Vn(4,r,r.return);break;case 1:Zi(r,r.return);var O=r.stateNode;if(typeof O.componentWillUnmount=="function"){var oe=r.return;try{O.props=r.memoizedProps,O.state=r.memoizedState,O.componentWillUnmount()}catch(he){Nt(r,oe,he)}}break;case 5:Zi(r,r.return);break;case 22:if(r.memoizedState!==null){qs(n);continue}}M!==null?(M.return=r,le=M):qs(n)}z=z.sibling}}}switch(E&4102){case 2:Zs(t),t.flags&=-3;break;case 6:Zs(t),t.flags&=-3,ko(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,ko(t.alternate,t);break;case 4:ko(t.alternate,t)}}catch(he){Nt(t,t.return,he)}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}}function yf(e,t,n){le=e,Ys(e)}function Ys(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var o=le,s=o.child;if(o.tag===22&&r){var y=o.memoizedState!==null||Vi;if(!y){var E=o.alternate,D=E!==null&&E.memoizedState!==null||Wn;E=Vi;var J=Wn;if(Vi=y,(Wn=D)&&!J)for(le=o;le!==null;)y=le,D=y.child,y.tag===22&&y.memoizedState!==null?Ks(o):D!==null?(D.return=y,le=D):Ks(o);for(;s!==null;)le=s,Ys(s),s=s.sibling;le=o,Vi=E,Wn=J}Xs(e)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,le=s):Xs(e)}}function Xs(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Wn||Hr(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ga(t,s,r);break;case 3:var y=t.updateQueue;if(y!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=re(t.child.stateNode);break;case 1:n=t.child.stateNode}Ga(t,y,n)}break;case 5:var E=t.stateNode;n===null&&t.flags&4&&Ll(E,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(vt&&t.memoizedState===null){var D=t.alternate;if(D!==null){var J=D.memoizedState;if(J!==null){var fe=J.dehydrated;fe!==null&&j(fe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(d(163))}Wn||t.flags&512&&Co(t)}catch(Me){Nt(t,t.return,Me)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function qs(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Ks(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hr(4,t)}catch(D){Nt(t,n,D)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(D){Nt(t,o,D)}}var s=t.return;try{Co(t)}catch(D){Nt(t,s,D)}break;case 5:var y=t.return;try{Co(t)}catch(D){Nt(t,y,D)}}}catch(D){Nt(t,t.return,D)}if(t===e){le=null;break}var E=t.sibling;if(E!==null){E.return=t.return,le=E;break}le=t.return}}var Yi=0,Xi=1,qi=2,Ki=3,Ji=4;if(typeof Symbol=="function"&&Symbol.for){var Gr=Symbol.for;Yi=Gr("selector.component"),Xi=Gr("selector.has_pseudo_class"),qi=Gr("selector.role"),Ki=Gr("selector.test_id"),Ji=Gr("selector.text")}function No(e){var t=oi(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(d(364));return t}if(e=Pl(e),e===null)throw Error(d(362));return e.stateNode.current}function To(e,t){switch(t.$$typeof){case Yi:if(e.type===t.value)return!0;break;case Xi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],o=e[n++],s=t[o];if(r.tag!==5||!An(r)){for(;s!=null&&To(r,s);)o++,s=t[o];if(o===t.length){t=!0;break e}else for(r=r.child;r!==null;)e.push(r,o),r=r.sibling}}t=!1}return t;case qi:if(e.tag===5&&Rr(e.stateNode,t.value))return!0;break;case Ji:if((e.tag===5||e.tag===6)&&(e=si(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Ki:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(d(365))}return!1}function zo(e){switch(e.$$typeof){case Yi:return"<"+(ie(e.value)||"Unknown")+">";case Xi:return":has("+(zo(e)||"")+")";case qi:return'[role="'+e.value+'"]';case Ji:return'"'+e.value+'"';case Ki:return'[data-testname="'+e.value+'"]';default:throw Error(d(365))}}function Js(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var o=e[r++],s=e[r++],y=t[s];if(o.tag!==5||!An(o)){for(;y!=null&&To(o,y);)s++,y=t[s];if(s===t.length)n.push(o);else for(o=o.child;o!==null;)e.push(o,s),o=o.sibling}}return n}function Lo(e,t){if(!On)throw Error(d(363));e=No(e),e=Js(e,t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(r.tag===5)An(r)||t.push(r.stateNode);else for(r=r.child;r!==null;)e.push(r),r=r.sibling}return t}var wf=Math.ceil,bi=w.ReactCurrentDispatcher,Oo=w.ReactCurrentOwner,nt=w.ReactCurrentBatchConfig,Te=0,it=null,lt=null,ht=0,Ot=0,dr=Le(0),at=0,Wr=null,pr=0,$i=0,Ao=0,Vr=null,Pt=null,Fo=0,jo=1/0;function hr(){jo=ct()+500}var el=!1,Do=null,Sn=null,tl=!1,_n=null,nl=0,Zr=0,Uo=null,rl=-1,il=0;function Ct(){return(Te&6)!==0?ct():rl!==-1?rl:rl=ct()}function En(e){return(e.mode&1)===0?1:(Te&2)!==0&&ht!==0?ht&-ht:ef.transition!==null?(il===0&&(e=gi,gi<<=1,(gi&4194240)===0&&(gi=64),il=e),il):(e=je,e!==0?e:Ml())}function Ht(e,t,n){if(50<Zr)throw Zr=0,Uo=null,Error(d(185));var r=ll(e,t);return r===null?null:(Pr(r,t,n),((Te&2)===0||r!==it)&&(r===it&&((Te&2)===0&&($i|=t),at===4&&Mn(r,ht)),kt(r,n),t===1&&Te===0&&(e.mode&1)===0&&(hr(),Si&&tn())),r)}function ll(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function kt(e,t){var n=e.callbackNode;Zc(e,t);var r=wi(e,e===it?ht:0);if(r===0)n!==null&&ja(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ja(n),t===1)e.tag===0?$c($s.bind(null,e)):Da($s.bind(null,e)),Cl?Il(function(){Te===0&&tn()}):Ql(Yl,tn),n=null;else{switch(Fa(r)){case 1:n=Yl;break;case 4:n=qc;break;case 16:n=Xl;break;case 536870912:n=Kc;break;default:n=Xl}n=su(n,bs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bs(e,t){if(rl=-1,il=0,(Te&6)!==0)throw Error(d(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var r=wi(e,e===it?ht:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=ol(e,r);else{t=r;var o=Te;Te|=2;var s=nu();(it!==e||ht!==t)&&(hr(),Zn(e,t));do try{_f();break}catch(E){tu(e,E)}while(!0);Jl(),bi.current=s,Te=o,lt!==null?t=0:(it=null,ht=0,t=at)}if(t!==0){if(t===2&&(o=Wl(e),o!==0&&(r=o,t=Bo(e,o))),t===1)throw n=Wr,Zn(e,0),Mn(e,r),kt(e,ct()),n;if(t===6)Mn(e,r);else{if(o=e.current.alternate,(r&30)===0&&!xf(o)&&(t=ol(e,r),t===2&&(s=Wl(e),s!==0&&(r=s,t=Bo(e,s))),t===1))throw n=Wr,Zn(e,0),Mn(e,r),kt(e,ct()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(d(345));case 2:Qn(e,Pt);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=Fo+500-ct(),10<t)){if(wi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=st(Qn.bind(null,e,Pt),t);break}Qn(e,Pt);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var y=31-Ke(r);s=1<<y,y=t[y],y>o&&(o=y),r&=~s}if(r=o,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wf(r/1960))-r,10<r){e.timeoutHandle=st(Qn.bind(null,e,Pt),r);break}Qn(e,Pt);break;case 5:Qn(e,Pt);break;default:throw Error(d(329))}}}return kt(e,ct()),e.callbackNode===n?bs.bind(null,e):null}function Bo(e,t){var n=Vr;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=ol(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&Ho(t)),e}function Ho(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function xf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!en(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~Ao,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ke(t),r=1<<n;e[n]=-1,t&=~r}}function $s(e){if((Te&6)!==0)throw Error(d(327));Yn();var t=wi(e,0);if((t&1)===0)return kt(e,ct()),null;var n=ol(e,t);if(e.tag!==0&&n===2){var r=Wl(e);r!==0&&(t=r,n=Bo(e,r))}if(n===1)throw n=Wr,Zn(e,0),Mn(e,t),kt(e,ct()),n;if(n===6)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qn(e,Pt),kt(e,ct()),null}function eu(e){_n!==null&&_n.tag===0&&(Te&6)===0&&Yn();var t=Te;Te|=1;var n=nt.transition,r=je;try{if(nt.transition=null,je=1,e)return e()}finally{je=r,nt.transition=n,Te=t,(Te&6)===0&&tn()}}function Go(){Ot=dr.current,_e(dr)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Mr&&(e.timeoutHandle=Mr,Yt(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(io(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pt();break;case 3:cr(),_e(ke),_e(We),fo();break;case 5:uo(r);break;case 4:cr();break;case 13:_e(be);break;case 19:_e(be);break;case 10:bl(r.type._context);break;case 22:case 23:Go()}n=n.return}if(it=e,lt=e=Rn(e.current,null),ht=Ot=t,at=0,Wr=null,Ao=$i=pr=0,Pt=Vr=null,nn!==null){for(t=0;t<nn.length;t++)if(n=nn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var y=s.next;s.next=o,r.next=y}n.pending=r}nn=null}return e}function tu(e,t){do{var n=lt;try{if(Jl(),zi.current=Di,Li){for(var r=$e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Li=!1}if(fr=0,ft=wt=$e=null,Or=!1,Ar=0,Oo.current=null,n===null||n.return===null){at=1,Wr=t,lt=null;break}e:{var s=e,y=n.return,E=n,D=t;if(t=ht,E.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=D,fe=E,Me=fe.tag;if((fe.mode&1)===0&&(Me===0||Me===11||Me===15)){var ye=fe.alternate;ye?(fe.updateQueue=ye.updateQueue,fe.memoizedState=ye.memoizedState,fe.lanes=ye.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Ve=_s(y);if(Ve!==null){Ve.flags&=-257,Es(Ve,y,E,s,t),Ve.mode&1&&Ss(s,J,t),t=Ve,D=J;var ge=t.updateQueue;if(ge===null){var _t=new Set;_t.add(D),t.updateQueue=_t}else ge.add(D);break e}else{if((t&1)===0){Ss(s,J,t),Wo();break e}D=Error(d(426))}}else if(Je&&E.mode&1){var Wt=_s(y);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),Es(Wt,y,E,s,t),ao(D);break e}}s=D,at!==4&&(at=2),Vr===null?Vr=[s]:Vr.push(s),D=wo(D,E),E=y;do{switch(E.tag){case 3:E.flags|=65536,t&=-t,E.lanes|=t;var z=ws(E,D,t);Ha(E,z);break e;case 1:s=D;var M=E.type,O=E.stateNode;if((E.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Sn===null||!Sn.has(O)))){E.flags|=65536,t&=-t,E.lanes|=t;var oe=xs(E,s,t);Ha(E,oe);break e}}E=E.return}while(E!==null)}iu(n)}catch(he){t=he,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function nu(){var e=bi.current;return bi.current=Di,e===null?Di:e}function Wo(){(at===0||at===3||at===2)&&(at=4),it===null||(pr&268435455)===0&&($i&268435455)===0||Mn(it,ht)}function ol(e,t){var n=Te;Te|=2;var r=nu();it===e&&ht===t||Zn(e,t);do try{Sf();break}catch(o){tu(e,o)}while(!0);if(Jl(),Te=n,bi.current=r,lt!==null)throw Error(d(261));return it=null,ht=0,at}function Sf(){for(;lt!==null;)ru(lt)}function _f(){for(;lt!==null&&!Yc();)ru(lt)}function ru(e){var t=au(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?iu(e):lt=t,Oo.current=null}function iu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=ff(n,t,Ot),n!==null){lt=n;return}}else{if(n=hf(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,lt=null;return}}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);at===0&&(at=5)}function Qn(e,t){var n=je,r=nt.transition;try{nt.transition=null,je=1,Ef(e,t,n)}finally{nt.transition=r,je=n}return null}function Ef(e,t,n){do Yn();while(_n!==null);if((Te&6)!==0)throw Error(d(327));var r=e.finishedWork,o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Qc(e,s),e===it&&(lt=it=null,ht=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||tl||(tl=!0,su(Xl,function(){return Yn(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=nt.transition,nt.transition=null;var y=je;je=1;var E=Te;Te|=4,Oo.current=null,vf(e,r),gf(e,r),q(e.containerInfo),e.current=r,yf(r),Xc(),Te=E,je=y,nt.transition=s}else e.current=r;if(tl&&(tl=!1,_n=e,nl=o),s=e.pendingLanes,s===0&&(Sn=null),Jc(r.stateNode),kt(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(el)throw el=!1,e=Do,Do=null,e;return(nl&1)!==0&&e.tag!==0&&Yn(),s=e.pendingLanes,(s&1)!==0?e===Uo?Zr++:(Zr=0,Uo=e):Zr=0,tn(),null}function Yn(){if(_n!==null){var e=Fa(nl),t=nt.transition,n=je;try{if(nt.transition=null,je=16>e?16:e,_n===null)var r=!1;else{if(e=_n,_n=null,nl=0,(Te&6)!==0)throw Error(d(331));var o=Te;for(Te|=4,le=e.current;le!==null;){var s=le,y=s.child;if((le.flags&16)!==0){var E=s.deletions;if(E!==null){for(var D=0;D<E.length;D++){var J=E[D];for(le=J;le!==null;){var fe=le;switch(fe.tag){case 0:case 11:case 15:Vn(8,fe,s)}var Me=fe.child;if(Me!==null)Me.return=fe,le=Me;else for(;le!==null;){fe=le;var ye=fe.sibling,Ve=fe.return;if(Gs(fe),fe===J){le=null;break}if(ye!==null){ye.return=Ve,le=ye;break}le=Ve}}}var ge=s.alternate;if(ge!==null){var _t=ge.child;if(_t!==null){ge.child=null;do{var Wt=_t.sibling;_t.sibling=null,_t=Wt}while(_t!==null)}}le=s}}if((s.subtreeFlags&2064)!==0&&y!==null)y.return=s,le=y;else e:for(;le!==null;){if(s=le,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Vn(9,s,s.return)}var z=s.sibling;if(z!==null){z.return=s.return,le=z;break e}le=s.return}}var M=e.current;for(le=M;le!==null;){y=le;var O=y.child;if((y.subtreeFlags&2064)!==0&&O!==null)O.return=y,le=O;else e:for(y=M;le!==null;){if(E=le,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Hr(9,E)}}catch(he){Nt(E,E.return,he)}if(E===y){le=null;break e}var oe=E.sibling;if(oe!==null){oe.return=E.return,le=oe;break e}le=E.return}}if(Te=o,tn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(xi,e)}catch{}r=!0}return r}finally{je=n,nt.transition=t}}return!1}function lu(e,t,n){t=wo(n,t),t=ws(e,t,1),xn(e,t),t=Ct(),e=ll(e,1),e!==null&&(Pr(e,1,t),kt(e,t))}function Nt(e,t,n){if(e.tag===3)lu(e,e,n);else for(;t!==null;){if(t.tag===3){lu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=wo(n,e),e=xs(t,e,1),xn(t,e),e=Ct(),t=ll(t,1),t!==null&&(Pr(t,1,e),kt(t,e));break}}t=t.return}}function Mf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(ht&n)===n&&(at===4||at===3&&(ht&130023424)===ht&&500>ct()-Fo?Zn(e,0):Ao|=n),kt(e,t)}function ou(e,t){t===0&&((e.mode&1)===0?t=1:(t=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var n=Ct();e=ll(e,t),e!==null&&(Pr(e,t,n),kt(e,n))}function Rf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ou(e,n)}function Cf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(d(314))}r!==null&&r.delete(t),ou(e,n)}var au;au=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ke.current)Lt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Lt=!1,pf(e,t,n);Lt=(e.flags&131072)!==0}else Lt=!1,Je&&(t.flags&1048576)!==0&&Ya(t,ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var o=yt(t,We.current);ir(t,n),o=ho(null,t,r,e,o,n);var s=mo();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(s=!0,Ge(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,eo(t),o.updater=Ii,t.stateNode=o,o._reactInternals=t,no(t,r,e,n),t=_o(null,t,r,!0,s,n)):(t.tag=0,Je&&s&&ro(t),Rt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Pf(r),e=qt(r,e),o){case 0:t=So(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=Is(null,t,r,qt(r.type,e),n);break e}throw Error(d(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),So(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),Ts(e,t,r,o,n);case 3:e:{if(zs(t),e===null)throw Error(d(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Ba(e,t),Ci(t,r,null,n);var y=t.memoizedState;if(r=y.element,vt&&s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:y.cache,transitions:y.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Error(d(423)),t=Ls(e,t,r,n,o);break e}else if(r!==o){o=Error(d(424)),t=Ls(e,t,r,n,o);break e}else for(vt&&(zt=vi(t.stateNode.containerInfo),Tt=t,Je=!0,Kt=null,kr=!1),n=$a(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ar(),r===o){t=vn(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 5:return es(t),e===null&&oo(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,y=o.children,tt(r,o)?y=null:s!==null&&tt(r,s)&&(t.flags|=32),Ns(e,t),Rt(e,t,y,n),t.child;case 6:return e===null&&oo(t),null;case 13:return Os(e,t,n);case 4:return so(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sr(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),Cs(e,t,r,o,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,y=o.value,Ua(t,r,y),s!==null)if(en(s.value,y)){if(s.children===o.children&&!ke.current){t=vn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var E=s.dependencies;if(E!==null){y=s.child;for(var D=E.firstContext;D!==null;){if(D.context===r){if(s.tag===1){D=dn(-1,n&-n),D.tag=2;var J=s.updateQueue;if(J!==null){J=J.shared;var fe=J.pending;fe===null?D.next=D:(D.next=fe.next,fe.next=D),J.pending=D}}s.lanes|=n,D=s.alternate,D!==null&&(D.lanes|=n),$l(s.return,n,t),E.lanes|=n;break}D=D.next}}else if(s.tag===10)y=s.type===t.type?null:s.child;else if(s.tag===18){if(y=s.return,y===null)throw Error(d(341));y.lanes|=n,E=y.alternate,E!==null&&(E.lanes|=n),$l(y,n,t),y=s.sibling}else y=s.child;if(y!==null)y.return=s;else for(y=s;y!==null;){if(y===t){y=null;break}if(s=y.sibling,s!==null){s.return=y.return,y=s;break}y=y.return}s=y}Rt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ir(t,n),o=Ft(o),r=r(o),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return r=t.type,o=qt(r,t.pendingProps),o=qt(r.type,o),Is(e,t,r,o,n);case 15:return Ps(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qt(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,rt(r)?(e=!0,Ge(t)):e=!1,ir(t,n),Za(t,r,o),no(t,r,o,n),_o(null,t,r,!0,e,n);case 19:return Ds(e,t,n);case 22:return ks(e,t,n)}throw Error(d(156,t.tag))};function su(e,t){return Ql(e,t)}function If(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new If(e,t,n,r)}function Vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pf(e){if(typeof e=="function")return Vo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A)return 11;if(e===N)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function al(e,t,n,r,o,s){var y=2;if(r=e,typeof e=="function")Vo(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case p:return Xn(n.children,o,s,t);case v:y=8,o|=8;break;case x:return e=Gt(12,n,t,o|2),e.elementType=x,e.lanes=s,e;case k:return e=Gt(13,n,t,o),e.elementType=k,e.lanes=s,e;case R:return e=Gt(19,n,t,o),e.elementType=R,e.lanes=s,e;case Y:return sl(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:y=10;break e;case T:y=9;break e;case A:y=11;break e;case N:y=14;break e;case B:y=16,r=null;break e}throw Error(d(130,e==null?e:typeof e,""))}return t=Gt(y,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Xn(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function sl(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=Y,e.lanes=n,e.stateNode={},e}function Zo(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function Qo(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kf(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Mr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=r,this.onRecoverableError=o,vt&&(this.mutableSourceEagerHydrationData=null)}function uu(e,t,n,r,o,s,y,E,D){return e=new kf(e,t,n,E,D),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Gt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},eo(s),e}function cu(e){if(!e)return Oe;e=e._reactInternals;e:{if(U(e)!==e||e.tag!==1)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(d(171))}if(e.tag===1){var n=e.type;if(rt(n))return ot(e,n,t)}return t}function fu(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=$(t),e===null?null:e.stateNode}function du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yo(e,t){du(e,t),(e=e.alternate)&&du(e,t)}function Nf(e){return e=$(e),e===null?null:e.stateNode}function Tf(){return null}return a.attemptContinuousHydration=function(e){if(e.tag===13){var t=Ct();Ht(e,134217728,t),Yo(e,134217728)}},a.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=Ct(),n=En(e);Ht(e,n,t),Yo(e,n)}},a.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(Zl(t,n|1),kt(t,ct()),(Te&6)===0&&(hr(),tn()))}break;case 13:var r=Ct();eu(function(){return Ht(e,1,r)}),Yo(e,1)}},a.batchedUpdates=function(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(hr(),Si&&tn())}},a.createComponentSelector=function(e){return{$$typeof:Yi,value:e}},a.createContainer=function(e,t,n,r,o,s,y){return uu(e,t,!1,null,n,r,o,s,y)},a.createHasPseudoClassSelector=function(e){return{$$typeof:Xi,value:e}},a.createHydrationContainer=function(e,t,n,r,o,s,y,E,D){return e=uu(n,r,!0,e,o,s,y,E,D),e.context=cu(null),n=e.current,r=Ct(),o=En(n),s=dn(r,o),s.callback=t??null,xn(n,s),e.current.lanes=o,Pr(e,o,r),kt(e,r),e},a.createPortal=function(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}},a.createRoleSelector=function(e){return{$$typeof:qi,value:e}},a.createTestNameSelector=function(e){return{$$typeof:Ki,value:e}},a.createTextSelector=function(e){return{$$typeof:Ji,value:e}},a.deferredUpdates=function(e){var t=je,n=nt.transition;try{return nt.transition=null,je=16,e()}finally{je=t,nt.transition=n}},a.discreteUpdates=function(e,t,n,r,o){var s=je,y=nt.transition;try{return nt.transition=null,je=1,e(t,n,r,o)}finally{je=s,nt.transition=y,Te===0&&hr()}},a.findAllNodes=Lo,a.findBoundingRects=function(e,t){if(!On)throw Error(d(363));t=Lo(e,t),e=[];for(var n=0;n<t.length;n++)e.push(kl(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,o=r+n.width,s=n.y,y=s+n.height,E=t-1;0<=E;E--)if(t!==E){var D=e[E],J=D.x,fe=J+D.width,Me=D.y,ye=Me+D.height;if(r>=J&&s>=Me&&o<=fe&&y<=ye){e.splice(t,1);break}else if(r!==J||n.width!==D.width||ye<s||Me>y){if(!(s!==Me||n.height!==D.height||fe<r||J>o)){J>r&&(D.width+=J-r,D.x=r),fe<o&&(D.width=o-J),e.splice(t,1);break}}else{Me>s&&(D.height+=Me-s,D.y=s),ye<y&&(D.height=y-Me),e.splice(t,1);break}}}return e},a.findHostInstance=fu,a.findHostInstanceWithNoPortals=function(e){return e=H(e),e=e!==null?se(e):null,e===null?null:e.stateNode},a.findHostInstanceWithWarning=function(e){return fu(e)},a.flushControlled=function(e){var t=Te;Te|=1;var n=nt.transition,r=je;try{nt.transition=null,je=1,e()}finally{je=r,nt.transition=n,Te=t,Te===0&&(hr(),tn())}},a.flushPassiveEffects=Yn,a.flushSync=eu,a.focusWithin=function(e,t){if(!On)throw Error(d(363));for(e=No(e),t=Js(e,t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!An(n)){if(n.tag===5&&Nl(n.stateNode))return!0;for(n=n.child;n!==null;)t.push(n),n=n.sibling}}return!1},a.getCurrentUpdatePriority=function(){return je},a.getFindAllNodesFailureDescription=function(e,t){if(!On)throw Error(d(363));var n=0,r=[];e=[No(e),0];for(var o=0;o<e.length;){var s=e[o++],y=e[o++],E=t[y];if((s.tag!==5||!An(s))&&(To(s,E)&&(r.push(zo(E)),y++,y>n&&(n=y)),y<t.length))for(s=s.child;s!==null;)e.push(s,y),s=s.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(zo(t[n]));return`findAllNodes was able to match part of the selector:
  `+(r.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},a.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return re(e.child.stateNode);default:return e.child.stateNode}},a.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:Nf,findFiberByHostInstance:e.findFiberByHostInstance||Tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{xi=t.inject(e),$t=t}catch{}e=!!t.checkDCE}}return e},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(e,t,n,r){if(!On)throw Error(d(363));e=Lo(e,t);var o=Tl(e,n,r).disconnect;return{disconnect:function(){o()}}},a.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},a.runWithPriority=function(e,t){var n=je;try{return je=e,t()}finally{je=n}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(e,t,n,r){var o=t.current,s=Ct(),y=En(o);return n=cu(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(s,y),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),xn(o,t),e=Ht(o,y,s),e!==null&&Ri(e,o,y),y},a}),ta}var Eu;function Ld(){return Eu||(Eu=1,bo.exports=zd()),bo.exports}var Od=Ld();const Ad=_l(Od);var Mu=oc();const Ma={},Ra=l=>void Object.assign(Ma,l);function Fd(l,i){function a(p,{args:v=[],attach:x,...P},T){let A=`${p[0].toUpperCase()}${p.slice(1)}`,k;if(p==="primitive"){if(P.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const R=P.object;k=vr(R,{type:p,root:T,attach:x,primitive:!0})}else{const R=Ma[A];if(!R)throw new Error(`R3F: ${A} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");k=vr(new R(...v),{type:p,root:T,attach:x,memoizedProps:{args:v}})}return k.__r3f.attach===void 0&&(k instanceof Vf?k.__r3f.attach="geometry":k instanceof Zf&&(k.__r3f.attach="material")),A!=="inject"&&ia(k,P),k}function c(p,v){let x=!1;if(v){var P,T;(P=v.__r3f)!=null&&P.attach?ra(p,v,v.__r3f.attach):v.isObject3D&&p.isObject3D&&(p.add(v),x=!0),x||(T=p.__r3f)==null||T.objects.push(v),v.__r3f||vr(v,{}),v.__r3f.parent=p,ya(v),gr(v)}}function f(p,v,x){let P=!1;if(v){var T,A;if((T=v.__r3f)!=null&&T.attach)ra(p,v,v.__r3f.attach);else if(v.isObject3D&&p.isObject3D){v.parent=p,v.dispatchEvent({type:"added"}),p.dispatchEvent({type:"childadded",child:v});const k=p.children.filter(N=>N!==v),R=k.indexOf(x);p.children=[...k.slice(0,R),v,...k.slice(R)],P=!0}P||(A=p.__r3f)==null||A.objects.push(v),v.__r3f||vr(v,{}),v.__r3f.parent=p,ya(v),gr(v)}}function m(p,v,x=!1){p&&[...p].forEach(P=>d(v,P,x))}function d(p,v,x){if(v){var P,T,A;if(v.__r3f&&(v.__r3f.parent=null),(P=p.__r3f)!=null&&P.objects&&(p.__r3f.objects=p.__r3f.objects.filter(Y=>Y!==v)),(T=v.__r3f)!=null&&T.attach)ku(p,v,v.__r3f.attach);else if(v.isObject3D&&p.isObject3D){var k;p.remove(v),(k=v.__r3f)!=null&&k.root&&Wd(gl(v),v)}const N=(A=v.__r3f)==null?void 0:A.primitive,B=!N&&(x===void 0?v.dispose!==null:x);if(!N){var R;m((R=v.__r3f)==null?void 0:R.objects,v,B),m(v.children,v,B)}if(delete v.__r3f,B&&v.dispose&&v.type!=="Scene"){const Y=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Mu.unstable_scheduleCallback(Mu.unstable_IdlePriority,Y):Y()}gr(p)}}function w(p,v,x,P){var T;const A=(T=p.__r3f)==null?void 0:T.parent;if(!A)return;const k=a(v,x,p.__r3f.root);if(p.children){for(const R of p.children)R.__r3f&&c(k,R);p.children=p.children.filter(R=>!R.__r3f)}p.__r3f.objects.forEach(R=>c(k,R)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||d(A,p),k.parent&&(k.__r3f.autoRemovedBeforeAppend=!0),c(A,k),k.raycast&&k.__r3f.eventCount&&gl(k).getState().internal.interaction.push(k),[P,P.alternate].forEach(R=>{R!==null&&(R.stateNode=k,R.ref&&(typeof R.ref=="function"?R.ref(k):R.ref.current=k))})}const g=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Ad({createInstance:a,removeChild:d,appendChild:c,appendInitialChild:c,insertBefore:f,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,v)=>{if(!v)return;const x=p.getState().scene;x.__r3f&&(x.__r3f.root=p,c(x,v))},removeChildFromContainer:(p,v)=>{v&&d(p.getState().scene,v)},insertInContainerBefore:(p,v,x)=>{if(!v||!x)return;const P=p.getState().scene;P.__r3f&&f(P,v,x)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var v;return!!((v=p==null?void 0:p.__r3f)!=null?v:{}).handlers},prepareUpdate(p,v,x,P){var T;if(((T=p==null?void 0:p.__r3f)!=null?T:{}).primitive&&P.object&&P.object!==p)return[!0];{const{args:k=[],children:R,...N}=P,{args:B=[],children:Y,...Q}=x;if(!Array.isArray(k))throw new Error("R3F: the args prop must be an array!");if(k.some((ie,G)=>ie!==B[G]))return[!0];const V=pc(p,N,Q,!0);return V.changes.length?[!1,V]:null}},commitUpdate(p,[v,x],P,T,A,k){v?w(p,P,A,k):ia(p,x)},commitMount(p,v,x,P){var T;const A=(T=p.__r3f)!=null?T:{};p.raycast&&A.handlers&&A.eventCount&&gl(p).getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>vr(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var v;const{attach:x,parent:P}=(v=p.__r3f)!=null?v:{};x&&P&&ku(P,p,x),p.isObject3D&&(p.visible=!1),gr(p)},unhideInstance(p,v){var x;const{attach:P,parent:T}=(x=p.__r3f)!=null?x:{};P&&T&&ra(T,p,P),(p.isObject3D&&v.visible==null||v.visible)&&(p.visible=!0),gr(p)},createTextInstance:g,hideTextInstance:g,unhideTextInstance:g,getCurrentEventPriority:()=>i?i():wr.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ye.fun(performance.now)?performance.now:Ye.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ye.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ye.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ia}}var Ru,Cu;const na=l=>"colorSpace"in l||"outputColorSpace"in l,ac=()=>{var l;return(l=Ma.ColorManagement)!=null?l:null},sc=l=>l&&l.isOrthographicCamera,jd=l=>l&&l.hasOwnProperty("current"),ii=typeof window<"u"&&((Ru=window.document)!=null&&Ru.createElement||((Cu=window.navigator)==null?void 0:Cu.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function uc(l){const i=C.useRef(l);return ii(()=>void(i.current=l),[l]),i}function Dd({set:l}){return ii(()=>(l(new Promise(()=>null)),()=>l(!1)),[l]),null}class cc extends C.Component{constructor(...i){super(...i),this.state={error:!1}}componentDidCatch(i){this.props.set(i)}render(){return this.state.error?null:this.props.children}}cc.getDerivedStateFromError=()=>({error:!0});const fc="__default",Iu=new Map,Ud=l=>l&&!!l.memoized&&!!l.changes;function dc(l){var i;const a=typeof window<"u"?(i=window.devicePixelRatio)!=null?i:2:1;return Array.isArray(l)?Math.min(Math.max(l[0],a),l[1]):l}const Yr=l=>{var i;return(i=l.__r3f)==null?void 0:i.root.getState()};function gl(l){let i=l.__r3f.root;for(;i.getState().previousRoot;)i=i.getState().previousRoot;return i}const Ye={obj:l=>l===Object(l)&&!Ye.arr(l)&&typeof l!="function",fun:l=>typeof l=="function",str:l=>typeof l=="string",num:l=>typeof l=="number",boo:l=>typeof l=="boolean",und:l=>l===void 0,arr:l=>Array.isArray(l),equ(l,i,{arrays:a="shallow",objects:c="reference",strict:f=!0}={}){if(typeof l!=typeof i||!!l!=!!i)return!1;if(Ye.str(l)||Ye.num(l)||Ye.boo(l))return l===i;const m=Ye.obj(l);if(m&&c==="reference")return l===i;const d=Ye.arr(l);if(d&&a==="reference")return l===i;if((d||m)&&l===i)return!0;let w;for(w in l)if(!(w in i))return!1;if(m&&a==="shallow"&&c==="shallow"){for(w in f?i:l)if(!Ye.equ(l[w],i[w],{strict:f,objects:"reference"}))return!1}else for(w in f?i:l)if(l[w]!==i[w])return!1;if(Ye.und(w)){if(d&&l.length===0&&i.length===0||m&&Object.keys(l).length===0&&Object.keys(i).length===0)return!0;if(l!==i)return!1}return!0}};function Bd(l){const i={nodes:{},materials:{}};return l&&l.traverse(a=>{a.name&&(i.nodes[a.name]=a),a.material&&!i.materials[a.material.name]&&(i.materials[a.material.name]=a.material)}),i}function Hd(l){l.dispose&&l.type!=="Scene"&&l.dispose();for(const i in l)i.dispose==null||i.dispose(),delete l[i]}function vr(l,i){const a=l;return a.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...i},l}function ga(l,i){let a=l;if(i.includes("-")){const c=i.split("-"),f=c.pop();return a=c.reduce((m,d)=>m[d],l),{target:a,key:f}}else return{target:a,key:i}}const Pu=/-\d+$/;function ra(l,i,a){if(Ye.str(a)){if(Pu.test(a)){const m=a.replace(Pu,""),{target:d,key:w}=ga(l,m);Array.isArray(d[w])||(d[w]=[])}const{target:c,key:f}=ga(l,a);i.__r3f.previousAttach=c[f],c[f]=i}else i.__r3f.previousAttach=a(l,i)}function ku(l,i,a){var c,f;if(Ye.str(a)){const{target:m,key:d}=ga(l,a),w=i.__r3f.previousAttach;w===void 0?delete m[d]:m[d]=w}else(c=i.__r3f)==null||c.previousAttach==null||c.previousAttach(l,i);(f=i.__r3f)==null||delete f.previousAttach}function pc(l,{children:i,key:a,ref:c,...f},{children:m,key:d,ref:w,...g}={},S=!1){const p=l.__r3f,v=Object.entries(f),x=[];if(S){const T=Object.keys(g);for(let A=0;A<T.length;A++)f.hasOwnProperty(T[A])||v.unshift([T[A],fc+"remove"])}v.forEach(([T,A])=>{var k;if((k=l.__r3f)!=null&&k.primitive&&T==="object"||Ye.equ(A,g[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return x.push([T,A,!0,[]]);let R=[];T.includes("-")&&(R=T.split("-")),x.push([T,A,!1,R]);for(const N in f){const B=f[N];N.startsWith(`${T}-`)&&x.push([N,B,!1,N.split("-")])}});const P={...f};return p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.args&&(P.args=p.memoizedProps.args),p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.attach&&(P.attach=p.memoizedProps.attach),{memoized:P,changes:x}}function ia(l,i){var a;const c=l.__r3f,f=c==null?void 0:c.root,m=f==null||f.getState==null?void 0:f.getState(),{memoized:d,changes:w}=Ud(i)?i:pc(l,i),g=c==null?void 0:c.eventCount;l.__r3f&&(l.__r3f.memoizedProps=d);for(let p=0;p<w.length;p++){let[v,x,P,T]=w[p];if(na(l)){const N="srgb",B="srgb-linear";v==="encoding"?(v="colorSpace",x=x===3001?N:B):v==="outputEncoding"&&(v="outputColorSpace",x=x===3001?N:B)}let A=l,k=A[v];if(T.length&&(k=T.reduce((R,N)=>R[N],l),!(k&&k.set))){const[R,...N]=T.reverse();A=N.reverse().reduce((B,Y)=>B[Y],l),v=R}if(x===fc+"remove")if(A.constructor){let R=Iu.get(A.constructor);R||(R=new A.constructor,Iu.set(A.constructor,R)),x=R[v]}else x=0;if(P&&c)x?c.handlers[v]=x:delete c.handlers[v],c.eventCount=Object.keys(c.handlers).length;else if(k&&k.set&&(k.copy||k instanceof qo)){if(Array.isArray(x))k.fromArray?k.fromArray(x):k.set(...x);else if(k.copy&&x&&x.constructor&&k.constructor===x.constructor)k.copy(x);else if(x!==void 0){const R=k instanceof xl;!R&&k.setScalar?k.setScalar(x):k instanceof qo&&x instanceof qo?k.mask=x.mask:k.set(x),!ac()&&m&&!m.linear&&R&&k.convertSRGBToLinear()}}else if(A[v]=x,A[v]instanceof Kn&&A[v].format===Sr&&A[v].type===wl&&m){const R=A[v];na(R)&&na(m.gl)?R.colorSpace=m.gl.outputColorSpace:R.encoding=m.gl.outputEncoding}gr(l)}if(c&&c.parent&&l.raycast&&g!==c.eventCount){const p=gl(l).getState().internal,v=p.interaction.indexOf(l);v>-1&&p.interaction.splice(v,1),c.eventCount&&p.interaction.push(l)}return!(w.length===1&&w[0][0]==="onUpdate")&&w.length&&(a=l.__r3f)!=null&&a.parent&&ya(l),l}function gr(l){var i,a;const c=(i=l.__r3f)==null||(a=i.root)==null||a.getState==null?void 0:a.getState();c&&c.internal.frames===0&&c.invalidate()}function ya(l){l.onUpdate==null||l.onUpdate(l)}function hc(l,i){l.manual||(sc(l)?(l.left=i.width/-2,l.right=i.width/2,l.top=i.height/2,l.bottom=i.height/-2):l.aspect=i.width/i.height,l.updateProjectionMatrix(),l.updateMatrixWorld())}function cl(l){return(l.eventObject||l.object).uuid+"/"+l.index+l.instanceId}function Gd(){var l;const i=typeof self<"u"&&self||typeof window<"u"&&window;if(!i)return wr.DefaultEventPriority;switch((l=i.event)==null?void 0:l.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return wr.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wr.ContinuousEventPriority;default:return wr.DefaultEventPriority}}function mc(l,i,a,c){const f=a.get(i);f&&(a.delete(i),a.size===0&&(l.delete(c),f.target.releasePointerCapture(c)))}function Wd(l,i){const{internal:a}=l.getState();a.interaction=a.interaction.filter(c=>c!==i),a.initialHits=a.initialHits.filter(c=>c!==i),a.hovered.forEach((c,f)=>{(c.eventObject===i||c.object===i)&&a.hovered.delete(f)}),a.capturedMap.forEach((c,f)=>{mc(a.capturedMap,i,c,f)})}function Vd(l){function i(g){const{internal:S}=l.getState(),p=g.offsetX-S.initialClick[0],v=g.offsetY-S.initialClick[1];return Math.round(Math.sqrt(p*p+v*v))}function a(g){return g.filter(S=>["Move","Over","Enter","Out","Leave"].some(p=>{var v;return(v=S.__r3f)==null?void 0:v.handlers["onPointer"+p]}))}function c(g,S){const p=l.getState(),v=new Set,x=[],P=S?S(p.internal.interaction):p.internal.interaction;for(let R=0;R<P.length;R++){const N=Yr(P[R]);N&&(N.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(g,p);function T(R){const N=Yr(R);if(!N||!N.events.enabled||N.raycaster.camera===null)return[];if(N.raycaster.camera===void 0){var B;N.events.compute==null||N.events.compute(g,N,(B=N.previousRoot)==null?void 0:B.getState()),N.raycaster.camera===void 0&&(N.raycaster.camera=null)}return N.raycaster.camera?N.raycaster.intersectObject(R,!0):[]}let A=P.flatMap(T).sort((R,N)=>{const B=Yr(R.object),Y=Yr(N.object);return!B||!Y?R.distance-N.distance:Y.events.priority-B.events.priority||R.distance-N.distance}).filter(R=>{const N=cl(R);return v.has(N)?!1:(v.add(N),!0)});p.events.filter&&(A=p.events.filter(A,p));for(const R of A){let N=R.object;for(;N;){var k;(k=N.__r3f)!=null&&k.eventCount&&x.push({...R,eventObject:N}),N=N.parent}}if("pointerId"in g&&p.internal.capturedMap.has(g.pointerId))for(let R of p.internal.capturedMap.get(g.pointerId).values())v.has(cl(R.intersection))||x.push(R.intersection);return x}function f(g,S,p,v){const x=l.getState();if(g.length){const P={stopped:!1};for(const T of g){const A=Yr(T.object)||x,{raycaster:k,pointer:R,camera:N,internal:B}=A,Y=new Xe(R.x,R.y,0).unproject(N),Q=W=>{var H,$;return(H=($=B.capturedMap.get(W))==null?void 0:$.has(T.eventObject))!=null?H:!1},V=W=>{const H={intersection:T,target:S.target};B.capturedMap.has(W)?B.capturedMap.get(W).set(T.eventObject,H):B.capturedMap.set(W,new Map([[T.eventObject,H]])),S.target.setPointerCapture(W)},ie=W=>{const H=B.capturedMap.get(W);H&&mc(B.capturedMap,T.eventObject,H,W)};let G={};for(let W in S){let H=S[W];typeof H!="function"&&(G[W]=H)}let U={...T,...G,pointer:R,intersections:g,stopped:P.stopped,delta:p,unprojectedPoint:Y,ray:k.ray,camera:N,stopPropagation(){const W="pointerId"in S&&B.capturedMap.get(S.pointerId);if((!W||W.has(T.eventObject))&&(U.stopped=P.stopped=!0,B.hovered.size&&Array.from(B.hovered.values()).find(H=>H.eventObject===T.eventObject))){const H=g.slice(0,g.indexOf(T));m([...H,T])}},target:{hasPointerCapture:Q,setPointerCapture:V,releasePointerCapture:ie},currentTarget:{hasPointerCapture:Q,setPointerCapture:V,releasePointerCapture:ie},nativeEvent:S};if(v(U),P.stopped===!0)break}}return g}function m(g){const{internal:S}=l.getState();for(const p of S.hovered.values())if(!g.length||!g.find(v=>v.object===p.object&&v.index===p.index&&v.instanceId===p.instanceId)){const x=p.eventObject.__r3f,P=x==null?void 0:x.handlers;if(S.hovered.delete(cl(p)),x!=null&&x.eventCount){const T={...p,intersections:g};P.onPointerOut==null||P.onPointerOut(T),P.onPointerLeave==null||P.onPointerLeave(T)}}}function d(g,S){for(let p=0;p<S.length;p++){const v=S[p].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(g)}}function w(g){switch(g){case"onPointerLeave":case"onPointerCancel":return()=>m([]);case"onLostPointerCapture":return S=>{const{internal:p}=l.getState();"pointerId"in S&&p.capturedMap.has(S.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(S.pointerId)&&(p.capturedMap.delete(S.pointerId),m([]))})}}return function(p){const{onPointerMissed:v,internal:x}=l.getState();x.lastEvent.current=p;const P=g==="onPointerMove",T=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",k=c(p,P?a:void 0),R=T?i(p):0;g==="onPointerDown"&&(x.initialClick=[p.offsetX,p.offsetY],x.initialHits=k.map(B=>B.eventObject)),T&&!k.length&&R<=2&&(d(p,x.interaction),v&&v(p)),P&&m(k);function N(B){const Y=B.eventObject,Q=Y.__r3f,V=Q==null?void 0:Q.handlers;if(Q!=null&&Q.eventCount)if(P){if(V.onPointerOver||V.onPointerEnter||V.onPointerOut||V.onPointerLeave){const ie=cl(B),G=x.hovered.get(ie);G?G.stopped&&B.stopPropagation():(x.hovered.set(ie,B),V.onPointerOver==null||V.onPointerOver(B),V.onPointerEnter==null||V.onPointerEnter(B))}V.onPointerMove==null||V.onPointerMove(B)}else{const ie=V[g];ie?(!T||x.initialHits.includes(Y))&&(d(p,x.interaction.filter(G=>!x.initialHits.includes(G))),ie(B)):T&&x.initialHits.includes(Y)&&d(p,x.interaction.filter(G=>!x.initialHits.includes(G)))}}f(k,p,R,N)}}return{handlePointer:w}}const Zd=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],vc=l=>!!(l!=null&&l.render),Ca=C.createContext(null),Qd=(l,i)=>{const a=rc((w,g)=>{const S=new Xe,p=new Xe,v=new Xe;function x(R=g().camera,N=p,B=g().size){const{width:Y,height:Q,top:V,left:ie}=B,G=Y/Q;N instanceof Xe?v.copy(N):v.set(...N);const U=R.getWorldPosition(S).distanceTo(v);if(sc(R))return{width:Y/R.zoom,height:Q/R.zoom,top:V,left:ie,factor:1,distance:U,aspect:G};{const W=R.fov*Math.PI/180,H=2*Math.tan(W/2)*U,$=H*(Y/Q);return{width:$,height:H,top:V,left:ie,factor:Y/$,distance:U,aspect:G}}}let P;const T=R=>w(N=>({performance:{...N.performance,current:R}})),A=new Ju;return{set:w,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(R=1)=>l(g(),R),advance:(R,N)=>i(R,N,g()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Wf,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const R=g();P&&clearTimeout(P),R.performance.current!==R.performance.min&&T(R.performance.min),P=setTimeout(()=>T(g().performance.max),R.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:R=>w(N=>({...N,events:{...N.events,...R}})),setSize:(R,N,B,Y,Q)=>{const V=g().camera,ie={width:R,height:N,top:Y||0,left:Q||0,updateStyle:B};w(G=>({size:ie,viewport:{...G.viewport,...x(V,p,ie)}}))},setDpr:R=>w(N=>{const B=dc(R);return{viewport:{...N.viewport,dpr:B,initialDpr:N.viewport.initialDpr||B}}}),setFrameloop:(R="always")=>{const N=g().clock;N.stop(),N.elapsedTime=0,R!=="never"&&(N.start(),N.elapsedTime=0),w(()=>({frameloop:R}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:C.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(R,N,B)=>{const Y=g().internal;return Y.priority=Y.priority+(N>0?1:0),Y.subscribers.push({ref:R,priority:N,store:B}),Y.subscribers=Y.subscribers.sort((Q,V)=>Q.priority-V.priority),()=>{const Q=g().internal;Q!=null&&Q.subscribers&&(Q.priority=Q.priority-(N>0?1:0),Q.subscribers=Q.subscribers.filter(V=>V.ref!==R))}}}}}),c=a.getState();let f=c.size,m=c.viewport.dpr,d=c.camera;return a.subscribe(()=>{const{camera:w,size:g,viewport:S,gl:p,set:v}=a.getState();if(g.width!==f.width||g.height!==f.height||S.dpr!==m){var x;f=g,m=S.dpr,hc(w,g),p.setPixelRatio(S.dpr);const P=(x=g.updateStyle)!=null?x:typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(g.width,g.height,P)}w!==d&&(d=w,v(P=>({viewport:{...P.viewport,...P.viewport.getCurrentViewport(w)}})))}),a.subscribe(w=>l(w)),a};let fl,Yd=new Set,Xd=new Set,qd=new Set;function la(l,i){if(l.size)for(const{callback:a}of l.values())a(i)}function Xr(l,i){switch(l){case"before":return la(Yd,i);case"after":return la(Xd,i);case"tail":return la(qd,i)}}let oa,aa;function sa(l,i,a){let c=i.clock.getDelta();for(i.frameloop==="never"&&typeof l=="number"&&(c=l-i.clock.elapsedTime,i.clock.oldTime=i.clock.elapsedTime,i.clock.elapsedTime=l),oa=i.internal.subscribers,fl=0;fl<oa.length;fl++)aa=oa[fl],aa.ref.current(aa.store.getState(),c,a);return!i.internal.priority&&i.gl.render&&i.gl.render(i.scene,i.camera),i.internal.frames=Math.max(0,i.internal.frames-1),i.frameloop==="always"?1:i.internal.frames}function Kd(l){let i=!1,a=!1,c,f,m;function d(S){f=requestAnimationFrame(d),i=!0,c=0,Xr("before",S),a=!0;for(const v of l.values()){var p;m=v.store.getState(),m.internal.active&&(m.frameloop==="always"||m.internal.frames>0)&&!((p=m.gl.xr)!=null&&p.isPresenting)&&(c+=sa(S,m))}if(a=!1,Xr("after",S),c===0)return Xr("tail",S),i=!1,cancelAnimationFrame(f)}function w(S,p=1){var v;if(!S)return l.forEach(x=>w(x.store.getState(),p));(v=S.gl.xr)!=null&&v.isPresenting||!S.internal.active||S.frameloop==="never"||(p>1?S.internal.frames=Math.min(60,S.internal.frames+p):a?S.internal.frames=2:S.internal.frames=1,i||(i=!0,requestAnimationFrame(d)))}function g(S,p=!0,v,x){if(p&&Xr("before",S),v)sa(S,v,x);else for(const P of l.values())sa(S,P.store.getState());p&&Xr("after",S)}return{loop:d,invalidate:w,advance:g}}function Ia(){const l=C.useContext(Ca);if(!l)throw new Error("R3F: Hooks can only be used within the Canvas component!");return l}function un(l=a=>a,i){return Ia()(l,i)}function gn(l,i=0){const a=Ia(),c=a.getState().internal.subscribe,f=uc(l);return ii(()=>c(f,i,a),[i,c,a]),null}const Nu=new WeakMap;function gc(l,i){return function(a,...c){let f=Nu.get(a);return f||(f=new a,Nu.set(a,f)),l&&l(f),Promise.all(c.map(m=>new Promise((d,w)=>f.load(m,g=>{g.scene&&Object.assign(g,Bd(g.scene)),d(g)},i,g=>w(new Error(`Could not load ${m}: ${g==null?void 0:g.message}`))))))}}function _r(l,i,a,c){const f=Array.isArray(i)?i:[i],m=Pd(gc(a,c),[l,...f],{equal:Ye.equ});return Array.isArray(i)?m:m[0]}_r.preload=function(l,i,a){const c=Array.isArray(i)?i:[i];return kd(gc(a),[l,...c])};_r.clear=function(l,i){const a=Array.isArray(i)?i:[i];return Nd([l,...a])};const Er=new Map,{invalidate:Tu,advance:zu}=Kd(Er),{reconciler:ti,applyProps:kn}=Fd(Er,Gd),mr={objects:"shallow",strict:!1},Jd=(l,i)=>{const a=typeof l=="function"?l(i):l;return vc(a)?a:new Ku({powerPreference:"high-performance",canvas:i,antialias:!0,alpha:!0,...l})};function bd(l,i){const a=typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement;if(i){const{width:c,height:f,top:m,left:d,updateStyle:w=a}=i;return{width:c,height:f,top:m,left:d,updateStyle:w}}else if(typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&l.parentElement){const{width:c,height:f,top:m,left:d}=l.parentElement.getBoundingClientRect();return{width:c,height:f,top:m,left:d,updateStyle:a}}else if(typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas)return{width:l.width,height:l.height,top:0,left:0,updateStyle:a};return{width:0,height:0,top:0,left:0}}function $d(l){const i=Er.get(l),a=i==null?void 0:i.fiber,c=i==null?void 0:i.store;i&&console.warn("R3F.createRoot should only be called once!");const f=typeof reportError=="function"?reportError:console.error,m=c||Qd(Tu,zu),d=a||ti.createContainer(m,wr.ConcurrentRoot,null,!1,null,"",f,null);i||Er.set(l,{fiber:d,store:m});let w,g=!1,S;return{configure(p={}){let{gl:v,size:x,scene:P,events:T,onCreated:A,shadows:k=!1,linear:R=!1,flat:N=!1,legacy:B=!1,orthographic:Y=!1,frameloop:Q="always",dpr:V=[1,2],performance:ie,raycaster:G,camera:U,onPointerMissed:W}=p,H=m.getState(),$=H.gl;H.gl||H.set({gl:$=Jd(v,l)});let ce=H.raycaster;ce||H.set({raycaster:ce=new Xu});const{params:se,...Se}=G||{};if(Ye.equ(Se,ce,mr)||kn(ce,{...Se}),Ye.equ(se,ce.params,mr)||kn(ce,{params:{...ce.params,...se}}),!H.camera||H.camera===S&&!Ye.equ(S,U,mr)){S=U;const q=U instanceof Gf,pe=q?U:Y?new qu(0,0,0,0,.1,1e3):new Ff(75,0,.1,1e3);q||(pe.position.z=5,U&&(kn(pe,U),("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(pe.manual=!0,pe.updateProjectionMatrix())),!H.camera&&!(U!=null&&U.rotation)&&pe.lookAt(0,0,0)),H.set({camera:pe}),ce.camera=pe}if(!H.scene){let q;P instanceof yl?q=P:(q=new yl,P&&kn(q,P)),H.set({scene:vr(q)})}if(!H.xr){var re;const q=(xe,Ze)=>{const tt=m.getState();tt.frameloop!=="never"&&zu(xe,!0,tt,Ze)},pe=()=>{const xe=m.getState();xe.gl.xr.enabled=xe.gl.xr.isPresenting,xe.gl.xr.setAnimationLoop(xe.gl.xr.isPresenting?q:null),xe.gl.xr.isPresenting||Tu(xe)},me={connect(){const xe=m.getState().gl;xe.xr.addEventListener("sessionstart",pe),xe.xr.addEventListener("sessionend",pe)},disconnect(){const xe=m.getState().gl;xe.xr.removeEventListener("sessionstart",pe),xe.xr.removeEventListener("sessionend",pe)}};typeof((re=$.xr)==null?void 0:re.addEventListener)=="function"&&me.connect(),H.set({xr:me})}if($.shadowMap){const q=$.shadowMap.enabled,pe=$.shadowMap.type;if($.shadowMap.enabled=!!k,Ye.boo(k))$.shadowMap.type=Xo;else if(Ye.str(k)){var we;const me={basic:Uf,percentage:Df,soft:Xo,variance:jf};$.shadowMap.type=(we=me[k])!=null?we:Xo}else Ye.obj(k)&&Object.assign($.shadowMap,k);(q!==$.shadowMap.enabled||pe!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const X=ac();X&&("enabled"in X?X.enabled=!B:"legacyMode"in X&&(X.legacyMode=B)),g||kn($,{outputEncoding:R?3e3:3001,toneMapping:N?Bf:Hf}),H.legacy!==B&&H.set(()=>({legacy:B})),H.linear!==R&&H.set(()=>({linear:R})),H.flat!==N&&H.set(()=>({flat:N})),v&&!Ye.fun(v)&&!vc(v)&&!Ye.equ(v,$,mr)&&kn($,v),T&&!H.events.handlers&&H.set({events:T(m)});const ae=bd(l,x);return Ye.equ(ae,H.size,mr)||H.setSize(ae.width,ae.height,ae.updateStyle,ae.top,ae.left),V&&H.viewport.dpr!==dc(V)&&H.setDpr(V),H.frameloop!==Q&&H.setFrameloop(Q),H.onPointerMissed||H.set({onPointerMissed:W}),ie&&!Ye.equ(ie,H.performance,mr)&&H.set(q=>({performance:{...q.performance,...ie}})),w=A,g=!0,this},render(p){return g||this.configure(),ti.updateContainer(I.jsx(ep,{store:m,children:p,onCreated:w,rootElement:l}),d,null,()=>{}),m},unmount(){yc(l)}}}function ep({store:l,children:i,onCreated:a,rootElement:c}){return ii(()=>{const f=l.getState();f.set(m=>({internal:{...m.internal,active:!0}})),a&&a(f),l.getState().events.connected||f.events.connect==null||f.events.connect(c)},[]),I.jsx(Ca.Provider,{value:l,children:i})}function yc(l,i){const a=Er.get(l),c=a==null?void 0:a.fiber;if(c){const f=a==null?void 0:a.store.getState();f&&(f.internal.active=!1),ti.updateContainer(null,c,null,()=>{f&&setTimeout(()=>{try{var m,d,w,g;f.events.disconnect==null||f.events.disconnect(),(m=f.gl)==null||(d=m.renderLists)==null||d.dispose==null||d.dispose(),(w=f.gl)==null||w.forceContextLoss==null||w.forceContextLoss(),(g=f.gl)!=null&&g.xr&&f.xr.disconnect(),Hd(f),Er.delete(l)}catch{}},500)})}}function tp(l,i,a){return I.jsx(np,{children:l,container:i,state:a},i.uuid)}function np({state:l={},children:i,container:a}){const{events:c,size:f,...m}=l,d=Ia(),[w]=C.useState(()=>new Xu),[g]=C.useState(()=>new Ju),S=C.useCallback((v,x)=>{const P={...v};Object.keys(v).forEach(A=>{(Zd.includes(A)||v[A]!==x[A]&&x[A])&&delete P[A]});let T;if(x&&f){const A=x.camera;T=v.viewport.getCurrentViewport(A,new Xe,f),A!==v.camera&&hc(A,f)}return{...P,scene:a,raycaster:w,pointer:g,mouse:g,previousRoot:d,events:{...v.events,...x==null?void 0:x.events,...c},size:{...v.size,...f},viewport:{...v.viewport,...T},...m}},[l]),[p]=C.useState(()=>{const v=d.getState();return rc((P,T)=>({...v,scene:a,raycaster:w,pointer:g,mouse:g,previousRoot:d,events:{...v.events,...c},size:{...v.size,...f},...m,set:P,get:T,setEvents:A=>P(k=>({...k,events:{...k.events,...A}}))}))});return C.useEffect(()=>{const v=d.subscribe(x=>p.setState(P=>S(x,P)));return()=>{v()}},[S]),C.useEffect(()=>{p.setState(v=>S(d.getState(),v))},[S]),C.useEffect(()=>()=>{p.destroy()},[]),I.jsx(I.Fragment,{children:ti.createPortal(I.jsx(Ca.Provider,{value:p,children:i}),p,null)})}ti.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:C.version});const ua={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function rp(l){const{handlePointer:i}=Vd(l);return{priority:1,enabled:!0,compute(a,c,f){c.pointer.set(a.offsetX/c.size.width*2-1,-(a.offsetY/c.size.height)*2+1),c.raycaster.setFromCamera(c.pointer,c.camera)},connected:void 0,handlers:Object.keys(ua).reduce((a,c)=>({...a,[c]:i(c)}),{}),update:()=>{var a;const{events:c,internal:f}=l.getState();(a=f.lastEvent)!=null&&a.current&&c.handlers&&c.handlers.onPointerMove(f.lastEvent.current)},connect:a=>{var c;const{set:f,events:m}=l.getState();m.disconnect==null||m.disconnect(),f(d=>({events:{...d.events,connected:a}})),Object.entries((c=m.handlers)!=null?c:[]).forEach(([d,w])=>{const[g,S]=ua[d];a.addEventListener(g,w,{passive:S})})},disconnect:()=>{const{set:a,events:c}=l.getState();if(c.connected){var f;Object.entries((f=c.handlers)!=null?f:[]).forEach(([m,d])=>{if(c&&c.connected instanceof HTMLElement){const[w]=ua[m];c.connected.removeEventListener(w,d)}}),a(m=>({events:{...m.events,connected:void 0}}))}}}}var ca,Lu;function ip(){if(Lu)return ca;Lu=1;function l(i,a,c){var f,m,d,w,g;a==null&&(a=100);function S(){var v=Date.now()-w;v<a&&v>=0?f=setTimeout(S,a-v):(f=null,c||(g=i.apply(d,m),d=m=null))}var p=function(){d=this,m=arguments,w=Date.now();var v=c&&!f;return f||(f=setTimeout(S,a)),v&&(g=i.apply(d,m),d=m=null),g};return p.clear=function(){f&&(clearTimeout(f),f=null)},p.flush=function(){f&&(g=i.apply(d,m),d=m=null,clearTimeout(f),f=null)},p}return l.debounce=l,ca=l,ca}var lp=ip();const Ou=_l(lp);var op=Object.defineProperty,ap=Object.defineProperties,sp=Object.getOwnPropertyDescriptors,Au=Object.getOwnPropertySymbols,up=Object.prototype.hasOwnProperty,cp=Object.prototype.propertyIsEnumerable,Fu=(l,i,a)=>i in l?op(l,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[i]=a,ju=(l,i)=>{for(var a in i||(i={}))up.call(i,a)&&Fu(l,a,i[a]);if(Au)for(var a of Au(i))cp.call(i,a)&&Fu(l,a,i[a]);return l},fp=(l,i)=>ap(l,sp(i)),Du,Uu;typeof window<"u"&&((Du=window.document)!=null&&Du.createElement||((Uu=window.navigator)==null?void 0:Uu.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function wc(l,i,a){if(!l)return;if(a(l)===!0)return l;let c=l.child;for(;c;){const f=wc(c,i,a);if(f)return f;c=c.sibling}}function xc(l){try{return Object.defineProperties(l,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return l}}const Bu=console.error;console.error=function(){const l=[...arguments].join("");if(l!=null&&l.startsWith("Warning:")&&l.includes("useContext")){console.error=Bu;return}return Bu.apply(this,arguments)};const Pa=xc(C.createContext(null));class Sc extends C.Component{render(){return C.createElement(Pa.Provider,{value:this._reactInternals},this.props.children)}}function dp(){const l=C.useContext(Pa);if(l===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const i=C.useId();return C.useMemo(()=>{for(const c of[l,l==null?void 0:l.alternate]){if(!c)continue;const f=wc(c,!1,m=>{let d=m.memoizedState;for(;d;){if(d.memoizedState===i)return!0;d=d.next}});if(f)return f}},[l,i])}function pp(){const l=dp(),[i]=C.useState(()=>new Map);i.clear();let a=l;for(;a;){if(a.type&&typeof a.type=="object"){const f=a.type._context===void 0&&a.type.Provider===a.type?a.type:a.type._context;f&&f!==Pa&&!i.has(f)&&i.set(f,C.useContext(xc(f)))}a=a.return}return i}function hp(){const l=pp();return C.useMemo(()=>Array.from(l.keys()).reduce((i,a)=>c=>C.createElement(i,null,C.createElement(a.Provider,fp(ju({},c),{value:l.get(a)}))),i=>C.createElement(Sc,ju({},i))),[l])}function mp({debounce:l,scroll:i,polyfill:a,offsetSize:c}={debounce:0,scroll:!1,offsetSize:!1}){const f=a||typeof window<"u"&&window.ResizeObserver,[m,d]=C.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!f)return m.width=1280,m.height=800,[()=>{},m,()=>{}];const w=C.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),g=l?typeof l=="number"?l:l.scroll:null,S=l?typeof l=="number"?l:l.resize:null,p=C.useRef(!1);C.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[v,x,P]=C.useMemo(()=>{const R=()=>{if(!w.current.element)return;const{left:N,top:B,width:Y,height:Q,bottom:V,right:ie,x:G,y:U}=w.current.element.getBoundingClientRect(),W={left:N,top:B,width:Y,height:Q,bottom:V,right:ie,x:G,y:U};w.current.element instanceof HTMLElement&&c&&(W.height=w.current.element.offsetHeight,W.width=w.current.element.offsetWidth),Object.freeze(W),p.current&&!wp(w.current.lastBounds,W)&&d(w.current.lastBounds=W)};return[R,S?Ou(R,S):R,g?Ou(R,g):R]},[d,c,g,S]);function T(){w.current.scrollContainers&&(w.current.scrollContainers.forEach(R=>R.removeEventListener("scroll",P,!0)),w.current.scrollContainers=null),w.current.resizeObserver&&(w.current.resizeObserver.disconnect(),w.current.resizeObserver=null)}function A(){w.current.element&&(w.current.resizeObserver=new f(P),w.current.resizeObserver.observe(w.current.element),i&&w.current.scrollContainers&&w.current.scrollContainers.forEach(R=>R.addEventListener("scroll",P,{capture:!0,passive:!0})))}const k=R=>{!R||R===w.current.element||(T(),w.current.element=R,w.current.scrollContainers=_c(R),A())};return gp(P,!!i),vp(x),C.useEffect(()=>{T(),A()},[i,P,x]),C.useEffect(()=>T,[]),[k,m,v]}function vp(l){C.useEffect(()=>{const i=l;return window.addEventListener("resize",i),()=>void window.removeEventListener("resize",i)},[l])}function gp(l,i){C.useEffect(()=>{if(i){const a=l;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[l,i])}function _c(l){const i=[];if(!l||l===document.body)return i;const{overflow:a,overflowX:c,overflowY:f}=window.getComputedStyle(l);return[a,c,f].some(m=>m==="auto"||m==="scroll")&&i.push(l),[...i,..._c(l.parentElement)]}const yp=["x","y","top","bottom","left","right","width","height"],wp=(l,i)=>yp.every(a=>l[a]===i[a]),xp=C.forwardRef(function({children:i,fallback:a,resize:c,style:f,gl:m,events:d=rp,eventSource:w,eventPrefix:g,shadows:S,linear:p,flat:v,legacy:x,orthographic:P,frameloop:T,dpr:A,performance:k,raycaster:R,camera:N,scene:B,onPointerMissed:Y,onCreated:Q,...V},ie){C.useMemo(()=>Ra(Qf),[]);const G=hp(),[U,W]=mp({scroll:!0,debounce:{scroll:50,resize:0},...c}),H=C.useRef(null),$=C.useRef(null);C.useImperativeHandle(ie,()=>H.current);const ce=uc(Y),[se,Se]=C.useState(!1),[re,we]=C.useState(!1);if(se)throw se;if(re)throw re;const X=C.useRef(null);ii(()=>{const q=H.current;W.width>0&&W.height>0&&q&&(X.current||(X.current=$d(q)),X.current.configure({gl:m,events:d,shadows:S,linear:p,flat:v,legacy:x,orthographic:P,frameloop:T,dpr:A,performance:k,raycaster:R,camera:N,scene:B,size:W,onPointerMissed:(...pe)=>ce.current==null?void 0:ce.current(...pe),onCreated:pe=>{pe.events.connect==null||pe.events.connect(w?jd(w)?w.current:w:$.current),g&&pe.setEvents({compute:(me,xe)=>{const Ze=me[g+"X"],tt=me[g+"Y"];xe.pointer.set(Ze/xe.size.width*2-1,-(tt/xe.size.height)*2+1),xe.raycaster.setFromCamera(xe.pointer,xe.camera)}}),Q==null||Q(pe)}}),X.current.render(I.jsx(G,{children:I.jsx(cc,{set:we,children:I.jsx(C.Suspense,{fallback:I.jsx(Dd,{set:Se}),children:i})})})))}),C.useEffect(()=>{const q=H.current;if(q)return()=>yc(q)},[]);const ae=w?"none":"auto";return I.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ae,...f},...V,children:I.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:I.jsx("canvas",{ref:H,style:{display:"block"},children:a})})})}),Sp=C.forwardRef(function(i,a){return I.jsx(Sc,{children:I.jsx(xp,{...i,ref:a})})});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/var mt=(l=>(l.LOADING="LOADING",l.IDLE="IDLE",l.PLAYING="PLAYING",l.GAME_OVER="GAME_OVER",l.VICTORY="VICTORY",l))(mt||{}),Nn=(l=>(l[l.UP=0]="UP",l[l.DOWN=1]="DOWN",l[l.LEFT=2]="LEFT",l[l.RIGHT=3]="RIGHT",l[l.ANY=4]="ANY",l))(Nn||{});const bn={left:"#3b82f6",right:"#ef4444"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const _p=-30,qr=0,Ep=5,fa=4,dl=.8,an=.5,Ec=[-1.5*dl,-.5*dl,.5*dl,1.5*dl],Mc=[.8,1.6,2.4],Mp="https://commondatastorage.googleapis.com/codeskulptor-demos/riceracer_assets/music/race2.ogg",Rc=140,Rp=60/Rc,Cp=()=>{const l=[];let i=0;const a=400;for(let c=12;c<a;c++){const f=c*Rp;if(c%4!==0||Math.random()>.6)continue;const m=Math.random()>.5?"left":"right",d=Math.floor(Math.random()*4),w=Math.floor(Math.random()*3),g=Nn.ANY;l.push({id:`note-${i++}`,time:f,lineIndex:d,lineLayer:w,type:m,cutDirection:g,requiresGrip:Math.random()>.7})}return l.sort((c,f)=>c.time-f.time)},Hu=Cp(),Ip={[Nn.UP]:new Xe(0,1,0),[Nn.DOWN]:new Xe(0,-1,0),[Nn.LEFT]:new Xe(-1,0,0),[Nn.RIGHT]:new Xe(1,0,0),[Nn.ANY]:new Xe(0,0,0)},qn={THUMB:{mcp:2,tip:4},INDEX:{mcp:5,pip:6,tip:8},MIDDLE:{mcp:9,pip:10,tip:12},RING:{mcp:13,pip:14,tip:16},PINKY:{mcp:17,pip:18,tip:20}},$r=(l,i)=>Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2)+Math.pow(l.z-i.z,2)),pl=(l,i)=>{const a=l[i.mcp],c=l[i.pip],f=l[i.tip],m=$r(a,c)+$r(c,f);return $r(a,f)>m*.85},Cc=l=>{if(!l||l.length<21)return"UNKNOWN";const i=pl(l,qn.INDEX),a=pl(l,qn.MIDDLE),c=pl(l,qn.RING),f=pl(l,qn.PINKY),m=l[qn.THUMB.tip],d=l[qn.THUMB.mcp],w=$r(m,d)>.08;return!i&&!a&&!c&&!f?"FIST":i&&a&&c&&f&&w?"OPEN":i&&a&&!c&&!f?"PEACE":i&&!a&&!c&&!f?"POINTING":i&&!a&&!c&&f?"ROCK":w&&!i&&!a&&!c&&f?"CALL":$r(m,l[qn.INDEX.tip])<.05&&a&&c&&f?"OK":w&&!i&&!a&&!c&&!f?m.y<d.y?"GOOD":"DISLIKE":"UNKNOWN"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const Pp=(l,i)=>{const m=(.5-l)*5,d=(1-i)*3.5-3.5/2+.8,w=-Math.max(0,d*.2);return new Xe(m,Math.max(.1,d),w)},kp=l=>Cc(l)==="FIST",Np=(l,i)=>{const[a,c]=C.useState(!1),[f,m]=C.useState([]),[d,w]=C.useState(null),g=C.useRef({left:null,right:null,lastLeft:null,lastRight:null,leftVelocity:new Xe(0,0,0),rightVelocity:new Xe(0,0,0),leftGripping:!1,rightGripping:!1,lastTimestamp:0}),S=C.useRef(null),p=C.useRef(null),v=C.useRef(0);return C.useEffect(()=>{let x=!0;const P=async()=>{try{const N=await vd.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.14/wasm");if(!x)return;const B=await gd.createFromOptions(N,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",numHands:2,minHandDetectionConfidence:.5,minHandPresenceConfidence:.5,minTrackingConfidence:.5});if(!x){B.close();return}p.current=B,await A(),await T()}catch(N){console.error("Error initializing MediaPipe:",N),w(`Failed to load hand tracking: ${N.message}`)}},T=async()=>{try{const B=(await navigator.mediaDevices.enumerateDevices()).filter(Y=>Y.kind==="videoinput");x&&(console.log("Detected cameras:",B.length),m(B))}catch(N){console.warn("Could not list cameras",N)}};navigator.mediaDevices.addEventListener("devicechange",T);const A=async()=>{try{l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach(Q=>Q.stop());const N={video:{width:{ideal:640},height:{ideal:480}}};i?N.video.deviceId={exact:i}:N.video.facingMode="user";const B=await navigator.mediaDevices.getUserMedia(N);if(l.current&&x){const Y=l.current;Y.srcObject=B;const Q=()=>{x&&!a&&(console.log("MediaPipe: Video is ready and playing"),c(!0),k())};Y.onloadeddata=Q,Y.onplaying=Q;try{await Y.play()}catch(V){console.warn("MediaPipe: Video play blocked or interrupted",V),Y.readyState>=2&&Q()}}}catch(N){console.error("Camera Error:",N),w("Could not access camera. Please check permissions.")}},k=()=>{if(!l.current||!p.current||!x)return;const N=l.current;if(N.videoWidth>0&&N.videoHeight>0){let B=performance.now();try{const Y=p.current.detectForVideo(N,B);S.current=Y,R(Y)}catch(Y){console.warn("Detection failed this frame",Y)}}v.current=requestAnimationFrame(k)},R=N=>{const B=performance.now(),Y=(B-g.current.lastTimestamp)/1e3;g.current.lastTimestamp=B;let Q=null,V=null,ie=!1,G=!1;if(N.landmarks)for(let H=0;H<N.landmarks.length;H++){const $=N.landmarks[H];if(!N.handedness||!N.handedness[H]||!N.handedness[H][0])continue;const se=N.handedness[H][0].categoryName==="Right",Se=$[8],re=Pp(Se.x,Se.y),we=kp($);se?(V=re,G=we):(Q=re,ie=we)}const U=g.current,W=.6;Q?(U.left&&(Q.lerpVectors(U.left,Q,W),Y>.001&&U.leftVelocity.subVectors(Q,U.left).divideScalar(Y)),U.lastLeft=U.left?U.left.clone():Q.clone(),U.left=Q,U.leftGripping=ie):(U.left=null,U.leftGripping=!1),V?(U.right&&(V.lerpVectors(U.right,V,W),Y>.001&&U.rightVelocity.subVectors(V,U.right).divideScalar(Y)),U.lastRight=U.right?U.right.clone():V.clone(),U.right=V,U.rightGripping=G):(U.right=null,U.rightGripping=!1)};return P(),()=>{x=!1,v.current&&cancelAnimationFrame(v.current),p.current&&p.current.close(),l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach(B=>B.stop()),navigator.mediaDevices.removeEventListener("devicechange",T)}},[l,i]),{isCameraReady:a,cameras:f,handPositionsRef:g,lastResultsRef:S,error:d}};function $n(){return $n=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)({}).hasOwnProperty.call(a,c)&&(l[c]=a[c])}return l},$n.apply(null,arguments)}const Ic=parseInt(bu.replace(/\D+/g,""));var Zt=Uint8Array,zn=Uint16Array,wa=Uint32Array,Pc=new Zt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kc=new Zt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tp=new Zt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nc=function(l,i){for(var a=new zn(31),c=0;c<31;++c)a[c]=i+=1<<l[c-1];for(var f=new wa(a[30]),c=1;c<30;++c)for(var m=a[c];m<a[c+1];++m)f[m]=m-a[c]<<5|c;return[a,f]},Tc=Nc(Pc,2),zc=Tc[0],zp=Tc[1];zc[28]=258,zp[258]=28;var Lp=Nc(kc,0),Op=Lp[0],xa=new zn(32768);for(var qe=0;qe<32768;++qe){var Pn=(qe&43690)>>>1|(qe&21845)<<1;Pn=(Pn&52428)>>>2|(Pn&13107)<<2,Pn=(Pn&61680)>>>4|(Pn&3855)<<4,xa[qe]=((Pn&65280)>>>8|(Pn&255)<<8)>>>1}var ei=(function(l,i,a){for(var c=l.length,f=0,m=new zn(i);f<c;++f)++m[l[f]-1];var d=new zn(i);for(f=0;f<i;++f)d[f]=d[f-1]+m[f-1]<<1;var w;if(a){w=new zn(1<<i);var g=15-i;for(f=0;f<c;++f)if(l[f])for(var S=f<<4|l[f],p=i-l[f],v=d[l[f]-1]++<<p,x=v|(1<<p)-1;v<=x;++v)w[xa[v]>>>g]=S}else for(w=new zn(c),f=0;f<c;++f)l[f]&&(w[f]=xa[d[l[f]-1]++]>>>15-l[f]);return w}),li=new Zt(288);for(var qe=0;qe<144;++qe)li[qe]=8;for(var qe=144;qe<256;++qe)li[qe]=9;for(var qe=256;qe<280;++qe)li[qe]=7;for(var qe=280;qe<288;++qe)li[qe]=8;var Lc=new Zt(32);for(var qe=0;qe<32;++qe)Lc[qe]=5;var Ap=ei(li,9,1),Fp=ei(Lc,5,1),da=function(l){for(var i=l[0],a=1;a<l.length;++a)l[a]>i&&(i=l[a]);return i},Jt=function(l,i,a){var c=i/8|0;return(l[c]|l[c+1]<<8)>>(i&7)&a},pa=function(l,i){var a=i/8|0;return(l[a]|l[a+1]<<8|l[a+2]<<16)>>(i&7)},jp=function(l){return(l/8|0)+(l&7&&1)},Dp=function(l,i,a){(a==null||a>l.length)&&(a=l.length);var c=new(l instanceof zn?zn:l instanceof wa?wa:Zt)(a-i);return c.set(l.subarray(i,a)),c},Up=function(l,i,a){var c=l.length;if(!c||a&&!a.l&&c<5)return i||new Zt(0);var f=!i||a,m=!a||a.i;a||(a={}),i||(i=new Zt(c*3));var d=function(Pe){var st=i.length;if(Pe>st){var Yt=new Zt(Math.max(st*2,Pe));Yt.set(i),i=Yt}},w=a.f||0,g=a.p||0,S=a.b||0,p=a.l,v=a.d,x=a.m,P=a.n,T=c*8;do{if(!p){a.f=w=Jt(l,g,1);var A=Jt(l,g+1,3);if(g+=3,A)if(A==1)p=Ap,v=Fp,x=9,P=5;else if(A==2){var B=Jt(l,g,31)+257,Y=Jt(l,g+10,15)+4,Q=B+Jt(l,g+5,31)+1;g+=14;for(var V=new Zt(Q),ie=new Zt(19),G=0;G<Y;++G)ie[Tp[G]]=Jt(l,g+G*3,7);g+=Y*3;for(var U=da(ie),W=(1<<U)-1,H=ei(ie,U,1),G=0;G<Q;){var $=H[Jt(l,g,W)];g+=$&15;var k=$>>>4;if(k<16)V[G++]=k;else{var ce=0,se=0;for(k==16?(se=3+Jt(l,g,3),g+=2,ce=V[G-1]):k==17?(se=3+Jt(l,g,7),g+=3):k==18&&(se=11+Jt(l,g,127),g+=7);se--;)V[G++]=ce}}var Se=V.subarray(0,B),re=V.subarray(B);x=da(Se),P=da(re),p=ei(Se,x,1),v=ei(re,P,1)}else throw"invalid block type";else{var k=jp(g)+4,R=l[k-4]|l[k-3]<<8,N=k+R;if(N>c){if(m)throw"unexpected EOF";break}f&&d(S+R),i.set(l.subarray(k,N),S),a.b=S+=R,a.p=g=N*8;continue}if(g>T){if(m)throw"unexpected EOF";break}}f&&d(S+131072);for(var we=(1<<x)-1,X=(1<<P)-1,ae=g;;ae=g){var ce=p[pa(l,g)&we],q=ce>>>4;if(g+=ce&15,g>T){if(m)throw"unexpected EOF";break}if(!ce)throw"invalid length/literal";if(q<256)i[S++]=q;else if(q==256){ae=g,p=null;break}else{var pe=q-254;if(q>264){var G=q-257,me=Pc[G];pe=Jt(l,g,(1<<me)-1)+zc[G],g+=me}var xe=v[pa(l,g)&X],Ze=xe>>>4;if(!xe)throw"invalid distance";g+=xe&15;var re=Op[Ze];if(Ze>3){var me=kc[Ze];re+=pa(l,g)&(1<<me)-1,g+=me}if(g>T){if(m)throw"unexpected EOF";break}f&&d(S+131072);for(var tt=S+pe;S<tt;S+=4)i[S]=i[S-re],i[S+1]=i[S+1-re],i[S+2]=i[S+2-re],i[S+3]=i[S+3-re];S=tt}}a.l=p,a.p=ae,a.b=S,p&&(w=1,a.m=x,a.d=v,a.n=P)}while(!w);return S==i.length?i:Dp(i,0,S)},Bp=new Zt(0),Hp=function(l){if((l[0]&15)!=8||l[0]>>>4>7||(l[0]<<8|l[1])%31)throw"invalid zlib data";if(l[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function hl(l,i){return Up((Hp(l),l.subarray(2,-4)),i)}var Gp=typeof TextDecoder<"u"&&new TextDecoder,Wp=0;try{Gp.decode(Bp,{stream:!0}),Wp=1}catch{}const Vp=l=>l&&l.isCubeTexture;class Zp extends _a{constructor(i,a){var c,f;const m=Vp(i),w=((f=m?(c=i.image[0])==null?void 0:c.width:i.image.width)!=null?f:1024)/4,g=Math.floor(Math.log2(w)),S=Math.pow(2,g),p=3*Math.max(S,112),v=4*S,x=[m?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/v}`,`#define CUBEUV_MAX_MIP ${g}.0`],P=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,T=x.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Ic>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,A={map:{value:i},height:{value:(a==null?void 0:a.height)||15},radius:{value:(a==null?void 0:a.radius)||100}},k=new Yf(1,16),R=new ri({uniforms:A,fragmentShader:T,vertexShader:P,side:$u});super(k,R)}set radius(i){this.material.uniforms.radius.value=i}get radius(){return this.material.uniforms.radius.value}set height(i){this.material.uniforms.height.value=i}get height(){return this.material.uniforms.height.value}}class Qp extends ec{constructor(i){super(i),this.type=At}parse(i){const d=function(G,U){switch(G){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(U||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(U||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(U||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(U||""))}},v=function(G,U,W){U=U||1024;let $=G.pos,ce=-1,se=0,Se="",re=String.fromCharCode.apply(null,new Uint16Array(G.subarray($,$+128)));for(;0>(ce=re.indexOf(`
`))&&se<U&&$<G.byteLength;)Se+=re,se+=re.length,$+=128,re+=String.fromCharCode.apply(null,new Uint16Array(G.subarray($,$+128)));return-1<ce?(G.pos+=se+ce+1,Se+re.slice(0,ce)):!1},x=function(G){const U=/^#\?(\S+)/,W=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,$=/^\s*FORMAT=(\S+)\s*$/,ce=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,se={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Se,re;for((G.pos>=G.byteLength||!(Se=v(G)))&&d(1,"no header found"),(re=Se.match(U))||d(3,"bad initial token"),se.valid|=1,se.programtype=re[1],se.string+=Se+`
`;Se=v(G),Se!==!1;){if(se.string+=Se+`
`,Se.charAt(0)==="#"){se.comments+=Se+`
`;continue}if((re=Se.match(W))&&(se.gamma=parseFloat(re[1])),(re=Se.match(H))&&(se.exposure=parseFloat(re[1])),(re=Se.match($))&&(se.valid|=2,se.format=re[1]),(re=Se.match(ce))&&(se.valid|=4,se.height=parseInt(re[1],10),se.width=parseInt(re[2],10)),se.valid&2&&se.valid&4)break}return se.valid&2||d(3,"missing format specifier"),se.valid&4||d(3,"missing image size specifier"),se},P=function(G,U,W){const H=U;if(H<8||H>32767||G[0]!==2||G[1]!==2||G[2]&128)return new Uint8Array(G);H!==(G[2]<<8|G[3])&&d(3,"wrong scanline width");const $=new Uint8Array(4*U*W);$.length||d(4,"unable to allocate buffer space");let ce=0,se=0;const Se=4*H,re=new Uint8Array(4),we=new Uint8Array(Se);let X=W;for(;X>0&&se<G.byteLength;){se+4>G.byteLength&&d(1),re[0]=G[se++],re[1]=G[se++],re[2]=G[se++],re[3]=G[se++],(re[0]!=2||re[1]!=2||(re[2]<<8|re[3])!=H)&&d(3,"bad rgbe scanline format");let ae=0,q;for(;ae<Se&&se<G.byteLength;){q=G[se++];const me=q>128;if(me&&(q-=128),(q===0||ae+q>Se)&&d(3,"bad scanline data"),me){const xe=G[se++];for(let Ze=0;Ze<q;Ze++)we[ae++]=xe}else we.set(G.subarray(se,se+q),ae),ae+=q,se+=q}const pe=H;for(let me=0;me<pe;me++){let xe=0;$[ce]=we[me+xe],xe+=H,$[ce+1]=we[me+xe],xe+=H,$[ce+2]=we[me+xe],xe+=H,$[ce+3]=we[me+xe],ce+=4}X--}return $},T=function(G,U,W,H){const $=G[U+3],ce=Math.pow(2,$-128)/255;W[H+0]=G[U+0]*ce,W[H+1]=G[U+1]*ce,W[H+2]=G[U+2]*ce,W[H+3]=1},A=function(G,U,W,H){const $=G[U+3],ce=Math.pow(2,$-128)/255;W[H+0]=yr.toHalfFloat(Math.min(G[U+0]*ce,65504)),W[H+1]=yr.toHalfFloat(Math.min(G[U+1]*ce,65504)),W[H+2]=yr.toHalfFloat(Math.min(G[U+2]*ce,65504)),W[H+3]=yr.toHalfFloat(1)},k=new Uint8Array(i);k.pos=0;const R=x(k),N=R.width,B=R.height,Y=P(k.subarray(k.pos),N,B);let Q,V,ie;switch(this.type){case sn:ie=Y.length/4;const G=new Float32Array(ie*4);for(let W=0;W<ie;W++)T(Y,W*4,G,W*4);Q=G,V=sn;break;case At:ie=Y.length/4;const U=new Uint16Array(ie*4);for(let W=0;W<ie;W++)A(Y,W*4,U,W*4);Q=U,V=At;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:N,height:B,data:Q,header:R.string,gamma:R.gamma,exposure:R.exposure,type:V}}setDataType(i){return this.type=i,this}load(i,a,c,f){function m(d,w){switch(d.type){case sn:case At:"colorSpace"in d?d.colorSpace="srgb-linear":d.encoding=3e3,d.minFilter=Qt,d.magFilter=Qt,d.generateMipmaps=!1,d.flipY=!0;break}a&&a(d,w)}return super.load(i,m,c,f)}}const Kr=Ic>=152;class Yp extends ec{constructor(i){super(i),this.type=At}parse(i){const U=Math.pow(2.7182818,2.2);function W(u,h){for(var _=0,L=0;L<65536;++L)(L==0||u[L>>3]&1<<(L&7))&&(h[_++]=L);for(var F=_-1;_<65536;)h[_++]=0;return F}function H(u){for(var h=0;h<16384;h++)u[h]={},u[h].len=0,u[h].lit=0,u[h].p=null}const $={l:0,c:0,lc:0};function ce(u,h,_,L,F){for(;_<u;)h=h<<8|ci(L,F),_+=8;_-=u,$.l=h>>_&(1<<u)-1,$.c=h,$.lc=_}const se=new Array(59);function Se(u){for(var h=0;h<=58;++h)se[h]=0;for(var h=0;h<65537;++h)se[u[h]]+=1;for(var _=0,h=58;h>0;--h){var L=_+se[h]>>1;se[h]=_,_=L}for(var h=0;h<65537;++h){var F=u[h];F>0&&(u[h]=F|se[F]++<<6)}}function re(u,h,_,L,F,j,K){for(var Z=_,te=0,ee=0;F<=j;F++){if(Z.value-_.value>L)return!1;ce(6,te,ee,u,Z);var ne=$.l;if(te=$.c,ee=$.lc,K[F]=ne,ne==63){if(Z.value-_.value>L)throw"Something wrong with hufUnpackEncTable";ce(8,te,ee,u,Z);var b=$.l+6;if(te=$.c,ee=$.lc,F+b>j+1)throw"Something wrong with hufUnpackEncTable";for(;b--;)K[F++]=0;F--}else if(ne>=59){var b=ne-59+2;if(F+b>j+1)throw"Something wrong with hufUnpackEncTable";for(;b--;)K[F++]=0;F--}}Se(K)}function we(u){return u&63}function X(u){return u>>6}function ae(u,h,_,L){for(;h<=_;h++){var F=X(u[h]),j=we(u[h]);if(F>>j)throw"Invalid table entry";if(j>14){var K=L[F>>j-14];if(K.len)throw"Invalid table entry";if(K.lit++,K.p){var Z=K.p;K.p=new Array(K.lit);for(var te=0;te<K.lit-1;++te)K.p[te]=Z[te]}else K.p=new Array(1);K.p[K.lit-1]=h}else if(j)for(var ee=0,te=1<<14-j;te>0;te--){var K=L[(F<<14-j)+ee];if(K.len||K.p)throw"Invalid table entry";K.len=j,K.lit=h,ee++}}return!0}const q={c:0,lc:0};function pe(u,h,_,L){u=u<<8|ci(_,L),h+=8,q.c=u,q.lc=h}const me={c:0,lc:0};function xe(u,h,_,L,F,j,K,Z,te,ee){if(u==h){L<8&&(pe(_,L,F,K),_=q.c,L=q.lc),L-=8;var ne=_>>L,ne=new Uint8Array([ne])[0];if(te.value+ne>ee)return!1;for(var b=Z[te.value-1];ne-- >0;)Z[te.value++]=b}else if(te.value<ee)Z[te.value++]=u;else return!1;me.c=_,me.lc=L}function Ze(u){return u&65535}function tt(u){var h=Ze(u);return h>32767?h-65536:h}const Pe={a:0,b:0};function st(u,h){var _=tt(u),L=tt(h),F=L,j=_+(F&1)+(F>>1),K=j,Z=j-F;Pe.a=K,Pe.b=Z}function Yt(u,h){var _=Ze(u),L=Ze(h),F=_-(L>>1)&65535,j=L+F-32768&65535;Pe.a=j,Pe.b=F}function Mr(u,h,_,L,F,j,K){for(var Z=K<16384,te=_>F?F:_,ee=1,ne;ee<=te;)ee<<=1;for(ee>>=1,ne=ee,ee>>=1;ee>=1;){for(var b=0,He=b+j*(F-ne),de=j*ee,ve=j*ne,Ee=L*ee,Ce=L*ne,Ae,Le,_e,Ie;b<=He;b+=ve){for(var Oe=b,We=b+L*(_-ne);Oe<=We;Oe+=Ce){var ke=Oe+Ee,Qe=Oe+de,yt=Qe+Ee;Z?(st(u[Oe+h],u[Qe+h]),Ae=Pe.a,_e=Pe.b,st(u[ke+h],u[yt+h]),Le=Pe.a,Ie=Pe.b,st(Ae,Le),u[Oe+h]=Pe.a,u[ke+h]=Pe.b,st(_e,Ie),u[Qe+h]=Pe.a,u[yt+h]=Pe.b):(Yt(u[Oe+h],u[Qe+h]),Ae=Pe.a,_e=Pe.b,Yt(u[ke+h],u[yt+h]),Le=Pe.a,Ie=Pe.b,Yt(Ae,Le),u[Oe+h]=Pe.a,u[ke+h]=Pe.b,Yt(_e,Ie),u[Qe+h]=Pe.a,u[yt+h]=Pe.b)}if(_&ee){var Qe=Oe+de;Z?st(u[Oe+h],u[Qe+h]):Yt(u[Oe+h],u[Qe+h]),Ae=Pe.a,u[Qe+h]=Pe.b,u[Oe+h]=Ae}}if(F&ee)for(var Oe=b,We=b+L*(_-ne);Oe<=We;Oe+=Ce){var ke=Oe+Ee;Z?st(u[Oe+h],u[ke+h]):Yt(u[Oe+h],u[ke+h]),Ae=Pe.a,u[ke+h]=Pe.b,u[Oe+h]=Ae}ne=ee,ee>>=1}return b}function er(u,h,_,L,F,j,K,Z,te,ee){for(var ne=0,b=0,He=Z,de=Math.trunc(F.value+(j+7)/8);F.value<de;)for(pe(ne,b,_,F),ne=q.c,b=q.lc;b>=14;){var ve=ne>>b-14&16383,Ee=h[ve];if(Ee.len)b-=Ee.len,xe(Ee.lit,K,ne,b,_,L,F,te,ee,He),ne=me.c,b=me.lc;else{if(!Ee.p)throw"hufDecode issues";var Ce;for(Ce=0;Ce<Ee.lit;Ce++){for(var Ae=we(u[Ee.p[Ce]]);b<Ae&&F.value<de;)pe(ne,b,_,F),ne=q.c,b=q.lc;if(b>=Ae&&X(u[Ee.p[Ce]])==(ne>>b-Ae&(1<<Ae)-1)){b-=Ae,xe(Ee.p[Ce],K,ne,b,_,L,F,te,ee,He),ne=me.c,b=me.lc;break}}if(Ce==Ee.lit)throw"hufDecode issues"}}var Le=8-j&7;for(ne>>=Le,b-=Le;b>0;){var Ee=h[ne<<14-b&16383];if(Ee.len)b-=Ee.len,xe(Ee.lit,K,ne,b,_,L,F,te,ee,He),ne=me.c,b=me.lc;else throw"hufDecode issues"}return!0}function It(u,h,_,L,F,j){var K={value:0},Z=_.value,te=gt(h,_),ee=gt(h,_);_.value+=4;var ne=gt(h,_);if(_.value+=4,te<0||te>=65537||ee<0||ee>=65537)throw"Something wrong with HUF_ENCSIZE";var b=new Array(65537),He=new Array(16384);H(He);var de=L-(_.value-Z);if(re(u,h,_,de,te,ee,b),ne>8*(L-(_.value-Z)))throw"Something wrong with hufUncompress";ae(b,te,ee,He),er(b,He,u,h,_,ne,ee,j,F,K)}function tr(u,h,_){for(var L=0;L<_;++L)h[L]=u[h[L]]}function vt(u){for(var h=1;h<u.length;h++){var _=u[h-1]+u[h]-128;u[h]=_}}function oi(u,h){for(var _=0,L=Math.floor((u.length+1)/2),F=0,j=u.length-1;!(F>j||(h[F++]=u[_++],F>j));)h[F++]=u[L++]}function ai(u){for(var h=u.byteLength,_=new Array,L=0,F=new DataView(u);h>0;){var j=F.getInt8(L++);if(j<0){var K=-j;h-=K+1;for(var Z=0;Z<K;Z++)_.push(F.getUint8(L++))}else{var K=j;h-=2;for(var te=F.getUint8(L++),Z=0;Z<K+1;Z++)_.push(te)}}return _}function Ml(u,h,_,L,F,j){var ke=new DataView(j.buffer),K=_[u.idx[0]].width,Z=_[u.idx[0]].height,te=3,ee=Math.floor(K/8),ne=Math.ceil(K/8),b=Math.ceil(Z/8),He=K-(ne-1)*8,de=Z-(b-1)*8,ve={value:0},Ee=new Array(te),Ce=new Array(te),Ae=new Array(te),Le=new Array(te),_e=new Array(te);for(let Be=0;Be<te;++Be)_e[Be]=h[u.idx[Be]],Ee[Be]=Be<1?0:Ee[Be-1]+ne*b,Ce[Be]=new Float32Array(64),Ae[Be]=new Uint16Array(64),Le[Be]=new Uint16Array(ne*64);for(let Be=0;Be<b;++Be){var Ie=8;Be==b-1&&(Ie=de);var Oe=8;for(let Ge=0;Ge<ne;++Ge){Ge==ne-1&&(Oe=He);for(let Fe=0;Fe<te;++Fe)Ae[Fe].fill(0),Ae[Fe][0]=F[Ee[Fe]++],Rl(ve,L,Ae[Fe]),Cl(Ae[Fe],Ce[Fe]),Il(Ce[Fe]);On(Ce);for(let Fe=0;Fe<te;++Fe)Pl(Ce[Fe],Le[Fe],Ge*64)}let ot=0;for(let Ge=0;Ge<te;++Ge){const Fe=_[u.idx[Ge]].type;for(let Ke=8*Be;Ke<8*Be+Ie;++Ke){ot=_e[Ge][Ke];for(let cn=0;cn<ee;++cn){const Mt=cn*64+(Ke&7)*8;ke.setUint16(ot+0*Fe,Le[Ge][Mt+0],!0),ke.setUint16(ot+2*Fe,Le[Ge][Mt+1],!0),ke.setUint16(ot+4*Fe,Le[Ge][Mt+2],!0),ke.setUint16(ot+6*Fe,Le[Ge][Mt+3],!0),ke.setUint16(ot+8*Fe,Le[Ge][Mt+4],!0),ke.setUint16(ot+10*Fe,Le[Ge][Mt+5],!0),ke.setUint16(ot+12*Fe,Le[Ge][Mt+6],!0),ke.setUint16(ot+14*Fe,Le[Ge][Mt+7],!0),ot+=16*Fe}}if(ee!=ne)for(let Ke=8*Be;Ke<8*Be+Ie;++Ke){const cn=_e[Ge][Ke]+8*ee*2*Fe,Mt=ee*64+(Ke&7)*8;for(let bt=0;bt<Oe;++bt)ke.setUint16(cn+bt*2*Fe,Le[Ge][Mt+bt],!0)}}}for(var We=new Uint16Array(K),ke=new DataView(j.buffer),Qe=0;Qe<te;++Qe){_[u.idx[Qe]].decoded=!0;var yt=_[u.idx[Qe]].type;if(_[Qe].type==2)for(var rt=0;rt<Z;++rt){const Be=_e[Qe][rt];for(var pt=0;pt<K;++pt)We[pt]=ke.getUint16(Be+pt*2*yt,!0);for(var pt=0;pt<K;++pt)ke.setFloat32(Be+pt*2*yt,ue(We[pt]),!0)}}}function Rl(u,h,_){for(var L,F=1;F<64;)L=h[u.value],L==65280?F=64:L>>8==255?F+=L&255:(_[F]=L,F++),u.value++}function Cl(u,h){h[0]=ue(u[0]),h[1]=ue(u[1]),h[2]=ue(u[5]),h[3]=ue(u[6]),h[4]=ue(u[14]),h[5]=ue(u[15]),h[6]=ue(u[27]),h[7]=ue(u[28]),h[8]=ue(u[2]),h[9]=ue(u[4]),h[10]=ue(u[7]),h[11]=ue(u[13]),h[12]=ue(u[16]),h[13]=ue(u[26]),h[14]=ue(u[29]),h[15]=ue(u[42]),h[16]=ue(u[3]),h[17]=ue(u[8]),h[18]=ue(u[12]),h[19]=ue(u[17]),h[20]=ue(u[25]),h[21]=ue(u[30]),h[22]=ue(u[41]),h[23]=ue(u[43]),h[24]=ue(u[9]),h[25]=ue(u[11]),h[26]=ue(u[18]),h[27]=ue(u[24]),h[28]=ue(u[31]),h[29]=ue(u[40]),h[30]=ue(u[44]),h[31]=ue(u[53]),h[32]=ue(u[10]),h[33]=ue(u[19]),h[34]=ue(u[23]),h[35]=ue(u[32]),h[36]=ue(u[39]),h[37]=ue(u[45]),h[38]=ue(u[52]),h[39]=ue(u[54]),h[40]=ue(u[20]),h[41]=ue(u[22]),h[42]=ue(u[33]),h[43]=ue(u[38]),h[44]=ue(u[46]),h[45]=ue(u[51]),h[46]=ue(u[55]),h[47]=ue(u[60]),h[48]=ue(u[21]),h[49]=ue(u[34]),h[50]=ue(u[37]),h[51]=ue(u[47]),h[52]=ue(u[50]),h[53]=ue(u[56]),h[54]=ue(u[59]),h[55]=ue(u[61]),h[56]=ue(u[35]),h[57]=ue(u[36]),h[58]=ue(u[48]),h[59]=ue(u[49]),h[60]=ue(u[57]),h[61]=ue(u[58]),h[62]=ue(u[62]),h[63]=ue(u[63])}function Il(u){const h=.5*Math.cos(.7853975),_=.5*Math.cos(3.14159/16),L=.5*Math.cos(3.14159/8),F=.5*Math.cos(3*3.14159/16),j=.5*Math.cos(5*3.14159/16),K=.5*Math.cos(3*3.14159/8),Z=.5*Math.cos(7*3.14159/16);for(var te=new Array(4),ee=new Array(4),ne=new Array(4),b=new Array(4),He=0;He<8;++He){var de=He*8;te[0]=L*u[de+2],te[1]=K*u[de+2],te[2]=L*u[de+6],te[3]=K*u[de+6],ee[0]=_*u[de+1]+F*u[de+3]+j*u[de+5]+Z*u[de+7],ee[1]=F*u[de+1]-Z*u[de+3]-_*u[de+5]-j*u[de+7],ee[2]=j*u[de+1]-_*u[de+3]+Z*u[de+5]+F*u[de+7],ee[3]=Z*u[de+1]-j*u[de+3]+F*u[de+5]-_*u[de+7],ne[0]=h*(u[de+0]+u[de+4]),ne[3]=h*(u[de+0]-u[de+4]),ne[1]=te[0]+te[3],ne[2]=te[1]-te[2],b[0]=ne[0]+ne[1],b[1]=ne[3]+ne[2],b[2]=ne[3]-ne[2],b[3]=ne[0]-ne[1],u[de+0]=b[0]+ee[0],u[de+1]=b[1]+ee[1],u[de+2]=b[2]+ee[2],u[de+3]=b[3]+ee[3],u[de+4]=b[3]-ee[3],u[de+5]=b[2]-ee[2],u[de+6]=b[1]-ee[1],u[de+7]=b[0]-ee[0]}for(var ve=0;ve<8;++ve)te[0]=L*u[16+ve],te[1]=K*u[16+ve],te[2]=L*u[48+ve],te[3]=K*u[48+ve],ee[0]=_*u[8+ve]+F*u[24+ve]+j*u[40+ve]+Z*u[56+ve],ee[1]=F*u[8+ve]-Z*u[24+ve]-_*u[40+ve]-j*u[56+ve],ee[2]=j*u[8+ve]-_*u[24+ve]+Z*u[40+ve]+F*u[56+ve],ee[3]=Z*u[8+ve]-j*u[24+ve]+F*u[40+ve]-_*u[56+ve],ne[0]=h*(u[ve]+u[32+ve]),ne[3]=h*(u[ve]-u[32+ve]),ne[1]=te[0]+te[3],ne[2]=te[1]-te[2],b[0]=ne[0]+ne[1],b[1]=ne[3]+ne[2],b[2]=ne[3]-ne[2],b[3]=ne[0]-ne[1],u[0+ve]=b[0]+ee[0],u[8+ve]=b[1]+ee[1],u[16+ve]=b[2]+ee[2],u[24+ve]=b[3]+ee[3],u[32+ve]=b[3]-ee[3],u[40+ve]=b[2]-ee[2],u[48+ve]=b[1]-ee[1],u[56+ve]=b[0]-ee[0]}function On(u){for(var h=0;h<64;++h){var _=u[0][h],L=u[1][h],F=u[2][h];u[0][h]=_+1.5747*F,u[1][h]=_-.1873*L-.4682*F,u[2][h]=_+1.8556*L}}function Pl(u,h,_){for(var L=0;L<64;++L)h[_+L]=yr.toHalfFloat(kl(u[L]))}function kl(u){return u<=1?Math.sign(u)*Math.pow(Math.abs(u),2.2):Math.sign(u)*Math.pow(U,Math.abs(u)-1)}function si(u){return new DataView(u.array.buffer,u.offset.value,u.size)}function An(u){var h=u.viewer.buffer.slice(u.offset.value,u.offset.value+u.size),_=new Uint8Array(ai(h)),L=new Uint8Array(_.length);return vt(_),oi(_,L),new DataView(L.buffer)}function Rr(u){var h=u.array.slice(u.offset.value,u.offset.value+u.size),_=hl(h),L=new Uint8Array(_.length);return vt(_),oi(_,L),new DataView(L.buffer)}function Nl(u){for(var h=u.viewer,_={value:u.offset.value},L=new Uint16Array(u.width*u.scanlineBlockSize*(u.channels*u.type)),F=new Uint8Array(8192),j=0,K=new Array(u.channels),Z=0;Z<u.channels;Z++)K[Z]={},K[Z].start=j,K[Z].end=K[Z].start,K[Z].nx=u.width,K[Z].ny=u.lines,K[Z].size=u.type,j+=K[Z].nx*K[Z].ny*K[Z].size;var te=jn(h,_),ee=jn(h,_);if(ee>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(te<=ee)for(var Z=0;Z<ee-te+1;Z++)F[Z+te]=yn(h,_);var ne=new Uint16Array(65536),b=W(F,ne),He=gt(h,_);It(u.array,h,_,He,L,j);for(var Z=0;Z<u.channels;++Z)for(var de=K[Z],ve=0;ve<K[Z].size;++ve)Mr(L,de.start+ve,de.nx,de.size,de.ny,de.nx*de.size,b);tr(ne,L,j);for(var Ee=0,Ce=new Uint8Array(L.buffer.byteLength),Ae=0;Ae<u.lines;Ae++)for(var Le=0;Le<u.channels;Le++){var de=K[Le],_e=de.nx*de.size,Ie=new Uint8Array(L.buffer,de.end*2,_e*2);Ce.set(Ie,Ee),Ee+=_e*2,de.end+=_e}return new DataView(Ce.buffer)}function Tl(u){var h=u.array.slice(u.offset.value,u.offset.value+u.size),_=hl(h);const L=u.lines*u.channels*u.width,F=u.type==1?new Uint16Array(L):new Uint32Array(L);let j=0,K=0;const Z=new Array(4);for(let te=0;te<u.lines;te++)for(let ee=0;ee<u.channels;ee++){let ne=0;switch(u.type){case 1:Z[0]=j,Z[1]=Z[0]+u.width,j=Z[1]+u.width;for(let b=0;b<u.width;++b){const He=_[Z[0]++]<<8|_[Z[1]++];ne+=He,F[K]=ne,K++}break;case 2:Z[0]=j,Z[1]=Z[0]+u.width,Z[2]=Z[1]+u.width,j=Z[2]+u.width;for(let b=0;b<u.width;++b){const He=_[Z[0]++]<<24|_[Z[1]++]<<16|_[Z[2]++]<<8;ne+=He,F[K]=ne,K++}break}}return new DataView(F.buffer)}function ui(u){var h=u.viewer,_={value:u.offset.value},L=new Uint8Array(u.width*u.lines*(u.channels*u.type*2)),F={version:Et(h,_),unknownUncompressedSize:Et(h,_),unknownCompressedSize:Et(h,_),acCompressedSize:Et(h,_),dcCompressedSize:Et(h,_),rleCompressedSize:Et(h,_),rleUncompressedSize:Et(h,_),rleRawSize:Et(h,_),totalAcUncompressedCount:Et(h,_),totalDcUncompressedCount:Et(h,_),acCompression:Et(h,_)};if(F.version<2)throw"EXRLoader.parse: "+Xt.compression+" version "+F.version+" is unsupported";for(var j=new Array,K=jn(h,_)-2;K>0;){var Z=nr(h.buffer,_),te=yn(h,_),ee=te>>2&3,ne=(te>>4)-1,b=new Int8Array([ne])[0],He=yn(h,_);j.push({name:Z,index:b,type:He,compression:ee}),K-=Z.length+3}for(var de=Xt.channels,ve=new Array(u.channels),Ee=0;Ee<u.channels;++Ee){var Ce=ve[Ee]={},Ae=de[Ee];Ce.name=Ae.name,Ce.compression=0,Ce.decoded=!1,Ce.type=Ae.pixelType,Ce.pLinear=Ae.pLinear,Ce.width=u.width,Ce.height=u.lines}for(var Le={idx:new Array(3)},_e=0;_e<u.channels;++_e)for(var Ce=ve[_e],Ee=0;Ee<j.length;++Ee){var Ie=j[Ee];Ce.name==Ie.name&&(Ce.compression=Ie.compression,Ie.index>=0&&(Le.idx[Ie.index]=_e),Ce.offset=_e)}if(F.acCompressedSize>0)switch(F.acCompression){case 0:var ke=new Uint16Array(F.totalAcUncompressedCount);It(u.array,h,_,F.acCompressedSize,ke,F.totalAcUncompressedCount);break;case 1:var Oe=u.array.slice(_.value,_.value+F.totalAcUncompressedCount),We=hl(Oe),ke=new Uint16Array(We.buffer);_.value+=F.totalAcUncompressedCount;break}if(F.dcCompressedSize>0){var Qe={array:u.array,offset:_,size:F.dcCompressedSize},yt=new Uint16Array(Rr(Qe).buffer);_.value+=F.dcCompressedSize}if(F.rleRawSize>0){var Oe=u.array.slice(_.value,_.value+F.rleCompressedSize),We=hl(Oe),rt=ai(We.buffer);_.value+=F.rleCompressedSize}for(var pt=0,Be=new Array(ve.length),Ee=0;Ee<Be.length;++Ee)Be[Ee]=new Array;for(var ot=0;ot<u.lines;++ot)for(var Ge=0;Ge<ve.length;++Ge)Be[Ge].push(pt),pt+=ve[Ge].width*u.type*2;Ml(Le,Be,ve,ke,yt,L);for(var Ee=0;Ee<ve.length;++Ee){var Ce=ve[Ee];if(!Ce.decoded)switch(Ce.compression){case 2:for(var Fe=0,Ke=0,ot=0;ot<u.lines;++ot){for(var cn=Be[Ee][Fe],Mt=0;Mt<Ce.width;++Mt){for(var bt=0;bt<2*Ce.type;++bt)L[cn++]=rt[Ke+bt*Ce.width*Ce.height];Ke++}Fe++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(L.buffer)}function nr(u,h){for(var _=new Uint8Array(u),L=0;_[h.value+L]!=0;)L+=1;var F=new TextDecoder().decode(_.slice(h.value,h.value+L));return h.value=h.value+L+1,F}function zl(u,h,_){var L=new TextDecoder().decode(new Uint8Array(u).slice(h.value,h.value+_));return h.value=h.value+_,L}function Ll(u,h){var _=Fn(u,h),L=gt(u,h);return[_,L]}function Ol(u,h){var _=gt(u,h),L=gt(u,h);return[_,L]}function Fn(u,h){var _=u.getInt32(h.value,!0);return h.value=h.value+4,_}function gt(u,h){var _=u.getUint32(h.value,!0);return h.value=h.value+4,_}function ci(u,h){var _=u[h.value];return h.value=h.value+1,_}function yn(u,h){var _=u.getUint8(h.value);return h.value=h.value+1,_}const Et=function(u,h){let _;return"getBigInt64"in DataView.prototype?_=Number(u.getBigInt64(h.value,!0)):_=u.getUint32(h.value+4,!0)+Number(u.getUint32(h.value,!0)<<32),h.value+=8,_};function ut(u,h){var _=u.getFloat32(h.value,!0);return h.value+=4,_}function Al(u,h){return yr.toHalfFloat(ut(u,h))}function ue(u){var h=(u&31744)>>10,_=u&1023;return(u>>15?-1:1)*(h?h===31?_?NaN:1/0:Math.pow(2,h-15)*(1+_/1024):6103515625e-14*(_/1024))}function jn(u,h){var _=u.getUint16(h.value,!0);return h.value+=2,_}function Fl(u,h){return ue(jn(u,h))}function jl(u,h,_,L){for(var F=_.value,j=[];_.value<F+L-1;){var K=nr(h,_),Z=Fn(u,_),te=yn(u,_);_.value+=3;var ee=Fn(u,_),ne=Fn(u,_);j.push({name:K,pixelType:Z,pLinear:te,xSampling:ee,ySampling:ne})}return _.value+=1,j}function fi(u,h){var _=ut(u,h),L=ut(u,h),F=ut(u,h),j=ut(u,h),K=ut(u,h),Z=ut(u,h),te=ut(u,h),ee=ut(u,h);return{redX:_,redY:L,greenX:F,greenY:j,blueX:K,blueY:Z,whiteX:te,whiteY:ee}}function di(u,h){var _=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],L=yn(u,h);return _[L]}function Dl(u,h){var _=gt(u,h),L=gt(u,h),F=gt(u,h),j=gt(u,h);return{xMin:_,yMin:L,xMax:F,yMax:j}}function pi(u,h){var _=["INCREASING_Y"],L=yn(u,h);return _[L]}function hi(u,h){var _=ut(u,h),L=ut(u,h);return[_,L]}function mi(u,h){var _=ut(u,h),L=ut(u,h),F=ut(u,h);return[_,L,F]}function Ul(u,h,_,L,F){if(L==="string"||L==="stringvector"||L==="iccProfile")return zl(h,_,F);if(L==="chlist")return jl(u,h,_,F);if(L==="chromaticities")return fi(u,_);if(L==="compression")return di(u,_);if(L==="box2i")return Dl(u,_);if(L==="lineOrder")return pi(u,_);if(L==="float")return ut(u,_);if(L==="v2f")return hi(u,_);if(L==="v3f")return mi(u,_);if(L==="int")return Fn(u,_);if(L==="rational")return Ll(u,_);if(L==="timecode")return Ol(u,_);if(L==="preview")return _.value+=F,"skipped";_.value+=F}function Bl(u,h,_){const L={};if(u.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";L.version=u.getUint8(4);const F=u.getUint8(5);L.spec={singleTile:!!(F&2),longName:!!(F&4),deepFormat:!!(F&8),multiPart:!!(F&16)},_.value=8;for(var j=!0;j;){var K=nr(h,_);if(K==0)j=!1;else{var Z=nr(h,_),te=gt(u,_),ee=Ul(u,h,_,Z,te);ee===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Z}'.`):L[K]=ee}}if((F&-5)!=0)throw console.error("EXRHeader:",L),"THREE.EXRLoader: provided file is currently unsupported.";return L}function Hl(u,h,_,L,F){const j={size:0,viewer:h,array:_,offset:L,width:u.dataWindow.xMax-u.dataWindow.xMin+1,height:u.dataWindow.yMax-u.dataWindow.yMin+1,channels:u.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:u.channels[0].pixelType,uncompress:null,getter:null,format:null,[Kr?"colorSpace":"encoding"]:null};switch(u.compression){case"NO_COMPRESSION":j.lines=1,j.uncompress=si;break;case"RLE_COMPRESSION":j.lines=1,j.uncompress=An;break;case"ZIPS_COMPRESSION":j.lines=1,j.uncompress=Rr;break;case"ZIP_COMPRESSION":j.lines=16,j.uncompress=Rr;break;case"PIZ_COMPRESSION":j.lines=32,j.uncompress=Nl;break;case"PXR24_COMPRESSION":j.lines=16,j.uncompress=Tl;break;case"DWAA_COMPRESSION":j.lines=32,j.uncompress=ui;break;case"DWAB_COMPRESSION":j.lines=256,j.uncompress=ui;break;default:throw"EXRLoader.parse: "+u.compression+" is unsupported"}if(j.scanlineBlockSize=j.lines,j.type==1)switch(F){case sn:j.getter=Fl,j.inputSize=2;break;case At:j.getter=jn,j.inputSize=2;break}else if(j.type==2)switch(F){case sn:j.getter=ut,j.inputSize=4;break;case At:j.getter=Al,j.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+j.type+" for "+u.compression+".";j.blockCount=(u.dataWindow.yMax+1)/j.scanlineBlockSize;for(var K=0;K<j.blockCount;K++)Et(h,L);j.outputChannels=j.channels==3?4:j.channels;const Z=j.width*j.height*j.outputChannels;switch(F){case sn:j.byteArray=new Float32Array(Z),j.channels<j.outputChannels&&j.byteArray.fill(1,0,Z);break;case At:j.byteArray=new Uint16Array(Z),j.channels<j.outputChannels&&j.byteArray.fill(15360,0,Z);break;default:console.error("THREE.EXRLoader: unsupported type: ",F);break}return j.bytesPerLine=j.width*j.inputSize*j.channels,j.outputChannels==4?j.format=Sr:j.format=Xf,Kr?j.colorSpace="srgb-linear":j.encoding=3e3,j}const Dn=new DataView(i),Cr=new Uint8Array(i),Un={value:0},Xt=Bl(Dn,i,Un),ze=Hl(Xt,Dn,Cr,Un,this.type),vi={value:0},Gl={R:0,G:1,B:2,A:3,Y:0};for(let u=0;u<ze.height/ze.scanlineBlockSize;u++){const h=gt(Dn,Un);ze.size=gt(Dn,Un),ze.lines=h+ze.scanlineBlockSize>ze.height?ze.height-h:ze.scanlineBlockSize;const L=ze.size<ze.lines*ze.bytesPerLine?ze.uncompress(ze):si(ze);Un.value+=ze.size;for(let F=0;F<ze.scanlineBlockSize;F++){const j=F+u*ze.scanlineBlockSize;if(j>=ze.height)break;for(let K=0;K<ze.channels;K++){const Z=Gl[Xt.channels[K].name];for(let te=0;te<ze.width;te++){vi.value=(F*(ze.channels*ze.width)+K*ze.width+te)*ze.inputSize;const ee=(ze.height-1-j)*(ze.width*ze.outputChannels)+te*ze.outputChannels+Z;ze.byteArray[ee]=ze.getter(L,vi)}}}}return{header:Xt,width:ze.width,height:ze.height,data:ze.byteArray,format:ze.format,[Kr?"colorSpace":"encoding"]:ze[Kr?"colorSpace":"encoding"],type:this.type}}setDataType(i){return this.type=i,this}load(i,a,c,f){function m(d,w){Kr?d.colorSpace=w.colorSpace:d.encoding=w.encoding,d.minFilter=Qt,d.magFilter=Qt,d.generateMipmaps=!1,d.flipY=!1,a&&a(d,w)}return super.load(i,m,c,f)}}function Xp(l,i,a,c){const f=class extends ri{constructor(d={}){const w=Object.entries(l);super({uniforms:w.reduce((g,[S,p])=>{const v=qf.clone({[S]:{value:p}});return{...g,...v}},{}),vertexShader:i,fragmentShader:a}),this.key="",w.forEach(([g])=>Object.defineProperty(this,g,{get:()=>this.uniforms[g].value,set:S=>this.uniforms[g].value=S})),Object.assign(this,d)}};return f.key=Vt.generateUUID(),f}const qp=()=>parseInt(bu.replace(/\D+/g,"")),Oc=qp();function Kp(l,i,a){const c=un(x=>x.size),f=un(x=>x.viewport),m=typeof l=="number"?l:c.width*f.dpr,d=c.height*f.dpr,w=(typeof l=="number"?a:l)||{},{samples:g=0,depth:S,...p}=w,v=C.useMemo(()=>{const x=new Ea(m,d,{minFilter:Qt,magFilter:Qt,type:At,...p});return S&&(x.depthTexture=new Kf(m,d,sn)),x.samples=g,x},[]);return C.useLayoutEffect(()=>{v.setSize(m,d),g&&(v.samples=g)},[g,v,m,d]),C.useEffect(()=>()=>v.dispose(),[]),v}const Jp=l=>typeof l=="function",bp=C.forwardRef(({envMap:l,resolution:i=256,frames:a=1/0,makeDefault:c,children:f,...m},d)=>{const w=un(({set:k})=>k),g=un(({camera:k})=>k),S=un(({size:k})=>k),p=C.useRef(null);C.useImperativeHandle(d,()=>p.current,[]);const v=C.useRef(null),x=Kp(i);C.useLayoutEffect(()=>{m.manual||(p.current.aspect=S.width/S.height)},[S,m]),C.useLayoutEffect(()=>{p.current.updateProjectionMatrix()});let P=0,T=null;const A=Jp(f);return gn(k=>{A&&(a===1/0||P<a)&&(v.current.visible=!1,k.gl.setRenderTarget(x),T=k.scene.background,l&&(k.scene.background=l),k.gl.render(k.scene,p.current),k.scene.background=T,k.gl.setRenderTarget(null),v.current.visible=!0,P++)}),C.useLayoutEffect(()=>{if(c){const k=g;return w(()=>({camera:p.current})),()=>w(()=>({camera:k}))}},[p,c,w]),C.createElement(C.Fragment,null,C.createElement("perspectiveCamera",$n({ref:p},m),!A&&f),C.createElement("group",{ref:v},A&&f(x.texture)))}),$p=Xp({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new xl,sectionColor:new xl,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new Xe,worldPlanePosition:new Xe},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Oc>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),eh=C.forwardRef(({args:l,cellColor:i="#000000",sectionColor:a="#2080ff",cellSize:c=.5,sectionSize:f=1,followCamera:m=!1,infiniteGrid:d=!1,fadeDistance:w=100,fadeStrength:g=1,fadeFrom:S=1,cellThickness:p=.5,sectionThickness:v=1,side:x=bf,...P},T)=>{Ra({GridMaterial:$p});const A=C.useRef(null);C.useImperativeHandle(T,()=>A.current,[]);const k=new Jf,R=new Xe(0,1,0),N=new Xe(0,0,0);gn(Q=>{k.setFromNormalAndCoplanarPoint(R,N).applyMatrix4(A.current.matrixWorld);const V=A.current.material,ie=V.uniforms.worldCamProjPosition,G=V.uniforms.worldPlanePosition;k.projectPoint(Q.camera.position,ie.value),G.value.set(0,0,0).applyMatrix4(A.current.matrixWorld)});const B={cellSize:c,sectionSize:f,cellColor:i,sectionColor:a,cellThickness:p,sectionThickness:v},Y={fadeDistance:w,fadeStrength:g,fadeFrom:S,infiniteGrid:d,followCamera:m};return C.createElement("mesh",$n({ref:A,frustumCulled:!1},P),C.createElement("gridMaterial",$n({transparent:!0,"extensions-derivatives":!0,side:x},B,Y)),C.createElement("planeGeometry",{args:l}))}),th=3e3,nh=3001;function Ac(l,i){const a=l+"Geometry";return C.forwardRef(({args:c,children:f,...m},d)=>{const w=C.useRef(null);return C.useImperativeHandle(d,()=>w.current),C.useLayoutEffect(()=>void(i==null?void 0:i(w.current))),C.createElement("mesh",$n({ref:w},m),C.createElement(a,{attach:"geometry",args:c}),f)})}const rh=Ac("octahedron"),ih=Ac("extrude"),Fc=(l,i,a)=>{let c;switch(l){case wl:c=new Uint8ClampedArray(i*a*4);break;case At:c=new Uint16Array(i*a*4);break;case id:c=new Uint32Array(i*a*4);break;case rd:c=new Int8Array(i*a*4);break;case nd:c=new Int16Array(i*a*4);break;case td:c=new Int32Array(i*a*4);break;case sn:c=new Float32Array(i*a*4);break;default:throw new Error("Unsupported data type")}return c};let ml;const lh=(l,i,a,c)=>{if(ml!==void 0)return ml;const f=new Ea(1,1,c);i.setRenderTarget(f);const m=new _a(new tc,new ed({color:16777215}));i.render(m,a),i.setRenderTarget(null);const d=Fc(l,f.width,f.height);return i.readRenderTargetPixels(f,0,0,f.width,f.height,d),f.dispose(),m.geometry.dispose(),m.material.dispose(),ml=d[0]!==0,ml};class ka{constructor(i){et(this,"_renderer");et(this,"_rendererIsDisposable",!1);et(this,"_material");et(this,"_scene");et(this,"_camera");et(this,"_quad");et(this,"_renderTarget");et(this,"_width");et(this,"_height");et(this,"_type");et(this,"_colorSpace");et(this,"_supportsReadPixels",!0);et(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(i){throw this._renderer.setRenderTarget(null),i}this._renderer.setRenderTarget(null)});var c,f,m,d,w,g,S,p,v,x,P,T,A,k,R,N;this._width=i.width,this._height=i.height,this._type=i.type,this._colorSpace=i.colorSpace;const a={format:Sr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((c=i.renderTargetOptions)==null?void 0:c.anisotropy)!==void 0?(f=i.renderTargetOptions)==null?void 0:f.anisotropy:1,generateMipmaps:((m=i.renderTargetOptions)==null?void 0:m.generateMipmaps)!==void 0?(d=i.renderTargetOptions)==null?void 0:d.generateMipmaps:!1,magFilter:((w=i.renderTargetOptions)==null?void 0:w.magFilter)!==void 0?(g=i.renderTargetOptions)==null?void 0:g.magFilter:Qt,minFilter:((S=i.renderTargetOptions)==null?void 0:S.minFilter)!==void 0?(p=i.renderTargetOptions)==null?void 0:p.minFilter:Qt,samples:((v=i.renderTargetOptions)==null?void 0:v.samples)!==void 0?(x=i.renderTargetOptions)==null?void 0:x.samples:void 0,wrapS:((P=i.renderTargetOptions)==null?void 0:P.wrapS)!==void 0?(T=i.renderTargetOptions)==null?void 0:T.wrapS:Tn,wrapT:((A=i.renderTargetOptions)==null?void 0:A.wrapT)!==void 0?(k=i.renderTargetOptions)==null?void 0:k.wrapT:Tn};if(this._material=i.material,i.renderer?this._renderer=i.renderer:(this._renderer=ka.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new yl,this._camera=new qu,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!lh(this._type,this._renderer,this._camera,a)){let B;switch(this._type){case At:B=this._renderer.extensions.has("EXT_color_buffer_float")?sn:void 0;break}B!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${sn}`),this._type=B):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new _a(new tc,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Ea(this.width,this.height,a),this._renderTarget.texture.mapping=((R=i.renderTargetOptions)==null?void 0:R.mapping)!==void 0?(N=i.renderTargetOptions)==null?void 0:N.mapping:Sl}static instantiateRenderer(){const i=new Ku;return i.setSize(128,128),i}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const i=Fc(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,i),i}toDataTexture(i){const a=new $f(this.toArray(),this.width,this.height,Sr,this._type,(i==null?void 0:i.mapping)||Sl,(i==null?void 0:i.wrapS)||Tn,(i==null?void 0:i.wrapT)||Tn,(i==null?void 0:i.magFilter)||Qt,(i==null?void 0:i.minFilter)||Qt,(i==null?void 0:i.anisotropy)||1,va);return a.generateMipmaps=(i==null?void 0:i.generateMipmaps)!==void 0?i==null?void 0:i.generateMipmaps:!1,a}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(i){this.disposeOnDemandRenderer(),i&&this.renderTarget.dispose(),this.material instanceof ri&&Object.values(this.material.uniforms).forEach(a=>{a.value instanceof Kn&&a.value.dispose()}),Object.values(this.material).forEach(a=>{a instanceof Kn&&a.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(i){this._width=i,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(i){this._height=i,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(i){this._renderTarget=i,this._width=i.width,this._height=i.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class jc extends Error{}class Dc extends Error{}const Jr=(l,i,a)=>{const c=new RegExp(`${i}="([^"]*)"`,"i").exec(l);if(c)return c[1];const f=new RegExp(`<${i}[^>]*>([\\s\\S]*?)</${i}>`,"i").exec(l);if(f){const m=f[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return m&&m.length===3?m.map(d=>d.replace(/<\/?rdf:li>/g,"")):f[1].trim()}if(a!==void 0)return a;throw new Error(`Can't find ${i} in gainmap metadata`)},oh=l=>{let i;typeof TextDecoder<"u"?i=new TextDecoder().decode(l):i=l.toString();let a=i.indexOf("<x:xmpmeta");for(;a!==-1;){const c=i.indexOf("x:xmpmeta>",a),f=i.slice(a,c+10);try{const m=Jr(f,"hdrgm:GainMapMin","0"),d=Jr(f,"hdrgm:GainMapMax"),w=Jr(f,"hdrgm:Gamma","1"),g=Jr(f,"hdrgm:OffsetSDR","0.015625"),S=Jr(f,"hdrgm:OffsetHDR","0.015625"),p=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(f),v=p?p[1]:"0",x=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(f);if(!x)throw new Error("Incomplete gainmap metadata");const P=x[1];return{gainMapMin:Array.isArray(m)?m.map(T=>parseFloat(T)):[parseFloat(m),parseFloat(m),parseFloat(m)],gainMapMax:Array.isArray(d)?d.map(T=>parseFloat(T)):[parseFloat(d),parseFloat(d),parseFloat(d)],gamma:Array.isArray(w)?w.map(T=>parseFloat(T)):[parseFloat(w),parseFloat(w),parseFloat(w)],offsetSdr:Array.isArray(g)?g.map(T=>parseFloat(T)):[parseFloat(g),parseFloat(g),parseFloat(g)],offsetHdr:Array.isArray(S)?S.map(T=>parseFloat(T)):[parseFloat(S),parseFloat(S),parseFloat(S)],hdrCapacityMin:parseFloat(v),hdrCapacityMax:parseFloat(P)}}catch{}a=i.indexOf("<x:xmpmeta",c)}};class ah{constructor(i){et(this,"options");this.options={debug:i&&i.debug!==void 0?i.debug:!1,extractFII:i&&i.extractFII!==void 0?i.extractFII:!0,extractNonFII:i&&i.extractNonFII!==void 0?i.extractNonFII:!0}}extract(i){return new Promise((a,c)=>{const f=this.options.debug,m=new DataView(i.buffer);if(m.getUint16(0)!==65496){c(new Error("Not a valid jpeg"));return}const d=m.byteLength;let w=2,g=0,S;for(;w<d;){if(++g>250){c(new Error(`Found no marker after ${g} loops `));return}if(m.getUint8(w)!==255){c(new Error(`Not a valid marker at offset 0x${w.toString(16)}, found: 0x${m.getUint8(w).toString(16)}`));return}if(S=m.getUint8(w+1),f&&console.log(`Marker: ${S.toString(16)}`),S===226){f&&console.log("Found APP2 marker (0xffe2)");const p=w+4;if(m.getUint32(p)===1297106432){const v=p+4;let x;if(m.getUint16(v)===18761)x=!1;else if(m.getUint16(v)===19789)x=!0;else{c(new Error("No valid endianness marker found in TIFF header"));return}if(m.getUint16(v+2,!x)!==42){c(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const P=m.getUint32(v+4,!x);if(P<8){c(new Error("Not valid TIFF data! (First offset less than 8)"));return}const T=v+P,A=m.getUint16(T,!x),k=T+2;let R=0;for(let Q=k;Q<k+12*A;Q+=12)m.getUint16(Q,!x)===45057&&(R=m.getUint32(Q+8,!x));const B=T+2+A*12+4,Y=[];for(let Q=B;Q<B+R*16;Q+=16){const V={MPType:m.getUint32(Q,!x),size:m.getUint32(Q+4,!x),dataOffset:m.getUint32(Q+8,!x),dependantImages:m.getUint32(Q+12,!x),start:-1,end:-1,isFII:!1};V.dataOffset?(V.start=v+V.dataOffset,V.isFII=!1):(V.start=0,V.isFII=!0),V.end=V.start+V.size,Y.push(V)}if(this.options.extractNonFII&&Y.length){const Q=new Blob([m]),V=[];for(const ie of Y){if(ie.isFII&&!this.options.extractFII)continue;const G=Q.slice(ie.start,ie.end+1,"image/jpeg");V.push(G)}a(V)}}}w+=2+m.getUint16(w+2)}})}}const sh=async l=>{const i=oh(l);if(!i)throw new Dc("Gain map XMP metadata not found");const c=await new ah({extractFII:!0,extractNonFII:!0}).extract(l);if(c.length!==2)throw new jc("Gain map recovery image not found");return{sdr:new Uint8Array(await c[0].arrayBuffer()),gainMap:new Uint8Array(await c[1].arrayBuffer()),metadata:i}},Gu=l=>new Promise((i,a)=>{const c=document.createElement("img");c.onload=()=>{i(c)},c.onerror=f=>{a(f)},c.src=URL.createObjectURL(l)});class uh extends ld{constructor(a,c){super(c);et(this,"_renderer");et(this,"_renderTargetOptions");et(this,"_internalLoadingManager");et(this,"_config");this._config=a,a.renderer&&(this._renderer=a.renderer),this._internalLoadingManager=new od}setRenderer(a){return this._renderer=a,this}setRenderTargetOptions(a){return this._renderTargetOptions=a,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const a=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Kn,sdr:new Kn});return this._config.createQuadRenderer({width:16,height:16,type:At,colorSpace:va,material:a,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(a,c,f){const m=c?new Blob([c],{type:"image/jpeg"}):void 0,d=new Blob([a],{type:"image/jpeg"});let w,g,S=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([m?Gu(m):Promise.resolve(void 0),Gu(d)]);g=p[0],w=p[1],S=f==="flipY"}else{const p=await Promise.all([m?createImageBitmap(m,{imageOrientation:f||"flipY"}):Promise.resolve(void 0),createImageBitmap(d,{imageOrientation:f||"flipY"})]);g=p[0],w=p[1]}return{sdrImage:w,gainMapImage:g,needsFlip:S}}createTextures(a,c,f){const m=new Kn(c||new ImageData(2,2),Sl,Tn,Tn,Qt,pu,Sr,wl,1,va);m.flipY=f,m.needsUpdate=!0;const d=new Kn(a,Sl,Tn,Tn,Qt,pu,Sr,wl,1,ad);return d.flipY=f,d.needsUpdate=!0,{gainMap:m,sdr:d}}updateQuadRenderer(a,c,f,m,d){a.width=c.width,a.height=c.height,a.material.gainMap=f,a.material.sdr=m,a.material.gainMapMin=d.gainMapMin,a.material.gainMapMax=d.gainMapMax,a.material.offsetHdr=d.offsetHdr,a.material.offsetSdr=d.offsetSdr,a.material.gamma=d.gamma,a.material.hdrCapacityMin=d.hdrCapacityMin,a.material.hdrCapacityMax=d.hdrCapacityMax,a.material.maxDisplayBoost=Math.pow(2,d.hdrCapacityMax),a.material.needsUpdate=!0}}const ch=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,fh=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class dh extends ri{constructor({gamma:a,offsetHdr:c,offsetSdr:f,gainMapMin:m,gainMapMax:d,maxDisplayBoost:w,hdrCapacityMin:g,hdrCapacityMax:S,sdr:p,gainMap:v}){super({name:"GainMapDecoderMaterial",vertexShader:ch,fragmentShader:fh,uniforms:{sdr:{value:p},gainMap:{value:v},gamma:{value:new Xe(1/a[0],1/a[1],1/a[2])},offsetHdr:{value:new Xe().fromArray(c)},offsetSdr:{value:new Xe().fromArray(f)},gainMapMin:{value:new Xe().fromArray(m)},gainMapMax:{value:new Xe().fromArray(d)},weightFactor:{value:(Math.log2(w)-g)/(S-g)}},blending:sd,depthTest:!1,depthWrite:!1});et(this,"_maxDisplayBoost");et(this,"_hdrCapacityMin");et(this,"_hdrCapacityMax");this._maxDisplayBoost=w,this._hdrCapacityMin=g,this._hdrCapacityMax=S,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(a){this.uniforms.sdr.value=a}get gainMap(){return this.uniforms.gainMap.value}set gainMap(a){this.uniforms.gainMap.value=a}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(a){this.uniforms.offsetHdr.value.fromArray(a)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(a){this.uniforms.offsetSdr.value.fromArray(a)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(a){this.uniforms.gainMapMin.value.fromArray(a)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(a){this.uniforms.gainMapMax.value.fromArray(a)}get gamma(){const a=this.uniforms.gamma.value;return[1/a.x,1/a.y,1/a.z]}set gamma(a){const c=this.uniforms.gamma.value;c.x=1/a[0],c.y=1/a[1],c.z=1/a[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(a){this._hdrCapacityMin=a,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(a){this._hdrCapacityMax=a,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(a){this._maxDisplayBoost=Math.max(1,Math.min(65504,a)),this.calculateWeight()}calculateWeight(){const a=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,a))}}class Uc extends uh{constructor(i,a){super({renderer:i,createMaterial:c=>new dh(c),createQuadRenderer:c=>new ka(c)},a)}async render(i,a,c,f){const{sdrImage:m,gainMapImage:d,needsFlip:w}=await this.processImages(c,f,"flipY"),{gainMap:g,sdr:S}=this.createTextures(m,d,w);this.updateQuadRenderer(i,m,g,S,a),i.render()}}class ph extends Uc{load([i,a,c],f,m,d){const w=this.prepareQuadRenderer();let g,S,p;const v=async()=>{if(g&&S&&p){try{await this.render(w,p,g,S)}catch(U){this.manager.itemError(i),this.manager.itemError(a),this.manager.itemError(c),typeof d=="function"&&d(U),w.disposeOnDemandRenderer();return}typeof f=="function"&&f(w),this.manager.itemEnd(i),this.manager.itemEnd(a),this.manager.itemEnd(c),w.disposeOnDemandRenderer()}};let x=!0,P=0,T=0,A=!0,k=0,R=0,N=!0,B=0,Y=0;const Q=()=>{if(typeof m=="function"){const U=P+k+B,W=T+R+Y,H=x&&A&&N;m(new ProgressEvent("progress",{lengthComputable:H,loaded:W,total:U}))}};this.manager.itemStart(i),this.manager.itemStart(a),this.manager.itemStart(c);const V=new vl(this._internalLoadingManager);V.setResponseType("arraybuffer"),V.setRequestHeader(this.requestHeader),V.setPath(this.path),V.setWithCredentials(this.withCredentials),V.load(i,async U=>{if(typeof U=="string")throw new Error("Invalid sdr buffer");g=U,await v()},U=>{x=U.lengthComputable,T=U.loaded,P=U.total,Q()},U=>{this.manager.itemError(i),typeof d=="function"&&d(U)});const ie=new vl(this._internalLoadingManager);ie.setResponseType("arraybuffer"),ie.setRequestHeader(this.requestHeader),ie.setPath(this.path),ie.setWithCredentials(this.withCredentials),ie.load(a,async U=>{if(typeof U=="string")throw new Error("Invalid gainmap buffer");S=U,await v()},U=>{A=U.lengthComputable,R=U.loaded,k=U.total,Q()},U=>{this.manager.itemError(a),typeof d=="function"&&d(U)});const G=new vl(this._internalLoadingManager);return G.setRequestHeader(this.requestHeader),G.setPath(this.path),G.setWithCredentials(this.withCredentials),G.load(c,async U=>{if(typeof U!="string")throw new Error("Invalid metadata string");p=JSON.parse(U),await v()},U=>{N=U.lengthComputable,Y=U.loaded,B=U.total,Q()},U=>{this.manager.itemError(c),typeof d=="function"&&d(U)}),w}}class hh extends Uc{load(i,a,c,f){const m=this.prepareQuadRenderer(),d=new vl(this._internalLoadingManager);return d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(this.withCredentials),this.manager.itemStart(i),d.load(i,async w=>{if(typeof w=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const g=new Uint8Array(w);let S,p,v;try{const x=await sh(g);S=x.sdr,p=x.gainMap,v=x.metadata}catch(x){if(x instanceof Dc||x instanceof jc)console.warn(`Failure to reconstruct an HDR image from ${i}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),v={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},S=g;else throw x}try{await this.render(m,v,S.buffer,p==null?void 0:p.buffer)}catch(x){this.manager.itemError(i),typeof f=="function"&&f(x),m.disposeOnDemandRenderer();return}typeof a=="function"&&a(m),this.manager.itemEnd(i),m.disposeOnDemandRenderer()},c,w=>{this.manager.itemError(i),typeof f=="function"&&f(w)}),m}}const ni={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Bc="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",xr=l=>Array.isArray(l),Na=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function El({files:l=Na,path:i="",preset:a=void 0,encoding:c=void 0,extensions:f}={}){let m=null,d=!1;a&&(Ta(a),l=ni[a],i=Bc),d=xr(l);const{extension:w,isCubemap:g}=za(l);if(m=La(w),!m)throw new Error("useEnvironment: Unrecognized file extension: "+l);const S=un(P=>P.gl);C.useLayoutEffect(()=>{if(w!=="webp"&&w!=="jpg"&&w!=="jpeg")return;function P(){_r.clear(m,d?[l]:l)}S.domElement.addEventListener("webglcontextlost",P,{once:!0})},[l,S.domElement]);const p=_r(m,d?[l]:l,P=>{(w==="webp"||w==="jpg"||w==="jpeg")&&P.setRenderer(S),P.setPath==null||P.setPath(i),f&&f(P)});let v=d?p[0]:p;if(w==="jpg"||w==="jpeg"||w==="webp"){var x;v=(x=v.renderTarget)==null?void 0:x.texture}return v.mapping=g?ud:cd,"colorSpace"in v?v.colorSpace=c??g?"srgb":"srgb-linear":v.encoding=c??g?nh:th,v}const mh={files:Na,path:"",preset:void 0,extensions:void 0};El.preload=l=>{const i={...mh,...l};let{files:a,path:c=""}=i;const{preset:f,extensions:m}=i;f&&(Ta(f),a=ni[f],c=Bc);const{extension:d}=za(a);if(d==="webp"||d==="jpg"||d==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const w=La(d);if(!w)throw new Error("useEnvironment: Unrecognized file extension: "+a);_r.preload(w,xr(a)?[a]:a,g=>{g.setPath==null||g.setPath(c),m&&m(g)})};const vh={files:Na,preset:void 0};El.clear=l=>{const i={...vh,...l};let{files:a}=i;const{preset:c}=i;c&&(Ta(c),a=ni[c]);const{extension:f}=za(a),m=La(f);if(!m)throw new Error("useEnvironment: Unrecognized file extension: "+a);_r.clear(m,xr(a)?[a]:a)};function Ta(l){if(!(l in ni))throw new Error("Preset must be one of: "+Object.keys(ni).join(", "))}function za(l){var i;const a=xr(l)&&l.length===6,c=xr(l)&&l.length===3&&l.some(d=>d.endsWith("json")),f=xr(l)?l[0]:l;return{extension:a?"cube":c?"webp":f.startsWith("data:application/exr")?"exr":f.startsWith("data:application/hdr")?"hdr":f.startsWith("data:image/jpeg")?"jpg":(i=f.split(".").pop())==null||(i=i.split("?"))==null||(i=i.shift())==null?void 0:i.toLowerCase(),isCubemap:a,isGainmap:c}}function La(l){return l==="cube"?fd:l==="hdr"?Qp:l==="exr"?Yp:l==="jpg"||l==="jpeg"?hh:l==="webp"?ph:null}const gh=l=>l.current&&l.current.isScene,yh=l=>gh(l)?l.current:l;function Oa(l,i,a,c,f={}){var m,d,w,g,S;f={backgroundBlurriness:(m=f.blur)!==null&&m!==void 0?m:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...f};const p=yh(i||a),v=p.background,x=p.environment,P={backgroundBlurriness:p.backgroundBlurriness,backgroundIntensity:p.backgroundIntensity,backgroundRotation:(d=(w=p.backgroundRotation)==null||w.clone==null?void 0:w.clone())!==null&&d!==void 0?d:[0,0,0],environmentIntensity:p.environmentIntensity,environmentRotation:(g=(S=p.environmentRotation)==null||S.clone==null?void 0:S.clone())!==null&&g!==void 0?g:[0,0,0]};return l!=="only"&&(p.environment=c),l&&(p.background=c),kn(p,f),()=>{l!=="only"&&(p.environment=x),l&&(p.background=v),kn(p,P)}}function Aa({scene:l,background:i=!1,map:a,...c}){const f=un(m=>m.scene);return C.useLayoutEffect(()=>{if(a)return Oa(i,l,f,a,c)}),null}function Hc({background:l=!1,scene:i,blur:a,backgroundBlurriness:c,backgroundIntensity:f,backgroundRotation:m,environmentIntensity:d,environmentRotation:w,...g}){const S=El(g),p=un(v=>v.scene);return C.useLayoutEffect(()=>Oa(l,i,p,S,{blur:a,backgroundBlurriness:c,backgroundIntensity:f,backgroundRotation:m,environmentIntensity:d,environmentRotation:w})),null}function wh({children:l,near:i=1,far:a=1e3,resolution:c=256,frames:f=1,map:m,background:d=!1,blur:w,backgroundBlurriness:g,backgroundIntensity:S,backgroundRotation:p,environmentIntensity:v,environmentRotation:x,scene:P,files:T,path:A,preset:k=void 0,extensions:R}){const N=un(G=>G.gl),B=un(G=>G.scene),Y=C.useRef(null),[Q]=C.useState(()=>new yl),V=C.useMemo(()=>{const G=new dd(c);return G.texture.type=At,G},[c]);C.useLayoutEffect(()=>(f===1&&Y.current.update(N,Q),Oa(d,P,B,V.texture,{blur:w,backgroundBlurriness:g,backgroundIntensity:S,backgroundRotation:p,environmentIntensity:v,environmentRotation:x})),[l,Q,V.texture,P,B,d,f,N]);let ie=1;return gn(()=>{(f===1/0||ie<f)&&(Y.current.update(N,Q),ie++)}),C.createElement(C.Fragment,null,tp(C.createElement(C.Fragment,null,l,C.createElement("cubeCamera",{ref:Y,args:[i,a,V]}),T||k?C.createElement(Hc,{background:!0,files:T,preset:k,path:A,extensions:R}):m?C.createElement(Aa,{background:!0,map:m,extensions:R}):null),Q))}function xh(l){var i,a,c,f;const m=El(l),d=l.map||m;C.useMemo(()=>Ra({GroundProjectedEnvImpl:Zp}),[]);const w=C.useMemo(()=>[d],[d]),g=(i=l.ground)==null?void 0:i.height,S=(a=l.ground)==null?void 0:a.radius,p=(c=(f=l.ground)==null?void 0:f.scale)!==null&&c!==void 0?c:1e3;return C.createElement(C.Fragment,null,C.createElement(Aa,$n({},l,{map:d})),C.createElement("groundProjectedEnvImpl",{args:w,scale:p,height:g,radius:S}))}function Sh(l){return l.ground?C.createElement(xh,l):l.map?C.createElement(Aa,l):l.children?C.createElement(wh,l):C.createElement(Hc,l)}class _h extends ri{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Oc>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Eh=l=>new Xe().setFromSpherical(new pd(l,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Wu=C.forwardRef(({radius:l=100,depth:i=50,count:a=5e3,saturation:c=0,factor:f=4,fade:m=!1,speed:d=1},w)=>{const g=C.useRef(),[S,p,v]=C.useMemo(()=>{const P=[],T=[],A=Array.from({length:a},()=>(.5+.5*Math.random())*f),k=new xl;let R=l+i;const N=i/a;for(let B=0;B<a;B++)R-=N*Math.random(),P.push(...Eh(R).toArray()),k.setHSL(B/a,c,.9),T.push(k.r,k.g,k.b);return[new Float32Array(P),new Float32Array(T),new Float32Array(A)]},[a,i,f,l,c]);gn(P=>g.current&&(g.current.uniforms.time.value=P.clock.getElapsedTime()*d));const[x]=C.useState(()=>new _h);return C.createElement("points",{ref:w},C.createElement("bufferGeometry",null,C.createElement("bufferAttribute",{attach:"attributes-position",args:[S,3]}),C.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3]}),C.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),C.createElement("primitive",{ref:g,object:x,attach:"material",blending:br,"uniforms-fade-value":m,depthWrite:!1,transparent:!0,vertexColors:!0}))}),Mh=l=>{const i=new hd,a=l/1.8;return i.moveTo(0,a),i.quadraticCurveTo(0,0,a,0),i.quadraticCurveTo(0,0,0,-a),i.quadraticCurveTo(0,0,-a,0),i.quadraticCurveTo(0,0,0,a),i},Vu=Mh(an),ha={depth:an*.4,bevelEnabled:!0,bevelThickness:.05,bevelSize:.05,bevelSegments:3},Rh=({data:l,timeSinceHit:i,color:a})=>{const c=C.useRef(null),f=C.useRef(null),m=6,d=10,w=m*i;gn(()=>{if(c.current&&c.current.scale.setScalar(Math.max(.01,1-i*1.5)),f.current)if(i<.15){const p=i/.15;f.current.visible=!0,f.current.scale.setScalar(1+p*4),f.current.material.opacity=1-p}else f.current.visible=!1});const g=({offsetDir:S,moveDir:p,scale:v=1})=>{const x=C.useRef(null);return gn(()=>{x.current&&(x.current.position.x=S[0]+p[0]*w,x.current.position.y=S[1]+p[1]*w,x.current.position.z=S[2]+p[2]*w,x.current.rotation.x+=p[1]*.1*d,x.current.rotation.y+=p[0]*.1*d)}),I.jsx(rh,{ref:x,args:[an*.3*v],position:[S[0],S[1],S[2]],children:I.jsx("meshStandardMaterial",{color:a,roughness:.1,metalness:.9,emissive:a,emissiveIntensity:.5})})};return I.jsxs("group",{ref:c,children:[I.jsxs("mesh",{ref:f,children:[I.jsx("sphereGeometry",{args:[an*1.2,16,16]}),I.jsx("meshBasicMaterial",{color:"white",transparent:!0,toneMapped:!1})]}),I.jsx(g,{offsetDir:[0,.2,0],moveDir:[0,1.5,-.5],scale:.8}),I.jsx(g,{offsetDir:[.2,0,0],moveDir:[1.5,0,-.5],scale:.8}),I.jsx(g,{offsetDir:[0,-.2,0],moveDir:[0,-1.5,-.5],scale:.8}),I.jsx(g,{offsetDir:[-.2,0,0],moveDir:[-1.5,0,-.5],scale:.8}),I.jsx(g,{offsetDir:[.1,.1,.1],moveDir:[1,1,1],scale:.5}),I.jsx(g,{offsetDir:[-.1,-.1,-.1],moveDir:[-1,-1,1],scale:.5})]})},Ch=({data:l,zPos:i,currentTime:a})=>{const c=l.type==="left"?bn.left:bn.right,f=C.useMemo(()=>[Ec[l.lineIndex],Mc[l.lineLayer],i],[l.lineIndex,l.lineLayer,i]);return l.missed?null:l.hit&&l.hitTime?I.jsx("group",{position:f,children:I.jsx(Rh,{data:l,timeSinceHit:a-l.hitTime,color:c})}):l.requiresGrip?I.jsxs("group",{position:f,children:[I.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[I.jsx("sphereGeometry",{args:[an*.7,32,32]}),I.jsx("meshPhysicalMaterial",{color:"#ffffff",emissive:c,emissiveIntensity:2,roughness:.1,metalness:.8,transmission:.5,thickness:1})]}),I.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[I.jsx("torusGeometry",{args:[an*.9,.05,16,64]}),I.jsx("meshStandardMaterial",{color:c,emissive:c,emissiveIntensity:5,toneMapped:!1})]}),I.jsx("pointLight",{color:c,intensity:2,distance:2})]}):I.jsxs("group",{position:f,children:[I.jsx("group",{rotation:[0,0,0],children:I.jsx("group",{position:[0,0,-an*.2],children:I.jsx(ih,{args:[Vu,ha],castShadow:!0,receiveShadow:!0,children:I.jsx("meshPhysicalMaterial",{color:c,roughness:.2,metalness:.1,transmission:.1,thickness:.5,emissive:c,emissiveIntensity:.8})})})}),I.jsxs("mesh",{position:[0,0,an*.1],children:[I.jsx("octahedronGeometry",{args:[an*.2,0]}),I.jsx("meshBasicMaterial",{color:"white",toneMapped:!1,transparent:!0,opacity:.8})]}),I.jsx("group",{position:[0,0,-an*.2],children:I.jsxs("mesh",{children:[I.jsx("extrudeGeometry",{args:[Vu,{...ha,depth:ha.depth*1.1}]}),I.jsx("meshBasicMaterial",{color:c,wireframe:!0,transparent:!0,opacity:.3})]})})]})},Ih=nc.memo(Ch,(l,i)=>i.data.hit?!1:l.zPos===i.zPos&&l.data.hit===i.data.hit&&l.data.missed===i.data.missed),Zu=({type:l,positionRef:i,velocityRef:a,isGrippingRef:c})=>{const f=C.useRef(null),m=C.useRef(null),d=C.useRef(null),w=C.useRef(null),g=C.useRef(null),S=C.useRef(null),p=1,v=C.useRef(new md);gn((T,A)=>{if(!f.current)return;const k=i.current,R=a.current,N=c.current,B=T.clock.elapsedTime;if(k){f.current.visible=!0,f.current.position.lerp(k,.5);const Y=-Math.PI/3.5,Q=0,V=l==="left"?.2:-.2;let ie=0,G=0,U=0;R&&(ie=R.y*.05,U=-R.x*.05,ie+=R.z*.02),v.current.set(Y+ie,Q+G,V+U),f.current.rotation.x=Vt.lerp(f.current.rotation.x,v.current.x,.2),f.current.rotation.y=Vt.lerp(f.current.rotation.y,v.current.y,.2),f.current.rotation.z=Vt.lerp(f.current.rotation.z,v.current.z,.2);const W=10*A,H=N?8:2,$=N?6:3;g.current&&(g.current.intensity=Vt.lerp(g.current.intensity,H,W),g.current.distance=Vt.lerp(g.current.distance,$,W));const ce=N?(Math.random()-.5)*.05:0,se=N?Math.sin(B*30)*.2:0,Se=N?1.8:1;if(m.current){const re=Vt.lerp(m.current.scale.x,Se+se,W);m.current.scale.set(re,1,re),m.current.position.x=ce,m.current.position.z=ce,m.current.material.color.set(N?"#ffffff":"white")}if(d.current){const re=N?1.5:1,we=Vt.lerp(d.current.scale.x,re,W);d.current.scale.set(we,1,we)}if(S.current){const re=N?1.2:0,we=S.current.scale.x,X=Vt.lerp(we,re,W);S.current.scale.setScalar(X),S.current.rotation.x+=A,S.current.rotation.z-=A*2}if(w.current){const re=N?.5+Math.random()*.2:.05,we=N?3:1.2,X=Vt.lerp(w.current.scale.x,we,W);w.current.scale.set(X,1,X),w.current.material.opacity=Vt.lerp(w.current.material.opacity,re,W)}}else f.current.visible=!1});const x=l==="left"?bn.left:bn.right,P=l==="left"?"#93c5fd":"#fca5a5";return I.jsxs("group",{ref:f,children:[I.jsxs("mesh",{position:[0,-.06,0],children:[I.jsx("cylinderGeometry",{args:[.02,.02,.12,16]}),I.jsx("meshStandardMaterial",{color:"#1a1a1a",roughness:.6,metalness:.8})]}),I.jsxs("mesh",{position:[0,-.13,0],children:[I.jsx("cylinderGeometry",{args:[.025,.025,.02,16]}),I.jsx("meshStandardMaterial",{color:"#888",roughness:.3,metalness:1})]}),I.jsxs("mesh",{position:[0,-.08,0],children:[I.jsx("torusGeometry",{args:[.021,.002,8,24]}),I.jsx("meshStandardMaterial",{color:"#aaa",roughness:.2,metalness:1})]}),I.jsxs("mesh",{position:[0,-.04,0],children:[I.jsx("torusGeometry",{args:[.021,.002,8,24]}),I.jsx("meshStandardMaterial",{color:"#aaa",roughness:.2,metalness:1})]}),I.jsxs("mesh",{position:[0,.01,0],children:[I.jsx("cylinderGeometry",{args:[.035,.025,.05,16]}),I.jsx("meshStandardMaterial",{color:"#C0C0C0",roughness:.2,metalness:1})]}),I.jsxs("mesh",{position:[0,.036,0],rotation:[Math.PI/2,0,0],children:[I.jsx("ringGeometry",{args:[.015,.03,32]}),I.jsx("meshBasicMaterial",{color:x,toneMapped:!1,side:$u})]}),I.jsxs("mesh",{ref:m,position:[0,.05+p/2,0],children:[I.jsx("cylinderGeometry",{args:[.008,.008,p,12]}),I.jsx("meshBasicMaterial",{color:"white",toneMapped:!1})]}),I.jsxs("mesh",{ref:d,position:[0,.05+p/2,0],children:[I.jsx("capsuleGeometry",{args:[.02,p,16,32]}),I.jsx("meshBasicMaterial",{color:x,toneMapped:!1,transparent:!0,opacity:.6,blending:br,depthWrite:!1})]}),I.jsxs("mesh",{ref:w,position:[0,.05+p/2,0],children:[I.jsx("capsuleGeometry",{args:[.035,p*1.05,16,32]}),I.jsx("meshBasicMaterial",{color:x,toneMapped:!1,transparent:!0,opacity:.1,blending:br,depthWrite:!1})]}),I.jsxs("group",{ref:S,position:[0,.05+p/2,0],children:[I.jsxs("mesh",{position:[0,0,0],scale:[.5,2,.5],children:[I.jsx("icosahedronGeometry",{args:[.08,0]}),I.jsx("meshBasicMaterial",{color:P,toneMapped:!1,transparent:!0,opacity:.4,blending:br,wireframe:!0})]}),I.jsxs("mesh",{position:[0,-.2,0],scale:[.6,1,.6],children:[I.jsx("icosahedronGeometry",{args:[.1,0]}),I.jsx("meshBasicMaterial",{color:P,toneMapped:!1,transparent:!0,opacity:.2,blending:br})]})]}),I.jsx("pointLight",{ref:g,color:x,intensity:2,distance:3,decay:2,position:[0,.5,0]})]})},Qu=60/Rc,Ph=({gameStatus:l,audioRef:i,handPositionsRef:a,chart:c,onNoteHit:f,onNoteMiss:m,onSongEnd:d})=>{const[w,g]=C.useState(c),[S,p]=C.useState(0),v=C.useRef([]),x=C.useRef(0),P=C.useRef(0),T=C.useRef(null),A=C.useRef(null),k=C.useRef(null),R=C.useMemo(()=>new Xe,[]),N=C.useMemo(()=>new Xe,[]),B=(H,$)=>{P.current=$?.3:.15,f(H,$)};gn((H,$)=>{if(i.current&&l===mt.PLAYING){const we=i.current.currentTime%Qu/Qu,X=Math.pow(1-we,4);A.current&&(A.current.intensity=.1+X*.3),k.current&&(k.current.intensity=.5+X*1.5)}if(P.current>0&&T.current){const re=P.current;T.current.position.x=(Math.random()-.5)*re,T.current.position.y=1.8+(Math.random()-.5)*re,T.current.position.z=4+(Math.random()-.5)*re,P.current=Vt.lerp(P.current,0,10*$),P.current<.01&&(P.current=0,T.current.position.set(0,1.8,4))}if(l!==mt.PLAYING||!i.current)return;const ce=i.current.currentTime;if(p(ce),i.current.ended){d();return}const se=Math.abs(_p-qr)/fa;for(;x.current<w.length;){const re=w[x.current];if(re.time-se<=ce)v.current.push(re),x.current++;else break}const Se=a.current;for(let re=v.current.length-1;re>=0;re--){const we=v.current[re];if(we.hit||we.missed)continue;const X=we.time-ce,ae=qr-X*fa;if(ae>Ep){we.missed=!0,m(we),v.current.splice(re,1);continue}if(ae>qr-1.5&&ae<qr+1){const q=we.type==="left"?Se.left:Se.right,pe=we.type==="left"?Se.leftVelocity:Se.rightVelocity;if(q){const me=R.set(Ec[we.lineIndex],Mc[we.lineLayer],ae);if(q.distanceTo(me)<.8){let xe=!0;if(pe.length()<.1)continue;const tt=we.type==="left"?Se.leftGripping:Se.rightGripping;if(we.requiresGrip){if(!tt)continue}else tt&&(xe=!1);if(we.cutDirection!==Nn.ANY){const Pe=Ip[we.cutDirection];N.copy(pe).normalize(),N.dot(Pe)<.3&&(xe=!1)}we.hit=!0,we.hitTime=ce,B(we,xe),v.current.splice(re,1)}}}}});const Y=C.useMemo(()=>w.filter(H=>!H.missed&&(!H.hit||S-(H.hitTime||0)<.5)&&H.time-S<5&&H.time-S>-2),[w,S]),Q=C.useRef(null),V=C.useRef(null),ie=C.useRef(null),G=C.useRef(null),U=C.useRef(!1),W=C.useRef(!1);return gn(()=>{Q.current=a.current.left,V.current=a.current.right,ie.current=a.current.leftVelocity,G.current=a.current.rightVelocity,U.current=a.current.leftGripping,W.current=a.current.rightGripping}),I.jsxs(I.Fragment,{children:[I.jsx(bp,{ref:T,makeDefault:!0,position:[0,1.8,4],fov:60}),I.jsx("color",{attach:"background",args:["#050505"]}),I.jsx("fog",{attach:"fog",args:["#050505",10,50]}),I.jsx("ambientLight",{ref:A,intensity:.2}),I.jsx("spotLight",{ref:k,position:[0,10,5],angle:.5,penumbra:1,intensity:1,castShadow:!0}),I.jsx(Sh,{preset:"night"}),I.jsx(eh,{position:[0,0,0],args:[6,100],cellThickness:.1,cellColor:"#333",sectionSize:5,sectionThickness:1.5,sectionColor:bn.right,fadeDistance:60,infiniteGrid:!0}),I.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.01,0],children:[I.jsx("planeGeometry",{args:[4,100]}),I.jsx("meshStandardMaterial",{color:"#111",roughness:.8,metalness:.5})]}),I.jsx(Wu,{radius:100,depth:20,count:5e3,factor:4,saturation:1,fade:!0,speed:2}),I.jsx("group",{rotation:[0,0,Math.PI/4],children:I.jsx(Wu,{radius:150,depth:50,count:2e3,factor:2,saturation:0,fade:!0,speed:.5})}),I.jsx(Zu,{type:"left",positionRef:Q,velocityRef:ie,isGrippingRef:U}),I.jsx(Zu,{type:"right",positionRef:V,velocityRef:G,isGrippingRef:W}),Y.map(H=>I.jsx(Ih,{data:H,zPos:qr-(H.time-S)*fa,currentTime:S},H.id))]})},kh=[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20],[5,9],[9,13],[13,17],[0,5],[0,17]],Nh=({videoRef:l,resultsRef:i,isCameraReady:a})=>{const c=C.useRef(null);return C.useEffect(()=>{if(!a)return;let f;const m=()=>{const d=c.current,w=l.current;if(d&&w&&w.readyState>=2){const g=d.getContext("2d");if(g&&(d.width!==w.videoWidth&&(d.width=w.videoWidth),d.height!==w.videoHeight&&(d.height=w.videoHeight),g.clearRect(0,0,d.width,d.height),g.save(),g.scale(-1,1),g.translate(-d.width,0),g.globalAlpha=.8,g.drawImage(w,0,0,d.width,d.height),g.restore(),g.globalAlpha=1,i.current&&i.current.landmarks))for(let S=0;S<i.current.landmarks.length;S++){const p=i.current.landmarks[S];if(!i.current.handedness||!i.current.handedness[S]||!i.current.handedness[S][0])continue;const T=i.current.handedness[S][0].categoryName==="Right"?bn.right:bn.left,A=Cc(p),k=A==="FIST";g.strokeStyle=T,g.fillStyle=T,g.lineWidth=k?6:3,g.beginPath();for(const[Y,Q]of kh){const V=p[Y],ie=p[Q];g.moveTo((1-V.x)*d.width,V.y*d.height),g.lineTo((1-ie.x)*d.width,ie.y*d.height)}g.stroke();for(const Y of p)g.beginPath(),g.arc((1-Y.x)*d.width,Y.y*d.height,4,0,2*Math.PI),g.fill();const R=p[8];g.beginPath(),g.fillStyle="white",g.arc((1-R.x)*d.width,R.y*d.height,7,0,2*Math.PI),g.fill(),g.font="bold 16px monospace",g.fillStyle="white",g.strokeStyle="black",g.lineWidth=3;const N=(1-p[0].x)*d.width,B=p[0].y*d.height;k?(g.font="bold 24px monospace",g.strokeText(A,N-30,B-20),g.fillText(A,N-30,B-20)):(g.strokeText(A,N-20,B-10),g.fillText(A,N-20,B-10))}}f=requestAnimationFrame(m)};return m(),()=>{f&&cancelAnimationFrame(f)}},[a,l,i]),a?I.jsxs("div",{className:"fixed bottom-4 right-4 w-64 h-48 bg-black/60 border-2 border-blue-500/30 rounded-xl overflow-hidden backdrop-blur-md z-50 shadow-[0_0_20px_rgba(0,0,0,0.5)] pointer-events-none transition-opacity duration-500",children:[I.jsx("div",{className:"absolute top-0 left-0 right-0 bg-black/40 text-[10px] text-blue-300/70 px-2 py-1 font-mono uppercase tracking-widest",children:""}),I.jsx("canvas",{ref:c,className:"w-full h-full object-cover mt-4"})]}):null};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gc=(...l)=>l.filter((i,a,c)=>!!i&&c.indexOf(i)===a).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=C.forwardRef(({color:l="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:f="",children:m,iconNode:d,...w},g)=>C.createElement("svg",{ref:g,...zh,width:i,height:i,stroke:l,strokeWidth:c?Number(a)*24/Number(i):a,className:Gc("lucide",f),...w},[...d.map(([S,p])=>C.createElement(S,p)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=(l,i)=>{const a=C.forwardRef(({className:c,...f},m)=>C.createElement(Lh,{ref:m,iconNode:i,className:Gc(`lucide-${Th(l)}`,c),...f}));return a.displayName=`${l}`,a};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ln("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Ln("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ln("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Ln("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ln("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Ln("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Ln("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Ln("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ma="v1.2.7",Gh=()=>{const[l,i]=C.useState(mt.LOADING),[a,c]=C.useState(0),[f,m]=C.useState(0),[d,w]=C.useState(1),[g,S]=C.useState(100),[p,v]=C.useState(null),x=C.useRef(new Audio(Mp)),P=C.useRef(null),[T,A]=C.useState(""),{isCameraReady:k,cameras:R,handPositionsRef:N,lastResultsRef:B,error:Y}=Np(P,T);C.useEffect(()=>{const W=H=>{H.preventDefault(),v(H)};return window.addEventListener("beforeinstallprompt",W),()=>window.removeEventListener("beforeinstallprompt",W)},[]);const Q=async()=>{if(!p)return;p.prompt();const{outcome:W}=await p.userChoice;W==="accepted"&&v(null)},V=C.useCallback((W,H)=>{if(H){let $=150;navigator.vibrate&&navigator.vibrate(40),m(ce=>{const se=ce+1;return se>30?w(8):se>20?w(4):se>10?w(2):w(1),se}),c(ce=>ce+$*d),S(ce=>Math.min(100,ce+2))}else m(0),w(1),c($=>Math.max(0,$-50)),S($=>Math.max(0,$-5)),navigator.vibrate&&navigator.vibrate(20)},[d]),ie=C.useCallback(W=>{m(0),w(1),c(H=>Math.max(0,H-50)),S(H=>{const $=H-15;return $<=0?(setTimeout(()=>U(!1),0),0):$})},[]),G=async()=>{if(k){c(0),m(0),w(1),S(100),Hu.forEach(W=>{W.hit=!1,W.missed=!1});try{x.current&&(x.current.currentTime=0,await x.current.play(),i(mt.PLAYING))}catch(W){console.error("Audio play failed",W),alert("")}}},U=W=>{i(W?mt.VICTORY:mt.GAME_OVER),x.current&&x.current.pause()};return C.useEffect(()=>{l===mt.LOADING&&k&&i(mt.IDLE)},[k,l]),I.jsxs("div",{className:"relative w-full h-screen bg-black overflow-hidden font-sans",children:[I.jsx("video",{ref:P,className:"absolute opacity-0 pointer-events-none",playsInline:!0,muted:!0,autoPlay:!0,style:{width:"640px",height:"480px"}}),I.jsx(Sp,{shadows:!0,dpr:[1,2],children:l!==mt.LOADING&&I.jsx(Ph,{gameStatus:l,audioRef:x,handPositionsRef:N,chart:Hu,onNoteHit:V,onNoteMiss:ie,onSongEnd:()=>U(!0)})}),I.jsx(Nh,{videoRef:P,resultsRef:B,isCameraReady:k}),I.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between p-6 z-10",children:[I.jsxs("div",{className:"flex items-start text-white w-full",children:[I.jsx("div",{className:"w-1/3",children:I.jsxs("div",{className:"max-w-xs",children:[I.jsx("div",{className:"h-4 bg-gray-800 rounded-full overflow-hidden border-2 border-gray-700",children:I.jsx("div",{className:`h-full transition-all duration-300 ease-out ${g>50?"bg-green-500":g>20?"bg-yellow-500":"bg-red-600"}`,style:{width:`${g}%`}})}),I.jsx("p",{className:"text-xs mt-1 opacity-70",children:" (HP)"})]})}),I.jsxs("div",{className:"w-1/3 flex flex-col items-center",children:[I.jsx("h1",{className:"text-5xl font-bold tracking-wider drop-shadow-[0_0_10px_rgba(59,130,246,0.8)]",children:a.toLocaleString()}),I.jsxs("div",{className:"mt-2 flex flex-col items-center",children:[I.jsxs("p",{className:`text-2xl font-bold ${f>10?"text-blue-400 scale-110":"text-gray-300"} transition-all`,children:[f,"  (COMBO)"]}),d>1&&I.jsxs("span",{className:"text-sm px-2 py-1 bg-blue-900 rounded-full mt-1 animate-pulse",children:[d,"x "]})]})]}),I.jsx("div",{className:"w-1/3"})]}),I.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-auto",children:[l===mt.LOADING&&I.jsxs("div",{className:"bg-black/80 p-10 rounded-2xl flex flex-col items-center border border-blue-900/50 backdrop-blur-md",children:[I.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mb-6"}),I.jsx("h2",{className:"text-2xl text-white font-bold mb-2",children:" AI "}),I.jsx("p",{className:"text-blue-300",children:"..."}),Y&&I.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[I.jsx("p",{className:"text-red-500 max-w-xs text-center text-sm",children:Y}),I.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-sm transition-all",children:[I.jsx(Dh,{size:16})," "]})]}),I.jsxs("p",{className:"mt-8 text-white/20 text-xs",children:["",ma]})]}),l===mt.IDLE&&I.jsxs("div",{className:"bg-black/80 p-12 rounded-3xl text-center border-2 border-blue-500/30 backdrop-blur-xl max-w-lg",children:[I.jsx("div",{className:"mb-6 flex justify-center",children:I.jsx(Bh,{className:"w-16 h-16 text-blue-400"})}),I.jsxs("h1",{className:"text-7xl font-black text-white mb-6 tracking-tighter italic drop-shadow-[0_0_30px_rgba(59,130,246,0.6)]",children:["TEMPO ",I.jsx("span",{className:"text-blue-500",children:"STRIKE"})]}),I.jsxs("div",{className:"space-y-4 text-gray-300 mb-8",children:[I.jsxs("p",{className:"flex items-center justify-center gap-2",children:[I.jsx(Ah,{className:"w-5 h-5 text-blue-400"}),I.jsx("span",{children:" 1.5 "})]}),I.jsxs("p",{children:[" ",I.jsx("span",{className:"text-blue-500 font-bold",children:""}),"  ",I.jsx("span",{className:"text-red-500 font-bold",children:""})," "]}),I.jsx("p",{className:"text-yellow-400 font-bold",children:""}),I.jsx("p",{children:""})]}),I.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[k?I.jsxs("div",{className:"flex flex-col items-center gap-6",children:[I.jsxs("button",{onClick:G,className:"px-12 py-6 bg-gradient-to-r from-red-600 to-red-400 hover:from-red-500 hover:to-red-300 text-white rounded-full font-bold text-3xl shadow-[0_0_30px_rgba(239,68,68,0.5)] transform hover:scale-105 transition-all flex items-center gap-4 pointer-events-auto",children:[I.jsx(Fh,{fill:"currentColor",size:32}),"START GAME"]}),I.jsxs("div",{className:"flex flex-col items-center gap-2 bg-white/10 p-4 rounded-2xl backdrop-blur-md border border-white/20 min-h-[100px] justify-center",children:[I.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm mb-1",children:[I.jsx(Uh,{size:16,className:R.length===0?"animate-spin":""}),I.jsx("span",{children:R.length>0?" ()":"..."})]}),I.jsxs("select",{value:T,onChange:W=>A(W.target.value),className:"bg-black/40 text-white border-none rounded-lg px-4 py-2 outline-none focus:ring-2 focus:ring-red-500 cursor-pointer pointer-events-auto min-w-[200px]",children:[I.jsx("option",{value:"",children:""}),R.map(W=>I.jsxs("option",{value:W.deviceId,children:[W.label||`Camera ${W.deviceId.slice(0,5)}`,W.label.toLowerCase().includes("fov")||W.label.toLowerCase().includes("external")?" ()":""]},W.deviceId))]})]})]}):I.jsxs("div",{className:"flex flex-col items-center gap-4",children:[I.jsxs("div",{className:"flex items-center justify-center text-red-400 gap-2 bg-red-900/20 p-4 rounded-lg",children:[I.jsx(Hh,{})," "]}),I.jsx("p",{className:"text-gray-400 text-sm",children:""}),I.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full text-sm transition-all",children:""})]}),p&&I.jsxs("button",{onClick:Q,className:"text-blue-300 hover:text-white hover:bg-white/10 text-sm py-2 px-6 rounded-full transition-colors flex items-center gap-2",children:[I.jsx(Oh,{size:16})," "]})]}),I.jsxs("div",{className:"text-white/30 text-sm text-center mt-8",children:[" ",ma]})]}),(l===mt.GAME_OVER||l===mt.VICTORY)&&I.jsxs("div",{className:"bg-black/90 p-12 rounded-3xl text-center border-2 border-white/10 backdrop-blur-xl",children:[I.jsx("h2",{className:`text-6xl font-bold mb-4 ${l===mt.VICTORY?"text-green-400":"text-red-500"}`,children:l===mt.VICTORY?"":""}),I.jsxs("p",{className:"text-white text-3xl mb-8",children:[": ",a.toLocaleString()]}),I.jsxs("button",{onClick:()=>i(mt.IDLE),className:"bg-white/10 hover:bg-white/20 text-white text-xl py-3 px-8 rounded-full flex items-center justify-center mx-auto gap-2 transition-colors",children:[I.jsx(jh,{})," "]})]})]}),I.jsxs("div",{className:"absolute bottom-4 left-4 text-white/20 text-[10px] pointer-events-none",children:[ma," | Secure Context: ",window.isSecureContext?"Yes":"No"]})]})]})},Wc=document.getElementById("root");if(!Wc)throw new Error("Could not find root element to mount to");const Yu=document.getElementById("loading-text");Yu&&(Yu.style.display="none");_d.createRoot(Wc).render(I.jsx(nc.StrictMode,{children:I.jsx(Gh,{})}));
